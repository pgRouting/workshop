<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>2. Pedestrian Routing &#8212; Workshop - FOSS4G 2023 Prizren - Routing with pgRouting</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css?v=4468db6d" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=fa3951f0" />
    <script src="../_static/documentation_options.js?v=5f6f5212"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="icon" href="../_static/favicon.ico"/>
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="3. Vehicle Routing" href="vehicle.html" />
    <link rel="prev" title="1. Prepare Data" href="data.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="../_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          Workshop FOSS4G Prizren</a>
        <span class="navbar-text navbar-version pull-left"><b>2.9</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Chapters <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../general-intro/introduction.html">1. Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../general-intro/introduction.html#basic">1.1. Basic</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general-intro/introduction.html#advanced">1.2. Advanced</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general-intro/introduction.html#aknowledments">1.3. Aknowledments</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general-intro/introduction.html#become-a-sponsor">1.4. Become a sponsor</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../general-intro/osgeolive.html">2. OSGeoLive Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../general-intro/osgeolive.html#install-virtualbox">2.1. Install VirtualBox.</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general-intro/osgeolive.html#osgeolive-on-a-virtualbox">2.2. OSGeoLive on a VirtualBox</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general-intro/osgeolive.html#ubuntu-installation">2.3. Ubuntu installation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../general-intro/overview.html">3. Software and Data Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../general-intro/overview.html#pgrouting-overview">3.1. pgRouting Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general-intro/overview.html#osm2pgrouting-overview">3.2. osm2pgrouting Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general-intro/overview.html#openstreetmap-overview">3.3. OpenStreetMap Overview</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="data.html">1. Prepare Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="data.html#prepare-the-database">1.1. Prepare the database</a></li>
<li class="toctree-l2"><a class="reference internal" href="data.html#get-the-workshop-data">1.2. Get the Workshop Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="data.html#upload-data-to-the-database">1.3. Upload data to the database</a></li>
<li class="toctree-l2"><a class="reference internal" href="data.html#chapter-appendix">1.4. Chapter: Appendix</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">2. Pedestrian Routing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#pgr-dijkstra">2.1. pgr_dijkstra</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pgr-dijkstracost">2.2. pgr_dijkstraCost</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="vehicle.html">3. Vehicle Routing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="vehicle.html#routing-for-vehicles">3.1. Routing for vehicles</a></li>
<li class="toctree-l2"><a class="reference internal" href="vehicle.html#cost-manipulations">3.2. Cost manipulations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="sql_function.html">4. SQL function</a><ul>
<li class="toctree-l2"><a class="reference internal" href="sql_function.html#the-application-requirements">4.1. The application requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="sql_function.html#preparing-processing-graphs">4.2. Preparing processing graphs</a></li>
<li class="toctree-l2"><a class="reference internal" href="sql_function.html#geometry-handling">4.3. Geometry handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="sql_function.html#creating-the-function">4.4. Creating the Function</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="plpgsql_function.html">5. pl/pgsql function</a><ul>
<li class="toctree-l2"><a class="reference internal" href="plpgsql_function.html#requirements-for-routing-from-a-to-b">5.1. Requirements for routing from A to B</a></li>
<li class="toctree-l2"><a class="reference internal" href="plpgsql_function.html#the-vertex-table">5.2. The Vertex Table</a></li>
<li class="toctree-l2"><a class="reference internal" href="plpgsql_function.html#wrk-fromatob-function">5.3. wrk_fromAtoB function</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="appendix.html">6. Appendix: Basic workshop solutions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="appendix.html#solutions-to-pedestrian">6.1. Solutions to <span class="xref std std-doc">pedestrian</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="appendix.html#solutions-to-vehicle">6.2. Solutions to <span class="xref std std-doc">vehicle</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="appendix.html#solutions-to-sql-function">6.3. Solutions to <span class="xref std std-doc">sql_function</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="appendix.html#solutions-to-plpgsql-function">6.4. Solutions to <span class="xref std std-doc">plpgsql_function</span></a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../advanced/chapter-12.html">1. Create a Network Topology</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../advanced/chapter-12.html#load-network-data">1.1. Load network data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../advanced/chapter-12.html#create-a-routing-network-topology">1.2. Create a Routing Network Topology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../advanced/chapter-12.html#verify-the-routing-network-topology">1.3. Verify the Routing Network Topology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../advanced/chapter-12.html#analyze-and-adjust-the-routing-network-topology">1.4. Analyze and Adjust the Routing Network Topology</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../un_sdg/data.html">1. Data for Sustainable Development Goals</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/data.html#work-directory-for-pgrouting-data-manipulation">1.1. Work Directory for pgRouting data manipulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/data.html#mumbai-database">1.2. Mumbai database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/data.html#bangladesh-database">1.3. Bangladesh database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/data.html#appendix">1.4. Appendix</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../un_sdg/introduction.html">2. Achieving Sustainable Development Goals with pgRouting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/introduction.html#history">2.1. History</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/introduction.html#united-nations">2.2. United Nations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/introduction.html#what-are-the-sustainable-development-goals">2.3. What are the Sustainable Development Goals?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/introduction.html#target-audience">2.4. Target Audience</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/introduction.html#prerequisites-for-un-sdg-exercises">2.5. Prerequisites for UN SDG Exercises</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../un_sdg/sdg3-health.html">3. Good Health and Well Being</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/sdg3-health.html#problem-estimation-of-population-served-by-hospitals">3.1. Problem: Estimation of Population Served by Hospitals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/sdg3-health.html#pre-processing-roads-and-buildings-data">3.2. Pre-processing roads and buildings data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/sdg3-health.html#finding-the-roads-served-by-the-hospitals">3.3. Finding the roads served by the hospitals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/sdg3-health.html#calculating-the-total-population-served-by-the-hospital">3.4. Calculating the total population served by the hospital</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../un_sdg/sdg7-energy.html">4. Affordable and Clean Energy</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/sdg7-energy.html#problem-optimising-the-electricity-distribution-network">4.1. Problem: Optimising the Electricity Distribution Network</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/sdg7-energy.html#pre-processing-roads-data">4.2. Pre-processing roads data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/sdg7-energy.html#pgr-connectedcomponents-for-preprocessing-roads">4.3. pgr_connectedComponents for preprocessing roads</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/sdg7-energy.html#extract-connected-components-of-roads">4.4. Extract connected components of roads</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/sdg7-energy.html#pgr-kruskaldfs">4.5. pgr_kruskalDFS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/sdg7-energy.html#exercise-10-find-the-minimum-spanning-tree">4.6. Exercise 10: Find the minimum spanning tree</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/sdg7-energy.html#comparison-between-total-and-optimal-lengths">4.7. Comparison between Total and Optimal lengths</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/sdg7-energy.html#further-possible-extensions-to-the-exercise">4.8. Further possible extensions to the exercise</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../un_sdg/sdg11-cities.html">5. Sustainable Cities and Communities</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/sdg11-cities.html#problem-city-getting-affected-by-rain-or-not">5.1. Problem: City getting affected by rain or not</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/sdg11-cities.html#choose-a-city">5.2. Choose a city</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/sdg11-cities.html#pre-processing-waterways-data">5.3. Pre-processing waterways data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/sdg11-cities.html#pgr-connectedcomponents-for-preprocessing-waterways">5.4. pgr_connectedComponents for preprocessing waterways</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/sdg11-cities.html#exercise-8-get-the-connected-components-of-waterways">5.5. Exercise 8: Get the Connected Components of Waterways</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/sdg11-cities.html#exercise-9-creating-buffer-around-the-city">5.6. Exercise 9: Creating buffer around the city</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/sdg11-cities.html#exercise-11-finding-the-components-intersecting-the-buffer">5.7. Exercise 11: Finding the components intersecting the buffer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/sdg11-cities.html#exercise-12-get-the-rain-zones">5.8. Exercise 12: Get the rain zones</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/sdg11-cities.html#exercise-13-create-a-union-of-rain-zones">5.9. Exercise 13: Create a union of rain zones</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../un_sdg/appendix.html">6. Appendix: OSGeo UN Challenge Workshop Solutions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/appendix.html#solutions-to-chapter-3-sdg3-health">6.1. Solutions to Chapter 3: <span class="xref std std-doc">sdg3-health</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/appendix.html#solutions-to-sdg7-energy">6.2. Solutions to <span class="xref std std-doc">sdg7-energy</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/appendix.html#solutions-to-sdg11-cities">6.3. Solutions to <span class="xref std std-doc">sdg11-cities</span></a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../interactions/chapter-9.html">1. Using Qgis</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../interactions/chapter-9.html#set-up-qgis">1.1. Set Up QGIS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interactions/chapter-9.html#add-a-postgis-layer">1.2. Add a postGIS Layer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interactions/chapter-9.html#format-a-routing-layer">1.3. Format a Routing Layer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interactions/chapter-9.html#copy-paste-format">1.4. Copy/Paste Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interactions/chapter-9.html#save-the-project">1.5. Save the project</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../interactions/chapter-10.html">2. WMS server with GeoServer</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../interactions/chapter-10.html#connect-to-the-administration-page">2.1. Connect to the administration page</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interactions/chapter-10.html#create-the-layer">2.2. Create the layer</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../interactions/chapter-11.html">3. OpenLayers Based Routing Interface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../interactions/chapter-11.html#openlayers-introduction">3.1. OpenLayers introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interactions/chapter-11.html#creating-a-minimal-map">3.2. Creating a minimal map</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interactions/chapter-11.html#wms-get-parameters">3.3. WMS GET parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interactions/chapter-11.html#select-start-and-destination">3.4. Select “start” and “destination”</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interactions/chapter-11.html#clear-the-results">3.5. Clear the results</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interactions/chapter-11.html#summary-full-example">3.6. Summary (full example)</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../examples/boost_dijkstra.html">1. Boost Dijkstra Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/hanoslav.html">2. Internet Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/wiki_example.html">3. Wikipedia Dijkstra Example</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../appendix/appendix-2.html">1. Appendix: Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix/appendix-3.html">2. Appendix: osm2pgrouting Import Tool</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix/appendix-4.html">3. Video Tutorials for Workshop</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../appendix/appendix-4.html#chapter-4">3.1. Chapter 4</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">2. Pedestrian Routing</a><ul>
<li><a class="reference internal" href="#pgr-dijkstra">2.1. pgr_dijkstra</a><ul>
<li><a class="reference internal" href="#exercise-1-single-pedestrian-routing">2.1.1. Exercise 1: Single pedestrian routing</a></li>
<li><a class="reference internal" href="#exercise-2-many-pedestrians-going-to-the-same-destination">2.1.2. Exercise 2: Many Pedestrians going to the same destination</a></li>
<li><a class="reference internal" href="#exercise-3-many-pedestrians-departing-from-the-same-location">2.1.3. Exercise 3: Many Pedestrians departing from the same location</a></li>
<li><a class="reference internal" href="#exercise-4-many-pedestrians-going-to-different-destinations">2.1.4. Exercise 4: Many Pedestrians going to different destinations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#pgr-dijkstracost">2.2. pgr_dijkstraCost</a><ul>
<li><a class="reference internal" href="#exercise-5-time-for-many-pedestrians-going-to-different-destinations">2.2.1. Exercise 5: Time for many Pedestrians going to different destinations</a></li>
<li><a class="reference internal" href="#exercise-6-many-pedestrians-going-to-different-destinations-summarizing-the-total-costs-per-departure">2.2.2. Exercise 6: Many Pedestrians going to different destinations summarizing the total costs per departure</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="data.html" title="Previous Chapter: 1. Prepare Data"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; 1. Prepare Data</span>
    </a>
  </li>
  <li>
    <a href="vehicle.html" title="Next Chapter: 3. Vehicle Routing"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">3. Vehicle Routing &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <section id="pedestrian-routing">
<h1><a class="toc-backref" href="#id1" role="doc-backlink"><span class="section-number">2. </span>Pedestrian Routing</a><a class="headerlink" href="#pedestrian-routing" title="Link to this heading">¶</a></h1>
<a class="reference internal image-reference" href="../_images/route.png"><img alt="../_images/route.png" class="align-center" src="../_images/route.png" style="width: 388.0px; height: 218.5px;" /></a>
<p><strong>pgRouting</strong> was first called <em>pgDijkstra</em>, because it implemented only shortest
path search with <em>Dijkstra</em> algorithm. Later other functions were added and the
library was renamed to pgRouting.</p>
<nav class="contents" id="chapter-contents">
<p class="topic-title">Chapter Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#pedestrian-routing" id="id1">Pedestrian Routing</a></p>
<ul>
<li><p><a class="reference internal" href="#pgr-dijkstra" id="id2">pgr_dijkstra</a></p>
<ul>
<li><p><a class="reference internal" href="#exercise-1-single-pedestrian-routing" id="id3">Exercise 1: Single pedestrian routing</a></p></li>
<li><p><a class="reference internal" href="#exercise-2-many-pedestrians-going-to-the-same-destination" id="id4">Exercise 2: Many Pedestrians going to the same destination</a></p></li>
<li><p><a class="reference internal" href="#exercise-3-many-pedestrians-departing-from-the-same-location" id="id5">Exercise 3: Many Pedestrians departing from the same location</a></p></li>
<li><p><a class="reference internal" href="#exercise-4-many-pedestrians-going-to-different-destinations" id="id6">Exercise 4: Many Pedestrians going to different destinations</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#pgr-dijkstracost" id="id7">pgr_dijkstraCost</a></p>
<ul>
<li><p><a class="reference internal" href="#exercise-5-time-for-many-pedestrians-going-to-different-destinations" id="id8">Exercise 5: Time for many Pedestrians going to different destinations</a></p></li>
<li><p><a class="reference internal" href="#exercise-6-many-pedestrians-going-to-different-destinations-summarizing-the-total-costs-per-departure" id="id9">Exercise 6: Many Pedestrians going to different destinations summarizing the total costs per departure</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
<section id="pgr-dijkstra">
<h2><a class="toc-backref" href="#id2" role="doc-backlink"><span class="section-number">2.1. </span>pgr_dijkstra</a><a class="headerlink" href="#pgr-dijkstra" title="Link to this heading">¶</a></h2>
<p>Dijkstra algorithm was the first algorithm implemented in pgRouting. It doesn’t
require other attributes than the identifiers <code class="docutils literal notranslate"><span class="pre">id</span></code>, <code class="docutils literal notranslate"><span class="pre">source</span></code> and <code class="docutils literal notranslate"><span class="pre">target</span></code> and the weights <code class="docutils literal notranslate"><span class="pre">cost</span></code>
and <code class="docutils literal notranslate"><span class="pre">reverse_cost</span></code>.</p>
<p>You can specify when to consider the graph as <a class="reference external" href="https://en.wikipedia.org/wiki/Directed_graph">directed</a> or undirected.</p>
<p class="rubric">Signature Summary</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="n">pgr_dijkstra</span><span class="p">(</span><span class="n">Edges</span><span class="w"> </span><span class="k">SQL</span><span class="p">,</span><span class="w"> </span><span class="n">start_vid</span><span class="p">,</span><span class="w">  </span><span class="n">end_vid</span><span class="w">  </span><span class="p">[,</span><span class="w"> </span><span class="n">directed</span><span class="p">])</span>
<span class="n">pgr_dijkstra</span><span class="p">(</span><span class="n">Edges</span><span class="w"> </span><span class="k">SQL</span><span class="p">,</span><span class="w"> </span><span class="n">start_vid</span><span class="p">,</span><span class="w">  </span><span class="n">end_vids</span><span class="w"> </span><span class="p">[,</span><span class="w"> </span><span class="n">directed</span><span class="p">])</span>
<span class="n">pgr_dijkstra</span><span class="p">(</span><span class="n">Edges</span><span class="w"> </span><span class="k">SQL</span><span class="p">,</span><span class="w"> </span><span class="n">start_vids</span><span class="p">,</span><span class="w"> </span><span class="n">end_vid</span><span class="w">  </span><span class="p">[,</span><span class="w"> </span><span class="n">directed</span><span class="p">])</span>
<span class="n">pgr_dijkstra</span><span class="p">(</span><span class="n">Edges</span><span class="w"> </span><span class="k">SQL</span><span class="p">,</span><span class="w"> </span><span class="n">start_vids</span><span class="p">,</span><span class="w"> </span><span class="n">end_vids</span><span class="w"> </span><span class="p">[,</span><span class="w"> </span><span class="n">directed</span><span class="p">])</span>
<span class="n">pgr_dijkstra</span><span class="p">(</span><span class="n">Edges</span><span class="w"> </span><span class="k">SQL</span><span class="p">,</span><span class="w"> </span><span class="n">Combinations</span><span class="w"> </span><span class="k">SQL</span><span class="w"> </span><span class="p">[,</span><span class="w"> </span><span class="n">directed</span><span class="p">])</span>

<span class="k">RETURNS</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="k">OF</span><span class="w"> </span><span class="p">(</span><span class="n">seq</span><span class="p">,</span><span class="w"> </span><span class="n">path_seq</span><span class="w"> </span><span class="p">[,</span><span class="w"> </span><span class="n">start_vid</span><span class="p">]</span><span class="w"> </span><span class="p">[,</span><span class="w"> </span><span class="n">end_vid</span><span class="p">],</span><span class="w"> </span><span class="n">node</span><span class="p">,</span><span class="w"> </span><span class="n">edge</span><span class="p">,</span><span class="w"> </span><span class="n">cost</span><span class="p">,</span><span class="w"> </span><span class="n">agg_cost</span><span class="p">)</span>
<span class="w">    </span><span class="k">OR</span><span class="w"> </span><span class="n">EMPTY</span><span class="w"> </span><span class="k">SET</span>
</pre></div>
</div>
<p>Description of the parameters can be found in <a class="reference external" href="https://docs.pgrouting.org/latest/en/pgr_dijkstra.html#description-of-the-signatures">pgr_dijkstra</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Many pgRouting functions have <code class="docutils literal notranslate"><span class="pre">sql::text</span></code> as one of their arguments. While
this may look confusing at first, it makes the functions very flexible as
the user can pass a <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> statement as function argument as long as
the returned result contains the required number of attributes and the
correct attribute names.</p></li>
<li><p>Most of pgRouting implemented algorithms do not require the <strong>geometry</strong>.</p></li>
<li><p>The pgRouting functions <strong>do not</strong> return a geometry, but only an ordered
list of nodes or edges.</p></li>
</ul>
</div>
<p class="rubric">Identifiers for the Queries</p>
<p>The assignment of the vertices identifiers on the source and target columns may
be different, the following exercises will use the results of this query.
For the workshop, some locations near of the FOSS4G event are going to be used.
These locations are within this area <a class="reference external" href="https://www.openstreetmap.org#map=15/-34.5847/-58.3970">https://www.openstreetmap.org#map=15/-34.5847/-58.3970</a></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">2385630446</span></code> Nadir Xhemali Danijolli</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1838481592</span></code> Qendra Sprotive</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1840522495</span></code> Kalaja e Prizrenit</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">6917727056</span></code> Inovation and Training Park</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">2385655026</span></code> Lidhja Shqiptare e Prizrenit</p></li>
</ul>
<p>Connect to the database, if not connected:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">psql</span> <span class="n">city_routing</span>
</pre></div>
</div>
<p>Get the vertex identifiers</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="k">SELECT</span><span class="w"> </span><span class="n">osm_id</span><span class="p">,</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">ways_vertices_pgr</span>
<span class="linenos">2</span><span class="k">WHERE</span><span class="w"> </span><span class="n">osm_id</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="p">(</span><span class="mi">2385630446</span><span class="p">,</span><span class="w"> </span><span class="mi">1838481592</span><span class="p">,</span><span class="w"> </span><span class="mi">1840522495</span><span class="p">,</span><span class="w"> </span><span class="mi">6917727056</span><span class="p">,</span><span class="w"> </span><span class="mi">2385655026</span><span class="p">)</span>
<span class="linenos">3</span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">osm_id</span><span class="p">;</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span>   <span class="n">osm_id</span>   <span class="o">|</span>  <span class="nb">id</span>  
<span class="linenos">2</span><span class="o">------------+------</span>
<span class="linenos">3</span> <span class="mi">1838481592</span> <span class="o">|</span> <span class="mi">2592</span>
<span class="linenos">4</span> <span class="mi">1840522495</span> <span class="o">|</span> <span class="mi">2820</span>
<span class="linenos">5</span> <span class="mi">2385630446</span> <span class="o">|</span> <span class="mi">3770</span>
<span class="linenos">6</span> <span class="mi">2385655026</span> <span class="o">|</span> <span class="mi">3829</span>
<span class="linenos">7</span> <span class="mi">6917727056</span> <span class="o">|</span> <span class="mi">5912</span>
<span class="linenos">8</span><span class="p">(</span><span class="mi">5</span> <span class="n">rows</span><span class="p">)</span>
<span class="linenos">9</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">2385630446</span></code> Nadir Xhemali Danijolli (<code class="docutils literal notranslate"><span class="pre">3770</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1838481592</span></code> Qendra Sprotive (<code class="docutils literal notranslate"><span class="pre">2592</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1840522495</span></code> Kalaja e Prizrenit (<code class="docutils literal notranslate"><span class="pre">2820</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">6917727056</span></code> Inovation and Training Park (<code class="docutils literal notranslate"><span class="pre">5912</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">2385655026</span></code> Lidhja Shqiptare e Prizrenit (<code class="docutils literal notranslate"><span class="pre">3829</span></code>)</p></li>
</ul>
<p>The corresponding <code class="code docutils literal notranslate"><span class="pre">id</span></code> are shown in the following image, and a sample route from
“Kalaja e Prizrenit” to “Lidhja Shqiptare e Prizrenit”.</p>
<a class="reference internal image-reference" href="../_images/route.png"><img alt="../_images/route.png" src="../_images/route.png" style="width: 388.0px; height: 218.5px;" /></a>
<section id="exercise-1-single-pedestrian-routing">
<h3><a class="toc-backref" href="#id3" role="doc-backlink"><span class="section-number">2.1.1. </span>Exercise 1: Single pedestrian routing</a><a class="headerlink" href="#exercise-1-single-pedestrian-routing" title="Link to this heading">¶</a></h3>
<p class="rubric">Problem:</p>
<ul class="simple">
<li><p>Walking</p>
<ul>
<li><p>from “Nadir Xhemali Danijolli”</p></li>
<li><p>to “Kalaja e Prizrenit”.</p></li>
</ul>
</li>
<li><p>Calculate routes with costs in <em>osm2pgRouting</em> <cite>length</cite> default units.</p></li>
</ul>
<a class="reference internal image-reference" href="../_images/pedestrian-route1.png"><img alt="From the |place_1| to the |place_3|" src="../_images/pedestrian-route1.png" style="width: 388.0px; height: 218.5px;" /></a>
<p class="rubric">Solution:</p>
<ul class="simple">
<li><p>The pedestrian wants to go from vertex <code class="docutils literal notranslate"><span class="pre">3770</span></code> to vertex <code class="docutils literal notranslate"><span class="pre">2820</span></code> (lines <strong>9</strong> and <strong>10</strong>).</p></li>
<li><p>The pedestrian’s cost is in terms of length. In this case <code class="docutils literal notranslate"><span class="pre">length</span></code> (line <strong>6</strong>), which
was calculated by osm2pgrouting, is in unit <code class="docutils literal notranslate"><span class="pre">degrees</span></code>.</p></li>
<li><p>From a pedestrian perspective the graph is <code class="docutils literal notranslate"><span class="pre">undirected</span></code> (line <strong>11</strong>), that is, the
pedestrian can move in both directions on all segments.</p></li>
</ul>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">pgr_dijkstra</span><span class="p">(</span>
<span class="linenos"> 2</span><span class="w">    </span><span class="s1">&#39;</span>
<span class="hll"><span class="linenos"> 3</span><span class="s1">      SELECT gid AS id,</span>
</span><span class="hll"><span class="linenos"> 4</span><span class="s1">        source,</span>
</span><span class="hll"><span class="linenos"> 5</span><span class="s1">        target,</span>
</span><span class="hll"><span class="linenos"> 6</span><span class="s1">        length AS cost</span>
</span><span class="hll"><span class="linenos"> 7</span><span class="s1">      FROM ways</span>
</span><span class="linenos"> 8</span><span class="s1">    &#39;</span><span class="p">,</span>
<span class="linenos"> 9</span><span class="w"> </span><span class="mi">3770</span><span class="p">,</span>
<span class="linenos">10</span><span class="w"> </span><span class="mi">2820</span><span class="p">,</span>
<span class="linenos">11</span><span class="w">    </span><span class="n">directed</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="k">false</span><span class="p">);</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p><a class="reference internal" href="appendix.html#exercise-1-chapter-pedestrian"><span class="std std-ref">Exercise: 1 (Chapter: Pedestrian)</span></a></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>The returned cost attribute represents the cost specified in the
inner SQL query (<code class="docutils literal notranslate"><span class="pre">edges_sql::text</span></code> argument). In this example cost is <code class="docutils literal notranslate"><span class="pre">length</span></code> in unit
“degrees”. Cost may be time, distance or any combination of both or any
other attributes or a custom formula.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">node</span></code> and <code class="docutils literal notranslate"><span class="pre">edge</span></code> results may vary depending on the assignment of the
identifiers to the vertices given by osm2pgrouting.</p></li>
</ul>
</div>
</section>
<section id="exercise-2-many-pedestrians-going-to-the-same-destination">
<h3><a class="toc-backref" href="#id4" role="doc-backlink"><span class="section-number">2.1.2. </span>Exercise 2: Many Pedestrians going to the same destination</a><a class="headerlink" href="#exercise-2-many-pedestrians-going-to-the-same-destination" title="Link to this heading">¶</a></h3>
<p class="rubric">Problem:</p>
<ul class="simple">
<li><p>Walking</p>
<ul>
<li><p>from “Nadir Xhemali Danijolli” and “Qendra Sprotive”</p></li>
<li><p>to the “Kalaja e Prizrenit”.</p></li>
</ul>
</li>
<li><p>Calculate routes with costs in <em>osm2pgRouting</em> <code class="docutils literal notranslate"><span class="pre">length_m</span></code> which is in meters.</p></li>
</ul>
<a class="reference internal image-reference" href="../_images/pedestrian-route2.png"><img alt="From |place_1| and |place_2| to |place_3|" src="../_images/pedestrian-route2.png" style="width: 388.0px; height: 218.5px;" /></a>
<p class="rubric">Solution:</p>
<ul class="simple">
<li><p>The pedestrians are departing at vertices <code class="docutils literal notranslate"><span class="pre">3770</span></code> and <code class="docutils literal notranslate"><span class="pre">2592</span></code> (line <strong>9</strong>).</p></li>
<li><p>All pedestrians want to go to vertex <code class="docutils literal notranslate"><span class="pre">2820</span></code> (line <strong>10</strong>).</p></li>
<li><p>The cost to be in meters using attribute <code class="docutils literal notranslate"><span class="pre">length_m</span></code> (line <strong>6</strong>).</p></li>
</ul>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">pgr_dijkstra</span><span class="p">(</span>
<span class="linenos"> 2</span><span class="w">    </span><span class="s1">&#39;</span>
<span class="linenos"> 3</span><span class="s1">      SELECT gid AS id,</span>
<span class="linenos"> 4</span><span class="s1">        source,</span>
<span class="linenos"> 5</span><span class="s1">        target,</span>
<span class="linenos"> 6</span><span class="s1">        length_m AS cost</span>
<span class="linenos"> 7</span><span class="s1">      FROM ways</span>
<span class="linenos"> 8</span><span class="s1">    &#39;</span><span class="p">,</span>
<span class="hll"><span class="linenos"> 9</span><span class="nb">ARRAY</span><span class="p">[</span><span class="mi">3770</span><span class="p">,</span><span class="mi">2592</span><span class="p">],</span>
</span><span class="linenos">10</span><span class="mi">2820</span><span class="p">,</span>
<span class="linenos">11</span><span class="n">directed</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="k">false</span><span class="p">);</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p><a class="reference internal" href="appendix.html#exercise-2-chapter-pedestrian"><span class="std std-ref">Exercise: 2 (Chapter: Pedestrian)</span></a></p>
</section>
<section id="exercise-3-many-pedestrians-departing-from-the-same-location">
<h3><a class="toc-backref" href="#id5" role="doc-backlink"><span class="section-number">2.1.3. </span>Exercise 3: Many Pedestrians departing from the same location</a><a class="headerlink" href="#exercise-3-many-pedestrians-departing-from-the-same-location" title="Link to this heading">¶</a></h3>
<p class="rubric">Problem:</p>
<ul class="simple">
<li><p>Walking</p>
<ul>
<li><p>from “Kalaja e Prizrenit”</p></li>
<li><p>to “Nadir Xhemali Danijolli” and “Qendra Sprotive”</p></li>
</ul>
</li>
<li><p>Calculate routes with costs in seconds.</p></li>
</ul>
<a class="reference internal image-reference" href="../_images/pedestrian-route2.png"><img alt="../_images/pedestrian-route2.png" src="../_images/pedestrian-route2.png" style="width: 388.0px; height: 218.5px;" /></a>
<p class="rubric">Solution:</p>
<ul class="simple">
<li><p>All pedestrians are departing from vertex <code class="docutils literal notranslate"><span class="pre">2820</span></code> (line <strong>9</strong>).</p></li>
<li><p>Pedestrians want to go to locations <code class="docutils literal notranslate"><span class="pre">3770</span></code> and <code class="docutils literal notranslate"><span class="pre">2592</span></code> (line <strong>10</strong>).</p></li>
<li><p>The cost to be in seconds, with a walking speed <code class="docutils literal notranslate"><span class="pre">s</span> <span class="pre">=</span> <span class="pre">1.3</span> <span class="pre">m/s</span></code> and <code class="docutils literal notranslate"><span class="pre">t</span> <span class="pre">=</span> <span class="pre">d/s</span></code> (line <strong>6</strong>).</p></li>
</ul>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">pgr_dijkstra</span><span class="p">(</span>
<span class="linenos"> 2</span><span class="w">    </span><span class="s1">&#39;</span>
<span class="linenos"> 3</span><span class="s1">      SELECT gid AS id,</span>
<span class="linenos"> 4</span><span class="s1">        source,</span>
<span class="linenos"> 5</span><span class="s1">        target,</span>
<span class="linenos"> 6</span><span class="s1">        length_m / 1.3 AS cost</span>
<span class="linenos"> 7</span><span class="s1">      FROM ways</span>
<span class="linenos"> 8</span><span class="s1">    &#39;</span><span class="p">,</span>
<span class="linenos"> 9</span><span class="mi">2820</span><span class="p">,</span>
<span class="hll"><span class="linenos">10</span><span class="nb">ARRAY</span><span class="p">[</span><span class="mi">3770</span><span class="p">,</span><span class="mi">2592</span><span class="p">],</span>
</span><span class="linenos">11</span><span class="n">directed</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="k">false</span><span class="p">);</span>
</pre></div>
</div>
<p><a class="reference internal" href="appendix.html#exercise-3-chapter-pedestrian"><span class="std std-ref">Exercise: 3 (Chapter: Pedestrian)</span></a></p>
</section>
<section id="exercise-4-many-pedestrians-going-to-different-destinations">
<h3><a class="toc-backref" href="#id6" role="doc-backlink"><span class="section-number">2.1.4. </span>Exercise 4: Many Pedestrians going to different destinations</a><a class="headerlink" href="#exercise-4-many-pedestrians-going-to-different-destinations" title="Link to this heading">¶</a></h3>
<p class="rubric">Problem:</p>
<ul class="simple">
<li><p>Walking</p>
<ul>
<li><p>from “Nadir Xhemali Danijolli” and “Qendra Sprotive”</p></li>
<li><p>to “Inovation and Training Park” and “Lidhja Shqiptare e Prizrenit”</p></li>
</ul>
</li>
<li><p>Calculate routes with costs in minutes.</p></li>
</ul>
<a class="reference internal image-reference" href="../_images/pedestrian-route4.png"><img alt="../_images/pedestrian-route4.png" src="../_images/pedestrian-route4.png" style="width: 388.0px; height: 218.5px;" /></a>
<p class="rubric">Solution:</p>
<ul class="simple">
<li><p>The pedestrians depart from <code class="docutils literal notranslate"><span class="pre">3770</span></code> and <code class="docutils literal notranslate"><span class="pre">2592</span></code> (line <strong>9</strong>).</p></li>
<li><p>The pedestrians want to go to destinations <code class="docutils literal notranslate"><span class="pre">5912</span></code> and <code class="docutils literal notranslate"><span class="pre">3829</span></code> (line <strong>10</strong>).</p></li>
<li><p>The cost to be in minutes, with a walking speed <code class="docutils literal notranslate"><span class="pre">s</span> <span class="pre">=</span> <span class="pre">1.3</span> <span class="pre">m/s</span></code> and <code class="docutils literal notranslate"><span class="pre">t</span> <span class="pre">=</span> <span class="pre">d/s</span></code> (line <strong>6</strong>).</p></li>
<li><p>Result adds the costs per destination.</p></li>
</ul>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">pgr_dijkstra</span><span class="p">(</span>
<span class="linenos"> 2</span><span class="w">    </span><span class="s1">&#39;</span>
<span class="linenos"> 3</span><span class="s1">      SELECT gid AS id,</span>
<span class="linenos"> 4</span><span class="s1">       source,</span>
<span class="linenos"> 5</span><span class="s1">       target,</span>
<span class="linenos"> 6</span><span class="s1">       length_m / 1.3 / 60 AS cost</span>
<span class="linenos"> 7</span><span class="s1">      FROM ways</span>
<span class="linenos"> 8</span><span class="s1">    &#39;</span><span class="p">,</span>
<span class="hll"><span class="linenos"> 9</span><span class="nb">ARRAY</span><span class="p">[</span><span class="mi">3770</span><span class="p">,</span><span class="w"> </span><span class="mi">2592</span><span class="p">],</span>
</span><span class="hll"><span class="linenos">10</span><span class="nb">ARRAY</span><span class="p">[</span><span class="mi">5912</span><span class="p">,</span><span class="w"> </span><span class="mi">3829</span><span class="p">],</span>
</span><span class="linenos">11</span><span class="n">directed</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="k">false</span><span class="p">);</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p><a class="reference internal" href="appendix.html#exercise-4-chapter-pedestrian"><span class="std std-ref">Exercise: 4 (Chapter: Pedestrian)</span></a></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<blockquote>
<div><p>Inspecting the results, looking for totals (edge = -1):</p>
<ul class="simple">
<li><p>From 3770 to vertex 5912 takes 26.22 minutes (seq = 94)</p></li>
<li><p>From 3770 to vertex 3829 takes 7.11 minutes (seq = 48)</p></li>
<li><p>From 2592 to vertex 5912 takes 8.31 minutes (seq = 33)</p></li>
<li><p>From 2592 to vertex 3829 takes 12.56 minutes (seq = 20)</p></li>
</ul>
</div></blockquote>
</div>
</section>
</section>
<section id="pgr-dijkstracost">
<h2><a class="toc-backref" href="#id7" role="doc-backlink"><span class="section-number">2.2. </span>pgr_dijkstraCost</a><a class="headerlink" href="#pgr-dijkstracost" title="Link to this heading">¶</a></h2>
<p>When the main goal is to calculate the total cost, without “inspecting” the <cite>pgr_dijkstra</cite> results,
using <code class="docutils literal notranslate"><span class="pre">pgr_dijkstraCost</span></code> returns a more compact result.</p>
<p class="rubric">Signature Summary</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>pgr_dijkstraCost(edges_sql, start_vid,  end_vid  [, directed])
pgr_dijkstraCost(edges_sql, start_vid,  end_vids [, directed])
pgr_dijkstraCost(edges_sql, start_vids, end_vid  [, directed])
pgr_dijkstraCost(edges_sql, start_vids, end_vids [, directed])
pgr_dijkstraCost(edges_sql, combinations_sql   [, directed])

RETURNS SET OF (start_vid, end_vid, agg_cost)
    OR EMPTY SET
</pre></div>
</div>
<p>Description of the parameters can be found in <a class="reference external" href="https://docs.pgrouting.org/latest/en/pgr_dijkstraCost.html#description-of-the-signatures">pgr_dijkstraCost</a></p>
<section id="exercise-5-time-for-many-pedestrians-going-to-different-destinations">
<h3><a class="toc-backref" href="#id8" role="doc-backlink"><span class="section-number">2.2.1. </span>Exercise 5: Time for many Pedestrians going to different destinations</a><a class="headerlink" href="#exercise-5-time-for-many-pedestrians-going-to-different-destinations" title="Link to this heading">¶</a></h3>
<p class="rubric">Problem:</p>
<ul class="simple">
<li><p>Walking</p>
<ul>
<li><p>from “Nadir Xhemali Danijolli” or “Qendra Sprotive”</p></li>
<li><p>to “Inovation and Training Park” or “Lidhja Shqiptare e Prizrenit”</p></li>
</ul>
</li>
<li><p>Get only the cost in minutes.</p></li>
</ul>
<a class="reference internal image-reference" href="../_images/pedestrian-route5.png"><img alt="From the hotels to the |place_4| and |place_5|" src="../_images/pedestrian-route5.png" style="width: 388.0px; height: 218.5px;" /></a>
<p class="rubric">Solution:</p>
<ul class="simple">
<li><p>The pedestrians depart from <code class="docutils literal notranslate"><span class="pre">3770</span></code> and <code class="docutils literal notranslate"><span class="pre">2592</span></code> (line <strong>10</strong>).</p></li>
<li><p>The pedestrians want to go to destinations <code class="docutils literal notranslate"><span class="pre">5912</span></code> and <code class="docutils literal notranslate"><span class="pre">3829</span></code> (line <strong>11</strong>).</p></li>
<li><p>The cost to be in minutes, with a walking speed <code class="docutils literal notranslate"><span class="pre">s</span> <span class="pre">=</span> <span class="pre">1.3</span> <span class="pre">m/s</span></code> and <code class="docutils literal notranslate"><span class="pre">t</span> <span class="pre">=</span> <span class="pre">d/s</span></code> (line <strong>7</strong>).</p></li>
<li><p>Result as aggregated costs.</p></li>
</ul>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span>
<span class="hll"><span class="linenos"> 2</span><span class="k">FROM</span><span class="w"> </span><span class="n">pgr_dijkstraCost</span><span class="p">(</span>
</span><span class="linenos"> 3</span><span class="w">    </span><span class="s1">&#39;</span>
<span class="linenos"> 4</span><span class="s1">      SELECT gid AS id,</span>
<span class="linenos"> 5</span><span class="s1">       source,</span>
<span class="linenos"> 6</span><span class="s1">       target,</span>
<span class="linenos"> 7</span><span class="s1">       length_m  / 1.3 / 60 AS cost</span>
<span class="linenos"> 8</span><span class="s1">      FROM ways</span>
<span class="linenos"> 9</span><span class="s1">    &#39;</span><span class="p">,</span>
<span class="linenos">10</span><span class="nb">ARRAY</span><span class="p">[</span><span class="mi">3770</span><span class="p">,</span><span class="w"> </span><span class="mi">2592</span><span class="p">],</span>
<span class="linenos">11</span><span class="nb">ARRAY</span><span class="p">[</span><span class="mi">5912</span><span class="p">,</span><span class="w"> </span><span class="mi">3829</span><span class="p">],</span>
<span class="linenos">12</span><span class="n">directed</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="k">false</span><span class="p">);</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p><a class="reference internal" href="appendix.html#exercise-5-chapter-pedestrian"><span class="std std-ref">Exercise: 5 (Chapter: Pedestrian)</span></a></p>
<p>Compare with <a class="reference internal" href="#exercise-4-many-pedestrians-going-to-different-destinations">Exercise 4: Many Pedestrians going to different destinations</a> ‘s note.</p>
</section>
<section id="exercise-6-many-pedestrians-going-to-different-destinations-summarizing-the-total-costs-per-departure">
<h3><a class="toc-backref" href="#id9" role="doc-backlink"><span class="section-number">2.2.2. </span>Exercise 6: Many Pedestrians going to different destinations summarizing the total costs per departure</a><a class="headerlink" href="#exercise-6-many-pedestrians-going-to-different-destinations-summarizing-the-total-costs-per-departure" title="Link to this heading">¶</a></h3>
<p class="rubric">Problem:</p>
<ul class="simple">
<li><p>Walking</p>
<ul>
<li><p>from “Nadir Xhemali Danijolli” or “Qendra Sprotive”</p></li>
<li><p>to “Inovation and Training Park” or “Lidhja Shqiptare e Prizrenit”</p></li>
</ul>
</li>
<li><p>Summarize cost in minutes.</p></li>
</ul>
<p class="rubric">Solution:</p>
<ul class="simple">
<li><p>The pedestrians depart from <code class="docutils literal notranslate"><span class="pre">3770</span></code> and <code class="docutils literal notranslate"><span class="pre">2592</span></code> (line <strong>10</strong>).</p></li>
<li><p>The pedestrians want to go to destinations <code class="docutils literal notranslate"><span class="pre">5912</span></code> and <code class="docutils literal notranslate"><span class="pre">3829</span></code> (line <strong>11</strong>).</p></li>
<li><p>The cost to be in minutes, with a walking speed s = 1.3 m/s and t = d/s (line <strong>7</strong>).</p></li>
<li><p>Result adds the costs per destination.</p></li>
</ul>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">SELECT</span><span class="w"> </span><span class="n">start_vid</span><span class="p">,</span><span class="w"> </span><span class="k">sum</span><span class="p">(</span><span class="n">agg_cost</span><span class="p">)</span>
<span class="linenos"> 2</span><span class="k">FROM</span><span class="w"> </span><span class="n">pgr_dijkstraCost</span><span class="p">(</span>
<span class="linenos"> 3</span><span class="w">    </span><span class="s1">&#39;</span>
<span class="linenos"> 4</span><span class="s1">      SELECT gid AS id,</span>
<span class="linenos"> 5</span><span class="s1">        source,</span>
<span class="linenos"> 6</span><span class="s1">        target,</span>
<span class="linenos"> 7</span><span class="s1">        length_m  / 1.3 / 60 AS cost</span>
<span class="linenos"> 8</span><span class="s1">      FROM ways</span>
<span class="linenos"> 9</span><span class="s1">    &#39;</span><span class="p">,</span>
<span class="linenos">10</span><span class="w">    </span><span class="nb">ARRAY</span><span class="p">[</span><span class="mi">3770</span><span class="p">,</span><span class="w"> </span><span class="mi">2592</span><span class="p">],</span>
<span class="linenos">11</span><span class="w">    </span><span class="nb">ARRAY</span><span class="p">[</span><span class="mi">5912</span><span class="p">,</span><span class="w"> </span><span class="mi">3829</span><span class="p">],</span>
<span class="linenos">12</span><span class="w">    </span><span class="n">directed</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="k">false</span><span class="p">)</span>
<span class="hll"><span class="linenos">13</span><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">start_vid</span>
</span><span class="hll"><span class="linenos">14</span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">start_vid</span><span class="p">;</span>
</span></pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p><a class="reference internal" href="appendix.html#exercise-6-chapter-pedestrian"><span class="std std-ref">Exercise: 6 (Chapter: Pedestrian)</span></a></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<blockquote>
<div><p>An interpretation of the result can be: In general, it is faster to depart from “Qendra Sprotive” than from “Nadir Xhemali Danijolli”</p>
</div></blockquote>
</div>
</section>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2010-2023 pgRouting Developers.<br/>
      Last updated on Mar 30, 2024.<br/>
    </p>
  </div>
</footer>
  </body>
</html>