<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>5. SQL function &#8212; Workshop - FOSS4G  - Routing with pgRouting</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css?v=4468db6d" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx_collapse.css?v=226d88b4" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=fa3951f0" />
    <script src="../_static/documentation_options.js?v=81b50374"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="icon" href="../_static/favicon.ico"/>
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="6. pl/pgsql function" href="plpgsql_function.html" />
    <link rel="prev" title="4. Graph views" href="graph_views.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="../_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          Workshop FOSS4G </a>
        <span class="navbar-text navbar-version pull-left"><b>3.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Chapters <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../general-intro/introduction.html">1. Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../general-intro/introduction.html#basic">1.1. Basic</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general-intro/introduction.html#advanced">1.2. Advanced</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general-intro/introduction.html#aknowledments">1.3. Aknowledments</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general-intro/introduction.html#become-a-sponsor">1.4. Become a sponsor</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../general-intro/osgeolive.html">2. OSGeoLive Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../general-intro/osgeolive.html#install-virtualbox">2.1. Install VirtualBox.</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general-intro/osgeolive.html#osgeolive-on-a-virtualbox">2.2. OSGeoLive on a VirtualBox</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general-intro/osgeolive.html#ubuntu-installation">2.3. Ubuntu installation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../general-intro/overview.html">3. Software and Data Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../general-intro/overview.html#pgrouting-overview">3.1. pgRouting Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general-intro/overview.html#osm2pgrouting-overview">3.2. osm2pgrouting Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general-intro/overview.html#openstreetmap-overview">3.3. OpenStreetMap Overview</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="data.html">1. Prepare Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="data.html#prepare-the-database">1.1. Prepare the database</a></li>
<li class="toctree-l2"><a class="reference internal" href="data.html#get-the-workshop-data">1.2. Get the Workshop Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="data.html#upload-data-to-the-database">1.3. Upload data to the database</a></li>
<li class="toctree-l2"><a class="reference internal" href="data.html#chapter-appendix">1.4. Chapter: Appendix</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pedestrian.html">2. Pedestrian Routing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pedestrian.html#pgr-dijkstra">2.1. pgr_dijkstra</a></li>
<li class="toctree-l2"><a class="reference internal" href="pedestrian.html#pgr-dijkstracost">2.2. pgr_dijkstraCost</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="vehicle.html">3. Vehicle Routing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="vehicle.html#routing-for-vehicles">3.1. Routing for vehicles</a></li>
<li class="toctree-l2"><a class="reference internal" href="vehicle.html#cost-manipulations">3.2. Cost manipulations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="graph_views.html">4. Graph views</a><ul>
<li class="toctree-l2"><a class="reference internal" href="graph_views.html#the-graph-requirements">4.1. The graph requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="graph_views.html#pgr-extractvertices">4.2. pgr_extractVertices</a></li>
<li class="toctree-l2"><a class="reference internal" href="graph_views.html#pgr-connectedcomponents">4.3. pgr_connectedComponents</a></li>
<li class="toctree-l2"><a class="reference internal" href="graph_views.html#preparing-the-graphs">4.4. Preparing the graphs</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">5. SQL function</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#the-application-requirements">5.1. The application requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="#additional-information-handling">5.2. Additional information handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="#geometry-handling">5.3. Geometry handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="#creating-the-function">5.4. Creating the Function</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="plpgsql_function.html">6. pl/pgsql function</a><ul>
<li class="toctree-l2"><a class="reference internal" href="plpgsql_function.html#requirements-for-routing-from-a-to-b">6.1. Requirements for routing from A to B</a></li>
<li class="toctree-l2"><a class="reference internal" href="plpgsql_function.html#the-vertices-table">6.2. The Vertices Table</a></li>
<li class="toctree-l2"><a class="reference internal" href="plpgsql_function.html#wrk-fromatob-function">6.3. wrk_fromAtoB function</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../advanced/chapter-12.html">1. Create a Network Topology</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../advanced/chapter-12.html#load-network-data">1.1. Load network data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../advanced/chapter-12.html#create-a-routing-network-topology">1.2. Create a Routing Network Topology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../advanced/chapter-12.html#verify-the-routing-network-topology">1.3. Verify the Routing Network Topology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../advanced/chapter-12.html#analyze-and-adjust-the-routing-network-topology">1.4. Analyze and Adjust the Routing Network Topology</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../un_sdg/data.html">1. Data for Sustainable Development Goals</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/data.html#work-directory-for-pgrouting-data-manipulation">1.1. Work Directory for pgRouting data manipulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/data.html#mumbai-database">1.2. Mumbai database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/data.html#bangladesh-database">1.3. Bangladesh database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/data.html#appendix">1.4. Appendix</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../un_sdg/introduction.html">2. Achieving Sustainable Development Goals with pgRouting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/introduction.html#history">2.1. History</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/introduction.html#united-nations">2.2. United Nations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/introduction.html#what-are-the-sustainable-development-goals">2.3. What are the Sustainable Development Goals?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/introduction.html#target-audience">2.4. Target Audience</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/introduction.html#prerequisites-for-un-sdg-exercises">2.5. Prerequisites for UN SDG Exercises</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../un_sdg/sdg3-health.html">3. Good Health and Well Being</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/sdg3-health.html#problem-estimation-of-population-served-by-hospitals">3.1. Problem: Estimation of Population Served by Hospitals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/sdg3-health.html#pre-processing-roads-and-buildings-data">3.2. Pre-processing roads and buildings data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/sdg3-health.html#finding-the-roads-served-by-the-hospitals">3.3. Finding the roads served by the hospitals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/sdg3-health.html#calculating-the-total-population-served-by-the-hospital">3.4. Calculating the total population served by the hospital</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../un_sdg/sdg7-energy.html">4. Affordable and Clean Energy</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/sdg7-energy.html#problem-optimising-the-electricity-distribution-network">4.1. Problem: Optimising the Electricity Distribution Network</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/sdg7-energy.html#pre-processing-roads-data">4.2. Pre-processing roads data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/sdg7-energy.html#pgr-connectedcomponents-for-preprocessing-roads">4.3. pgr_connectedComponents for preprocessing roads</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/sdg7-energy.html#extract-connected-components-of-roads">4.4. Extract connected components of roads</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/sdg7-energy.html#pgr-kruskaldfs">4.5. pgr_kruskalDFS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/sdg7-energy.html#exercise-10-find-the-minimum-spanning-tree">4.6. Exercise 10: Find the minimum spanning tree</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/sdg7-energy.html#comparison-between-total-and-optimal-lengths">4.7. Comparison between Total and Optimal lengths</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/sdg7-energy.html#further-possible-extensions-to-the-exercise">4.8. Further possible extensions to the exercise</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../un_sdg/sdg11-cities.html">5. Sustainable Cities and Communities</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/sdg11-cities.html#problem-city-getting-affected-by-rain-or-not">5.1. Problem: City getting affected by rain or not</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/sdg11-cities.html#choose-a-city">5.2. Choose a city</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/sdg11-cities.html#pre-processing-waterways-data">5.3. Pre-processing waterways data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/sdg11-cities.html#pgr-connectedcomponents-for-preprocessing-waterways">5.4. pgr_connectedComponents for preprocessing waterways</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/sdg11-cities.html#exercise-8-get-the-connected-components-of-waterways">5.5. Exercise 8: Get the Connected Components of Waterways</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/sdg11-cities.html#exercise-9-creating-buffer-around-the-city">5.6. Exercise 9: Creating buffer around the city</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/sdg11-cities.html#exercise-11-finding-the-components-intersecting-the-buffer">5.7. Exercise 11: Finding the components intersecting the buffer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/sdg11-cities.html#exercise-12-get-the-rain-zones">5.8. Exercise 12: Get the rain zones</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/sdg11-cities.html#exercise-13-create-a-union-of-rain-zones">5.9. Exercise 13: Create a union of rain zones</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../un_sdg/appendix.html">6. Appendix: OSGeo UN Challenge Workshop Solutions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/appendix.html#solutions-to-chapter-3-sdg3-health">6.1. Solutions to Chapter 3: <span class="xref std std-doc">sdg3-health</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/appendix.html#solutions-to-sdg7-energy">6.2. Solutions to <span class="xref std std-doc">sdg7-energy</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/appendix.html#solutions-to-sdg11-cities">6.3. Solutions to <span class="xref std std-doc">sdg11-cities</span></a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../interactions/chapter-9.html">1. Using Qgis</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../interactions/chapter-9.html#set-up-qgis">1.1. Set Up QGIS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interactions/chapter-9.html#add-a-postgis-layer">1.2. Add a postGIS Layer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interactions/chapter-9.html#format-a-routing-layer">1.3. Format a Routing Layer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interactions/chapter-9.html#copy-paste-format">1.4. Copy/Paste Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interactions/chapter-9.html#save-the-project">1.5. Save the project</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../interactions/chapter-10.html">2. WMS server with GeoServer</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../interactions/chapter-10.html#connect-to-the-administration-page">2.1. Connect to the administration page</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interactions/chapter-10.html#create-the-layer">2.2. Create the layer</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../interactions/chapter-11.html">3. OpenLayers Based Routing Interface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../interactions/chapter-11.html#openlayers-introduction">3.1. OpenLayers introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interactions/chapter-11.html#creating-a-minimal-map">3.2. Creating a minimal map</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interactions/chapter-11.html#wms-get-parameters">3.3. WMS GET parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interactions/chapter-11.html#select-start-and-destination">3.4. Select “start” and “destination”</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interactions/chapter-11.html#clear-the-results">3.5. Clear the results</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interactions/chapter-11.html#summary-full-example">3.6. Summary (full example)</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../examples/boost_dijkstra.html">1. Boost Dijkstra Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/hanoslav.html">2. Internet Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/wiki_example.html">3. Wikipedia Dijkstra Example</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../appendix/appendix-2.html">1. Appendix: Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix/appendix-3.html">2. Appendix: osm2pgrouting Import Tool</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix/appendix-4.html">3. Video Tutorials for Workshop</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../appendix/appendix-4.html#chapter-4">3.1. Chapter 4</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">5. SQL function</a><ul>
<li><a class="reference internal" href="#the-application-requirements">5.1. The application requirements</a></li>
<li><a class="reference internal" href="#additional-information-handling">5.2. Additional information handling</a><ul>
<li><a class="reference internal" href="#exercise-1-get-additional-information">5.2.1. Exercise 1: Get additional information</a></li>
</ul>
</li>
<li><a class="reference internal" href="#geometry-handling">5.3. Geometry handling</a><ul>
<li><a class="reference internal" href="#exercise-2-route-geometry-human-readable">5.3.1. Exercise 2: Route geometry (human readable)</a></li>
<li><a class="reference internal" href="#exercise-3-route-geometry-binary-format">5.3.2. Exercise 3: Route geometry (binary format)</a></li>
<li><a class="reference internal" href="#exercise-4-route-geometry-directionality">5.3.3. Exercise 4: Route geometry directionality</a></li>
<li><a class="reference internal" href="#exercise-5-using-the-geometry">5.3.4. Exercise 5: Using the geometry</a></li>
</ul>
</li>
<li><a class="reference internal" href="#creating-the-function">5.4. Creating the Function</a><ul>
<li><a class="reference internal" href="#exercise-6-function-for-an-application">5.4.1. Exercise 6: Function for an application</a></li>
<li><a class="reference internal" href="#exercise-7-using-the-function">5.4.2. Exercise 7: Using the function</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="graph_views.html" title="Previous Chapter: 4. Graph views"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; 4. Graph views</span>
    </a>
  </li>
  <li>
    <a href="plpgsql_function.html" title="Next Chapter: 6. pl/pgsql function"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">6. pl/pgsql function &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul>
<li><a class="reference internal" href="#">5. SQL function</a><ul>
<li><a class="reference internal" href="#the-application-requirements">5.1. The application requirements</a></li>
<li><a class="reference internal" href="#additional-information-handling">5.2. Additional information handling</a><ul>
<li><a class="reference internal" href="#exercise-1-get-additional-information">5.2.1. Exercise 1: Get additional information</a></li>
</ul>
</li>
<li><a class="reference internal" href="#geometry-handling">5.3. Geometry handling</a><ul>
<li><a class="reference internal" href="#exercise-2-route-geometry-human-readable">5.3.1. Exercise 2: Route geometry (human readable)</a></li>
<li><a class="reference internal" href="#exercise-3-route-geometry-binary-format">5.3.2. Exercise 3: Route geometry (binary format)</a></li>
<li><a class="reference internal" href="#exercise-4-route-geometry-directionality">5.3.3. Exercise 4: Route geometry directionality</a></li>
<li><a class="reference internal" href="#exercise-5-using-the-geometry">5.3.4. Exercise 5: Using the geometry</a></li>
</ul>
</li>
<li><a class="reference internal" href="#creating-the-function">5.4. Creating the Function</a><ul>
<li><a class="reference internal" href="#exercise-6-function-for-an-application">5.4.1. Exercise 6: Function for an application</a></li>
<li><a class="reference internal" href="#exercise-7-using-the-function">5.4.2. Exercise 7: Using the function</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <li>
    <a href="graph_views.html" title="Previous Chapter: 4. Graph views"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; 4. Graph views</span>
    </a>
  </li>
  <li>
    <a href="plpgsql_function.html" title="Next Chapter: 6. pl/pgsql function"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">6. pl/pgsql function &raquo;</span>
    </a>
  </li>
<form action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        </div>
      </div>
    <div class="body col-md-9 content" role="main">
      
  <section id="sql-function">
<h1><a class="toc-backref" href="#id1" role="doc-backlink"><span class="section-number">5. </span>SQL function</a><a class="headerlink" href="#sql-function" title="Link to this heading">¶</a></h1>
<a class="reference internal image-reference" href="../_images/route.png"><img alt="../_images/route.png" class="align-center" src="../_images/route.png" style="width: 333.0px; height: 217.25px;" />
</a>
<nav class="contents" id="chapter-contents">
<p class="topic-title">Chapter Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#sql-function" id="id1">SQL function</a></p>
<ul>
<li><p><a class="reference internal" href="#the-application-requirements" id="id2">The application requirements</a></p></li>
<li><p><a class="reference internal" href="#additional-information-handling" id="id3">Additional information handling</a></p>
<ul>
<li><p><a class="reference internal" href="#exercise-1-get-additional-information" id="id4">Exercise 1: Get additional information</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#geometry-handling" id="id5">Geometry handling</a></p>
<ul>
<li><p><a class="reference internal" href="#exercise-2-route-geometry-human-readable" id="id6">Exercise 2: Route geometry (human readable)</a></p></li>
<li><p><a class="reference internal" href="#exercise-3-route-geometry-binary-format" id="id7">Exercise 3: Route geometry (binary format)</a></p></li>
<li><p><a class="reference internal" href="#exercise-4-route-geometry-directionality" id="id8">Exercise 4: Route geometry directionality</a></p></li>
<li><p><a class="reference internal" href="#exercise-5-using-the-geometry" id="id9">Exercise 5: Using the geometry</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#creating-the-function" id="id10">Creating the Function</a></p>
<ul>
<li><p><a class="reference internal" href="#exercise-6-function-for-an-application" id="id11">Exercise 6: Function for an application</a></p></li>
<li><p><a class="reference internal" href="#exercise-7-using-the-function" id="id12">Exercise 7: Using the function</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
<p>pgRouting functions provide <cite>low level</cite> interface.</p>
<p>When developing for a <cite>higher level</cite> application,
the requirements need to be represented in the SQL queries.
As these SQL queries get more complex, it is desirable to store them in postgreSQL
stored procedures or functions.
Stored procedures or functions are an effective way to wrap application logic, in this case,
related to routing logic and requirements.</p>
<section id="the-application-requirements">
<h2><a class="toc-backref" href="#id2" role="doc-backlink"><span class="section-number">5.1. </span>The application requirements</a><a class="headerlink" href="#the-application-requirements" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt>A front end needs the following routing information:</dt><dd><ul class="simple">
<li><p>seq - A unique identifier of the rows</p></li>
<li><p>id - The segment’s identifier</p></li>
<li><p>name - The segment’s name</p></li>
<li><p>length - The segment’s length</p></li>
<li><p>seconds - Number of seconds to traverse the segment</p></li>
<li><p>azimuth - The azimuth of the segment</p></li>
<li><p>route_geom - The routing geometry</p></li>
<li><p>route_readable - The geometry in human readable form.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Design of the function</p>
<p>The function to be created <code class="docutils literal notranslate"><span class="pre">wrk_dijkstra</span></code> with the following input parameters and
output columns:</p>
<p class="rubric">Input parameters</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>edges_subset</p></td>
<td><p>REGCLASS</p></td>
<td><p>The table/view that is going to be used for processing</p></td>
</tr>
<tr class="row-odd"><td><p>source_osm</p></td>
<td><p>BIGINT</p></td>
<td><p>The OSM identifier of the <cite>departure</cite> location.</p></td>
</tr>
<tr class="row-even"><td><p>target_osm</p></td>
<td><p>BIGINT</p></td>
<td><p>The OSM identifier of the <cite>destination</cite> location.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">output columns</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>seq</p></td>
<td><p>INTEGER</p></td>
<td><p>A unique number for each result row.</p></td>
</tr>
<tr class="row-odd"><td><p>id</p></td>
<td><p>BIGINT</p></td>
<td><p>The edge identifier.</p></td>
</tr>
<tr class="row-even"><td><p>name</p></td>
<td><p>TEXT</p></td>
<td><p>The name of the segment.</p></td>
</tr>
<tr class="row-odd"><td><p>seconds</p></td>
<td><p>FLOAT</p></td>
<td><p>The number of seconds it takes to traverse the segment.</p></td>
</tr>
<tr class="row-even"><td><p>azimuth</p></td>
<td><p>FLOAT</p></td>
<td><p>The azimuth of the segment.</p></td>
</tr>
<tr class="row-odd"><td><p>length</p></td>
<td><p>FLOAT</p></td>
<td><p>The leng in meters of the segment.</p></td>
</tr>
<tr class="row-even"><td><p>route_readable</p></td>
<td><p>TEXT</p></td>
<td><p>The geometry in human readable form.</p></td>
</tr>
<tr class="row-odd"><td><p>route_geom</p></td>
<td><p>geometry</p></td>
<td><p>The geometry of the segment in the correct direction.</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For the following exercises only <code class="docutils literal notranslate"><span class="pre">vehicle_net</span></code> will be used, but
you can test the queries with the other views.</p>
</div>
</section>
<section id="additional-information-handling">
<h2><a class="toc-backref" href="#id3" role="doc-backlink"><span class="section-number">5.2. </span>Additional information handling</a><a class="headerlink" href="#additional-information-handling" title="Link to this heading">¶</a></h2>
<p>When the application needs additional information, like the name of the street,
<code class="docutils literal notranslate"><span class="pre">JOIN</span></code> the results with other tables.</p>
<section id="exercise-1-get-additional-information">
<h3><a class="toc-backref" href="#id4" role="doc-backlink"><span class="section-number">5.2.1. </span>Exercise 1: Get additional information</a><a class="headerlink" href="#exercise-1-get-additional-information" title="Link to this heading">¶</a></h3>
<a class="reference internal image-reference" href="../_images/ch7-e4.png"><img alt="Route showing names" src="../_images/ch7-e4.png" style="width: 300pt;" />
</a>
<p class="rubric">Problem</p>
<ul class="simple">
<li><p>From Estação das Docas to Hangar Convention Center, using OSM identifiers.</p></li>
<li><p>Get the following information:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">seq</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">id</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">seconds</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">length</span></code></p></li>
</ul>
</li>
</ul>
<p class="rubric">Solution</p>
<ul class="simple">
<li><p>The columns asked (line <strong>2</strong>).</p></li>
<li><p>Rename <code class="docutils literal notranslate"><span class="pre">pgr_dijkstra</span></code> results to application requirements names. (line <strong>4</strong>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LEFT</span> <span class="pre">JOIN</span></code> the results with <code class="docutils literal notranslate"><span class="pre">vehicle_net</span></code> to get the additional information. (line <strong>9</strong>)</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">LEFT</span></code> to include the row with <code class="docutils literal notranslate"><span class="pre">id</span> <span class="pre">=</span> <span class="pre">-1</span></code> because it does not
exist on <code class="docutils literal notranslate"><span class="pre">vehicle_net</span></code></p></li>
</ul>
</li>
</ul>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">SELECT</span>
<span class="hll"><span class="linenos"> 2</span><span class="w">  </span><span class="n">seq</span><span class="p">,</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">seconds</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="k">length</span>
</span><span class="linenos"> 3</span><span class="k">FROM</span><span class="w"> </span><span class="p">(</span>
<span class="hll"><span class="linenos"> 4</span><span class="w">  </span><span class="k">SELECT</span><span class="w"> </span><span class="n">seq</span><span class="p">,</span><span class="w"> </span><span class="n">edge</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">node</span><span class="p">,</span><span class="w"> </span><span class="n">cost</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">seconds</span>
</span><span class="linenos"> 5</span><span class="w">  </span><span class="k">FROM</span><span class="w"> </span><span class="n">pgr_dijkstra</span><span class="p">(</span>
<span class="linenos"> 6</span><span class="w">      </span><span class="s1">&#39;SELECT * FROM vehicle_net&#39;</span><span class="p">,</span>
<span class="linenos"> 7</span><span class="w">      </span><span class="mi">5661895682</span><span class="p">,</span><span class="w"> </span><span class="mi">10982869752</span><span class="p">)</span>
<span class="linenos"> 8</span><span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">results</span>
<span class="hll"><span class="linenos"> 9</span><span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">vehicle_net</span><span class="w"> </span><span class="k">USING</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">)</span>
</span><span class="linenos">10</span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">seq</span><span class="p">;</span>
</pre></div>
</div>
<div class="sphinx_collapse docutils container">
<input class="sphinx_collapse__input" id="def867f3-4d71-43fa-8af9-401c603a42e0" name="def867f3-4d71-43fa-8af9-401c603a42e0" type="checkbox"><label class="sphinx_collapse__label" for="def867f3-4d71-43fa-8af9-401c603a42e0"><i class="sphinx_collapse__icon"></i>Query results</label><div class="sphinx_collapse__content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">seq</span> <span class="o">|</span>  <span class="nb">id</span>   <span class="o">|</span>       <span class="n">seconds</span>       <span class="o">|</span>            <span class="n">name</span>             <span class="o">|</span>       <span class="n">length</span>       
<span class="o">-----+-------+---------------------+-----------------------------+--------------------</span>
   <span class="mi">1</span> <span class="o">|</span> <span class="mi">12330</span> <span class="o">|</span>  <span class="mf">15.524784130497913</span> <span class="o">|</span>                             <span class="o">|</span>   <span class="mf">215.622001812471</span>
   <span class="mi">2</span> <span class="o">|</span> <span class="mi">21129</span> <span class="o">|</span>  <span class="mf">1.3832547478053674</span> <span class="o">|</span>                             <span class="o">|</span>  <span class="mf">19.21187149729677</span>
   <span class="mi">3</span> <span class="o">|</span> <span class="mi">21131</span> <span class="o">|</span>  <span class="mf">1.9280336595020124</span> <span class="o">|</span>                             <span class="o">|</span> <span class="mf">26.778245270861284</span>
   <span class="mi">4</span> <span class="o">|</span> <span class="mi">21112</span> <span class="o">|</span>  <span class="mf">1.5797574712432596</span> <span class="o">|</span>                             <span class="o">|</span>  <span class="mf">21.94107598948972</span>
   <span class="mi">5</span> <span class="o">|</span> <span class="mi">27014</span> <span class="o">|</span>  <span class="mf">2.7562902149372817</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Presidente</span> <span class="n">Vargas</span>   <span class="o">|</span>  <span class="mf">38.28180854079558</span>
   <span class="mi">6</span> <span class="o">|</span> <span class="mi">25652</span> <span class="o">|</span>   <span class="mf">1.257276586974714</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Presidente</span> <span class="n">Vargas</span>   <span class="o">|</span>  <span class="mf">17.46217481909325</span>
   <span class="mi">7</span> <span class="o">|</span>  <span class="mi">1563</span> <span class="o">|</span>  <span class="mf">0.8261818244747761</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Presidente</span> <span class="n">Vargas</span>   <span class="o">|</span> <span class="mf">11.474747562149668</span>
   <span class="mi">8</span> <span class="o">|</span>  <span class="mi">1465</span> <span class="o">|</span>  <span class="mf">2.5336780711955815</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Presidente</span> <span class="n">Vargas</span>   <span class="o">|</span>  <span class="mf">35.18997321104975</span>
   <span class="mi">9</span> <span class="o">|</span> <span class="mi">25650</span> <span class="o">|</span>  <span class="mf">1.0902230020328585</span> <span class="o">|</span> <span class="n">Rua</span> <span class="n">Gaspar</span> <span class="n">Viana</span>            <span class="o">|</span> <span class="mf">15.141986139345258</span>
  <span class="mi">10</span> <span class="o">|</span>  <span class="mi">1521</span> <span class="o">|</span>   <span class="mf">6.902771289375067</span> <span class="o">|</span> <span class="n">Rua</span> <span class="n">Gaspar</span> <span class="n">Viana</span>            <span class="o">|</span>   <span class="mf">95.8718234635426</span>
  <span class="mi">11</span> <span class="o">|</span> <span class="mi">21107</span> <span class="o">|</span>  <span class="mf">11.379450793071967</span> <span class="o">|</span> <span class="n">Rua</span> <span class="n">Gaspar</span> <span class="n">Viana</span>            <span class="o">|</span>  <span class="mf">158.0479276815551</span>
  <span class="mi">12</span> <span class="o">|</span> <span class="mi">21110</span> <span class="o">|</span> <span class="mf">0.29521747905042584</span> <span class="o">|</span> <span class="n">Rua</span> <span class="n">Gaspar</span> <span class="n">Viana</span>            <span class="o">|</span>  <span class="mf">4.100242764589248</span>
  <span class="mi">13</span> <span class="o">|</span>  <span class="mi">1561</span> <span class="o">|</span>   <span class="mf">4.998629529373359</span> <span class="o">|</span> <span class="n">Rua</span> <span class="n">Gaspar</span> <span class="n">Viana</span>            <span class="o">|</span>  <span class="mf">69.42541013018554</span>
  <span class="mi">14</span> <span class="o">|</span>  <span class="mi">7901</span> <span class="o">|</span>   <span class="mf">4.282593276611086</span> <span class="o">|</span> <span class="n">Travessa</span> <span class="n">Piedade</span>            <span class="o">|</span>  <span class="mf">59.48046217515398</span>
  <span class="mi">15</span> <span class="o">|</span>  <span class="mi">1157</span> <span class="o">|</span>   <span class="mf">6.290079099189824</span> <span class="o">|</span> <span class="n">Travessa</span> <span class="n">Piedade</span>            <span class="o">|</span>  <span class="mf">87.36220971096978</span>
  <span class="mi">16</span> <span class="o">|</span>  <span class="mi">1171</span> <span class="o">|</span>   <span class="mf">3.902541587180251</span> <span class="o">|</span> <span class="n">Travessa</span> <span class="n">Piedade</span>            <span class="o">|</span> <span class="mf">54.201966488614595</span>
  <span class="mi">17</span> <span class="o">|</span>  <span class="mi">1524</span> <span class="o">|</span>   <span class="mf">5.366307517699673</span> <span class="o">|</span> <span class="n">Travessa</span> <span class="n">Piedade</span>            <span class="o">|</span>  <span class="mf">74.53204885693991</span>
  <span class="mi">18</span> <span class="o">|</span>  <span class="mi">1523</span> <span class="o">|</span>   <span class="mf">3.847332889043566</span> <span class="o">|</span> <span class="n">Travessa</span> <span class="n">Piedade</span>            <span class="o">|</span> <span class="mf">53.435179014493976</span>
  <span class="mi">19</span> <span class="o">|</span> <span class="mi">10177</span> <span class="o">|</span>  <span class="mf">1.1883313673895817</span> <span class="o">|</span> <span class="n">Travessa</span> <span class="n">Piedade</span>            <span class="o">|</span> <span class="mf">16.504602324855302</span>
  <span class="mi">20</span> <span class="o">|</span>  <span class="mi">1522</span> <span class="o">|</span>  <span class="mf">1.8206285826215138</span> <span class="o">|</span> <span class="n">Travessa</span> <span class="n">Piedade</span>            <span class="o">|</span>  <span class="mf">25.28650809196547</span>
  <span class="mi">21</span> <span class="o">|</span>  <span class="mi">8009</span> <span class="o">|</span>  <span class="mf">4.3867454079934305</span> <span class="o">|</span> <span class="n">Rua</span> <span class="n">Aristides</span> <span class="n">Lobo</span>          <span class="o">|</span>  <span class="mf">60.92701955546431</span>
  <span class="mi">22</span> <span class="o">|</span>   <span class="mi">737</span> <span class="o">|</span>  <span class="mf">12.271269518712748</span> <span class="o">|</span> <span class="n">Rua</span> <span class="n">Aristides</span> <span class="n">Lobo</span>          <span class="o">|</span> <span class="mf">170.43429887101038</span>
  <span class="mi">23</span> <span class="o">|</span>  <span class="mi">1541</span> <span class="o">|</span>   <span class="mf">8.736671095846257</span> <span class="o">|</span> <span class="n">Rua</span> <span class="n">Aristides</span> <span class="n">Lobo</span>          <span class="o">|</span> <span class="mf">121.34265410897578</span>
  <span class="mi">24</span> <span class="o">|</span>   <span class="mi">734</span> <span class="o">|</span>   <span class="mf">8.768099590855243</span> <span class="o">|</span> <span class="n">Rua</span> <span class="n">Aristides</span> <span class="n">Lobo</span>          <span class="o">|</span> <span class="mf">121.77916098410061</span>
  <span class="mi">25</span> <span class="o">|</span> <span class="mi">16631</span> <span class="o">|</span>  <span class="mf">16.273468016800575</span> <span class="o">|</span> <span class="n">Rua</span> <span class="n">Aristides</span> <span class="n">Lobo</span>          <span class="o">|</span> <span class="mf">226.02038912223023</span>
  <span class="mi">26</span> <span class="o">|</span> <span class="mi">11102</span> <span class="o">|</span>  <span class="mf">0.8132364758273772</span> <span class="o">|</span> <span class="n">Rua</span> <span class="n">Aristides</span> <span class="n">Lobo</span>          <span class="o">|</span> <span class="mf">11.294951053158018</span>
  <span class="mi">27</span> <span class="o">|</span> <span class="mi">10424</span> <span class="o">|</span>   <span class="mf">1.190985214714288</span> <span class="o">|</span> <span class="n">Rua</span> <span class="n">Aristides</span> <span class="n">Lobo</span>          <span class="o">|</span> <span class="mf">16.541461315476223</span>
  <span class="mi">28</span> <span class="o">|</span> <span class="mi">25791</span> <span class="o">|</span> <span class="mf">0.20484476263187593</span> <span class="o">|</span> <span class="n">Travessa</span> <span class="n">Diogo</span> <span class="n">Móia</span>         <span class="o">|</span> <span class="mf">2.8450661476649435</span>
  <span class="mi">29</span> <span class="o">|</span> <span class="mi">25788</span> <span class="o">|</span> <span class="mf">0.31479771404687557</span> <span class="o">|</span> <span class="n">Travessa</span> <span class="n">Diogo</span> <span class="n">Móia</span>         <span class="o">|</span>  <span class="mf">4.372190472873272</span>
  <span class="mi">30</span> <span class="o">|</span> <span class="mi">25787</span> <span class="o">|</span>  <span class="mf">0.8251417120487653</span> <span class="o">|</span> <span class="n">Travessa</span> <span class="n">Diogo</span> <span class="n">Móia</span>         <span class="o">|</span> <span class="mf">11.460301556232851</span>
  <span class="mi">31</span> <span class="o">|</span> <span class="mi">25790</span> <span class="o">|</span> <span class="mf">0.13115464365250873</span> <span class="o">|</span> <span class="n">Travessa</span> <span class="n">Diogo</span> <span class="n">Móia</span>         <span class="o">|</span> <span class="mf">1.8215922729515102</span>
  <span class="mi">32</span> <span class="o">|</span>   <span class="mi">490</span> <span class="o">|</span>  <span class="mf">0.6341116902606293</span> <span class="o">|</span> <span class="n">Travessa</span> <span class="n">Diogo</span> <span class="n">Móia</span>         <span class="o">|</span>  <span class="mf">8.807106809175407</span>
  <span class="mi">33</span> <span class="o">|</span> <span class="mi">15075</span> <span class="o">|</span>   <span class="mf">0.513224475695611</span> <span class="o">|</span> <span class="n">Rua</span> <span class="n">Diogo</span> <span class="n">Móia</span>              <span class="o">|</span> <span class="mf">7.1281177179945985</span>
  <span class="mi">34</span> <span class="o">|</span> <span class="mi">16587</span> <span class="o">|</span>  <span class="mf">0.9521505332823582</span> <span class="o">|</span> <span class="n">Rua</span> <span class="n">Diogo</span> <span class="n">Móia</span>              <span class="o">|</span> <span class="mf">13.224312962254976</span>
  <span class="mi">35</span> <span class="o">|</span> <span class="mi">10288</span> <span class="o">|</span>    <span class="mf">6.79308438400355</span> <span class="o">|</span> <span class="n">Rua</span> <span class="n">Diogo</span> <span class="n">Móia</span>              <span class="o">|</span>  <span class="mf">94.34839422227154</span>
  <span class="mi">36</span> <span class="o">|</span> <span class="mi">19919</span> <span class="o">|</span>   <span class="mf">4.042078698838966</span> <span class="o">|</span> <span class="n">Rua</span> <span class="n">Diogo</span> <span class="n">Móia</span>              <span class="o">|</span>  <span class="mf">56.13998192831898</span>
  <span class="mi">37</span> <span class="o">|</span>   <span class="mi">494</span> <span class="o">|</span>   <span class="mf">5.202097168286554</span> <span class="o">|</span> <span class="n">Rua</span> <span class="n">Diogo</span> <span class="n">Móia</span>              <span class="o">|</span>  <span class="mf">72.25134955953547</span>
  <span class="mi">38</span> <span class="o">|</span> <span class="mi">13564</span> <span class="o">|</span>   <span class="mf">4.941927315603786</span> <span class="o">|</span> <span class="n">Rua</span> <span class="n">Diogo</span> <span class="n">Móia</span>              <span class="o">|</span>  <span class="mf">68.63787938338592</span>
  <span class="mi">39</span> <span class="o">|</span>  <span class="mi">7996</span> <span class="o">|</span>   <span class="mf">3.288842647190927</span> <span class="o">|</span> <span class="n">Rua</span> <span class="n">Diogo</span> <span class="n">Móia</span>              <span class="o">|</span>  <span class="mf">45.67837009987399</span>
  <span class="mi">40</span> <span class="o">|</span> <span class="mi">21319</span> <span class="o">|</span>  <span class="mf">1.8920872342564647</span> <span class="o">|</span> <span class="n">Rua</span> <span class="n">Diogo</span> <span class="n">Móia</span>              <span class="o">|</span> <span class="mf">26.278989364673123</span>
  <span class="mi">41</span> <span class="o">|</span> <span class="mi">15903</span> <span class="o">|</span>   <span class="mf">5.824022206882501</span> <span class="o">|</span> <span class="n">Rua</span> <span class="n">Diogo</span> <span class="n">Móia</span>              <span class="o">|</span>  <span class="mf">80.88919731781252</span>
  <span class="mi">42</span> <span class="o">|</span> <span class="mi">21317</span> <span class="o">|</span>   <span class="mf">1.993560974295293</span> <span class="o">|</span> <span class="n">Rua</span> <span class="n">Diogo</span> <span class="n">Móia</span>              <span class="o">|</span> <span class="mf">27.688346865212406</span>
  <span class="mi">43</span> <span class="o">|</span> <span class="mi">17312</span> <span class="o">|</span>  <span class="mf">0.4378734082628067</span> <span class="o">|</span> <span class="n">Rua</span> <span class="n">Diogo</span> <span class="n">Móia</span>              <span class="o">|</span>  <span class="mf">6.081575114761204</span>
  <span class="mi">44</span> <span class="o">|</span> <span class="mi">21315</span> <span class="o">|</span>   <span class="mf">2.509473129812086</span> <span class="o">|</span> <span class="n">Rua</span> <span class="n">Diogo</span> <span class="n">Móia</span>              <span class="o">|</span> <span class="mf">34.853793469612306</span>
  <span class="mi">45</span> <span class="o">|</span>   <span class="mi">118</span> <span class="o">|</span>   <span class="mf">4.244742767046388</span> <span class="o">|</span> <span class="n">Rua</span> <span class="n">Diogo</span> <span class="n">Móia</span>              <span class="o">|</span> <span class="mf">58.954760653422056</span>
  <span class="mi">46</span> <span class="o">|</span>   <span class="mi">426</span> <span class="o">|</span>   <span class="mf">7.098003188105837</span> <span class="o">|</span> <span class="n">Rua</span> <span class="n">Diogo</span> <span class="n">Móia</span>              <span class="o">|</span>  <span class="mf">98.58337761258107</span>
  <span class="mi">47</span> <span class="o">|</span> <span class="mi">21279</span> <span class="o">|</span>  <span class="mf">12.800597760163162</span> <span class="o">|</span> <span class="n">Rua</span> <span class="n">Diogo</span> <span class="n">Móia</span>              <span class="o">|</span> <span class="mf">177.78608000226615</span>
  <span class="mi">48</span> <span class="o">|</span>   <span class="mi">420</span> <span class="o">|</span>   <span class="mf">6.233102186262337</span> <span class="o">|</span> <span class="n">Rua</span> <span class="n">Diogo</span> <span class="n">Móia</span>              <span class="o">|</span>  <span class="mf">86.57086369808802</span>
  <span class="mi">49</span> <span class="o">|</span> <span class="mi">10261</span> <span class="o">|</span>  <span class="mf">16.956996232401103</span> <span class="o">|</span> <span class="n">Rua</span> <span class="n">Diogo</span> <span class="n">Móia</span>              <span class="o">|</span> <span class="mf">235.51383656112642</span>
  <span class="mi">50</span> <span class="o">|</span> <span class="mi">12980</span> <span class="o">|</span>  <span class="mf">10.652203704142801</span> <span class="o">|</span> <span class="n">Rua</span> <span class="n">Diogo</span> <span class="n">Móia</span>              <span class="o">|</span>    <span class="mf">147.94727366865</span>
  <span class="mi">51</span> <span class="o">|</span> <span class="mi">23224</span> <span class="o">|</span>   <span class="mf">3.009517623726086</span> <span class="o">|</span> <span class="n">Rua</span> <span class="n">Diogo</span> <span class="n">Móia</span>              <span class="o">|</span>  <span class="mf">41.79885588508453</span>
  <span class="mi">52</span> <span class="o">|</span> <span class="mi">13645</span> <span class="o">|</span>  <span class="mf">0.6546714011398842</span> <span class="o">|</span> <span class="n">Rua</span> <span class="n">Diogo</span> <span class="n">Móia</span>              <span class="o">|</span>  <span class="mf">9.092658349165058</span>
  <span class="mi">53</span> <span class="o">|</span> <span class="mi">20638</span> <span class="o">|</span>   <span class="mf">5.091397734617478</span> <span class="o">|</span> <span class="n">Rua</span> <span class="n">Diogo</span> <span class="n">Móia</span>              <span class="o">|</span>  <span class="mf">70.71385742524275</span>
  <span class="mi">54</span> <span class="o">|</span> <span class="mi">20327</span> <span class="o">|</span>  <span class="mf">6.2518419353429895</span> <span class="o">|</span> <span class="n">Rua</span> <span class="n">Diogo</span> <span class="n">Móia</span>              <span class="o">|</span>  <span class="mf">86.83113799087485</span>
  <span class="mi">55</span> <span class="o">|</span> <span class="mi">20329</span> <span class="o">|</span> <span class="mf">0.23016236153556516</span> <span class="o">|</span> <span class="n">Rua</span> <span class="n">Diogo</span> <span class="n">Móia</span>              <span class="o">|</span> <span class="mf">3.1966994657717382</span>
  <span class="mi">56</span> <span class="o">|</span> <span class="mi">20326</span> <span class="o">|</span>  <span class="mf">1.7318862463975737</span> <span class="o">|</span> <span class="n">Rua</span> <span class="n">Diogo</span> <span class="n">Móia</span>              <span class="o">|</span> <span class="mf">24.053975644410748</span>
  <span class="mi">57</span> <span class="o">|</span> <span class="mi">10423</span> <span class="o">|</span>   <span class="mf">0.523787790511925</span> <span class="o">|</span> <span class="n">Rua</span> <span class="n">Diogo</span> <span class="n">Móia</span>              <span class="o">|</span>  <span class="mf">7.274830423776736</span>
  <span class="mi">58</span> <span class="o">|</span> <span class="mi">10707</span> <span class="o">|</span>  <span class="mf">3.7802204381742057</span> <span class="o">|</span> <span class="n">Rua</span> <span class="n">Diogo</span> <span class="n">Móia</span>              <span class="o">|</span>  <span class="mf">52.50306164130841</span>
  <span class="mi">59</span> <span class="o">|</span> <span class="mi">10704</span> <span class="o">|</span>  <span class="mf">2.9621272391801856</span> <span class="o">|</span> <span class="n">Rua</span> <span class="n">Diogo</span> <span class="n">Móia</span>              <span class="o">|</span>   <span class="mf">41.1406560997248</span>
  <span class="mi">60</span> <span class="o">|</span> <span class="mi">10705</span> <span class="o">|</span>   <span class="mf">9.713772946965593</span> <span class="o">|</span> <span class="n">Passagem</span> <span class="n">Ademar</span> <span class="n">de</span> <span class="n">Barros</span>   <span class="o">|</span>  <span class="mf">134.9135131522999</span>
  <span class="mi">61</span> <span class="o">|</span>  <span class="mi">1640</span> <span class="o">|</span>   <span class="mf">4.866093309963141</span> <span class="o">|</span> <span class="n">Rua</span> <span class="n">Oliveira</span> <span class="n">Belo</span>           <span class="o">|</span>  <span class="mf">67.58462930504362</span>
  <span class="mi">62</span> <span class="o">|</span>  <span class="mi">1634</span> <span class="o">|</span>  <span class="mf">1.8450236691710133</span> <span class="o">|</span> <span class="n">Rua</span> <span class="n">Oliveira</span> <span class="n">Belo</span>           <span class="o">|</span> <span class="mf">25.625328738486296</span>
  <span class="mi">63</span> <span class="o">|</span> <span class="mi">26480</span> <span class="o">|</span>   <span class="mf">7.492375612832364</span> <span class="o">|</span> <span class="n">Travessa</span> <span class="n">Antônio</span> <span class="n">Baena</span>      <span class="o">|</span> <span class="mf">104.06077240044951</span>
  <span class="mi">64</span> <span class="o">|</span> <span class="mi">28009</span> <span class="o">|</span>  <span class="mf">1.2762150674274921</span> <span class="o">|</span>                             <span class="o">|</span>  <span class="mf">17.72520926982628</span>
  <span class="mi">65</span> <span class="o">|</span> <span class="mi">30981</span> <span class="o">|</span>   <span class="mf">8.974698136787968</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Visconde</span> <span class="n">de</span> <span class="n">Inhaúma</span> <span class="o">|</span> <span class="mf">124.64858523316623</span>
  <span class="mi">66</span> <span class="o">|</span> <span class="mi">30967</span> <span class="o">|</span>  <span class="mf">11.426821303797581</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Visconde</span> <span class="n">de</span> <span class="n">Inhaúma</span> <span class="o">|</span>  <span class="mf">158.7058514416331</span>
  <span class="mi">67</span> <span class="o">|</span> <span class="mi">31047</span> <span class="o">|</span>   <span class="mf">6.843449979048051</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Visconde</span> <span class="n">de</span> <span class="n">Inhaúma</span> <span class="o">|</span>  <span class="mf">95.04791637566738</span>
  <span class="mi">68</span> <span class="o">|</span> <span class="mi">30968</span> <span class="o">|</span>   <span class="mf">5.371463742537426</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Visconde</span> <span class="n">de</span> <span class="n">Inhaúma</span> <span class="o">|</span>  <span class="mf">74.60366309079758</span>
  <span class="mi">69</span> <span class="o">|</span> <span class="mi">13804</span> <span class="o">|</span>   <span class="mf">6.891165135191777</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Visconde</span> <span class="n">de</span> <span class="n">Inhaúma</span> <span class="o">|</span>  <span class="mf">95.71062687766357</span>
  <span class="mi">70</span> <span class="o">|</span> <span class="mi">20576</span> <span class="o">|</span>   <span class="mf">5.029367334518458</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Visconde</span> <span class="n">de</span> <span class="n">Inhaúma</span> <span class="o">|</span>  <span class="mf">69.85232409053414</span>
  <span class="mi">71</span> <span class="o">|</span> <span class="mi">27292</span> <span class="o">|</span>  <span class="mf">11.424085973770163</span> <span class="o">|</span> <span class="n">Travessa</span> <span class="n">Vileta</span>             <span class="o">|</span> <span class="mf">158.66786074680783</span>
  <span class="mi">72</span> <span class="o">|</span> <span class="mi">18871</span> <span class="o">|</span>   <span class="mf">9.415570236830515</span> <span class="o">|</span> <span class="n">Travessa</span> <span class="n">Vileta</span>             <span class="o">|</span> <span class="mf">130.77180884486827</span>
  <span class="mi">73</span> <span class="o">|</span>  <span class="mi">7965</span> <span class="o">|</span>  <span class="mf">3.1844332113173706</span> <span class="o">|</span> <span class="n">Travessa</span> <span class="n">Vileta</span>             <span class="o">|</span>  <span class="mf">44.22823904607459</span>
  <span class="mi">74</span> <span class="o">|</span>  <span class="mi">3251</span> <span class="o">|</span>  <span class="mf">0.8113013928027758</span> <span class="o">|</span> <span class="n">Travessa</span> <span class="n">Vileta</span>             <span class="o">|</span> <span class="mf">11.268074900038552</span>
  <span class="mi">75</span> <span class="o">|</span> <span class="mi">17710</span> <span class="o">|</span>  <span class="mf">0.7922380389137641</span> <span class="o">|</span> <span class="n">Travessa</span> <span class="n">Vileta</span>             <span class="o">|</span> <span class="mf">11.003306096024502</span>
  <span class="mi">76</span> <span class="o">|</span>  <span class="mi">3152</span> <span class="o">|</span>  <span class="mf">0.9929476188366739</span> <span class="o">|</span> <span class="n">Travessa</span> <span class="n">Vileta</span>             <span class="o">|</span> <span class="mf">13.790939150509361</span>
  <span class="mi">77</span> <span class="o">|</span> <span class="mi">18323</span> <span class="o">|</span>   <span class="mf">0.589059340205777</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Duque</span> <span class="n">de</span> <span class="n">Caxias</span>     <span class="o">|</span>  <span class="mf">9.817655670096284</span>
  <span class="mi">78</span> <span class="o">|</span> <span class="mi">15311</span> <span class="o">|</span>   <span class="mf">7.802332894772054</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Duque</span> <span class="n">de</span> <span class="n">Caxias</span>     <span class="o">|</span> <span class="mf">130.03888157953423</span>
  <span class="mi">79</span> <span class="o">|</span>  <span class="mi">3157</span> <span class="o">|</span>   <span class="mf">1.451915421445249</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Duque</span> <span class="n">de</span> <span class="n">Caxias</span>     <span class="o">|</span>  <span class="mf">24.19859035742082</span>
  <span class="mi">80</span> <span class="o">|</span> <span class="mi">11145</span> <span class="o">|</span>  <span class="mf">4.1291968838076585</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Duque</span> <span class="n">de</span> <span class="n">Caxias</span>     <span class="o">|</span>  <span class="mf">68.81994806346098</span>
  <span class="mi">81</span> <span class="o">|</span> <span class="mi">18329</span> <span class="o">|</span>   <span class="mf">5.071210660887403</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Duque</span> <span class="n">de</span> <span class="n">Caxias</span>     <span class="o">|</span>  <span class="mf">84.52017768145673</span>
  <span class="mi">82</span> <span class="o">|</span>  <span class="mi">3162</span> <span class="o">|</span>  <span class="mf">0.6588005157910573</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Duque</span> <span class="n">de</span> <span class="n">Caxias</span>     <span class="o">|</span>  <span class="mf">10.98000859651762</span>
  <span class="mi">83</span> <span class="o">|</span> <span class="mi">15304</span> <span class="o">|</span>  <span class="mf">0.6624379620171468</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Duque</span> <span class="n">de</span> <span class="n">Caxias</span>     <span class="o">|</span>  <span class="mf">11.04063270028578</span>
  <span class="mi">84</span> <span class="o">|</span> <span class="mi">15301</span> <span class="o">|</span>    <span class="mf">7.64331893402423</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Duque</span> <span class="n">de</span> <span class="n">Caxias</span>     <span class="o">|</span> <span class="mf">127.38864890040385</span>
  <span class="mi">85</span> <span class="o">|</span>   <span class="mi">369</span> <span class="o">|</span>  <span class="mf">1.6185624439136164</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Duque</span> <span class="n">de</span> <span class="n">Caxias</span>     <span class="o">|</span> <span class="mf">26.976040731893608</span>
  <span class="mi">86</span> <span class="o">|</span> <span class="mi">15293</span> <span class="o">|</span>  <span class="mf">1.5426950808720525</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Duque</span> <span class="n">de</span> <span class="n">Caxias</span>     <span class="o">|</span>  <span class="mf">25.71158468120088</span>
  <span class="mi">87</span> <span class="o">|</span> <span class="mi">10411</span> <span class="o">|</span>    <span class="mf">8.10018215092719</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Duque</span> <span class="n">de</span> <span class="n">Caxias</span>     <span class="o">|</span>  <span class="mf">135.0030358487865</span>
  <span class="mi">88</span> <span class="o">|</span> <span class="mi">10409</span> <span class="o">|</span>  <span class="mf">0.8010340812788996</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Duque</span> <span class="n">de</span> <span class="n">Caxias</span>     <span class="o">|</span> <span class="mf">13.350568021314995</span>
  <span class="mi">89</span> <span class="o">|</span> <span class="mi">10752</span> <span class="o">|</span> <span class="mf">0.32174055743410845</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Duque</span> <span class="n">de</span> <span class="n">Caxias</span>     <span class="o">|</span>  <span class="mf">5.362342623901808</span>
  <span class="mi">90</span> <span class="o">|</span> <span class="mi">15286</span> <span class="o">|</span>   <span class="mf">5.603200219924484</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Duque</span> <span class="n">de</span> <span class="n">Caxias</span>     <span class="o">|</span>  <span class="mf">93.38667033207474</span>
  <span class="mi">91</span> <span class="o">|</span>  <span class="mi">1842</span> <span class="o">|</span>  <span class="mf">3.4154739303977477</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Duque</span> <span class="n">de</span> <span class="n">Caxias</span>     <span class="o">|</span>  <span class="mf">56.92456550662913</span>
  <span class="mi">92</span> <span class="o">|</span>  <span class="mi">3171</span> <span class="o">|</span>   <span class="mf">4.719295193747098</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Duque</span> <span class="n">de</span> <span class="n">Caxias</span>     <span class="o">|</span>  <span class="mf">78.65491989578497</span>
  <span class="mi">93</span> <span class="o">|</span>  <span class="mi">3169</span> <span class="o">|</span>   <span class="mf">2.494985805447332</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Duque</span> <span class="n">de</span> <span class="n">Caxias</span>     <span class="o">|</span> <span class="mf">41.583096757455536</span>
  <span class="mi">94</span> <span class="o">|</span>  <span class="mi">7935</span> <span class="o">|</span>  <span class="mf">1.1336853637583644</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Duque</span> <span class="n">de</span> <span class="n">Caxias</span>     <span class="o">|</span>  <span class="mf">18.89475606263941</span>
  <span class="mi">95</span> <span class="o">|</span> <span class="mi">27846</span> <span class="o">|</span>  <span class="mf">0.8904302856085814</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Duque</span> <span class="n">de</span> <span class="n">Caxias</span>     <span class="o">|</span> <span class="mf">14.840504760143025</span>
  <span class="mi">96</span> <span class="o">|</span>   <span class="mi">336</span> <span class="o">|</span>   <span class="mf">0.698022009641036</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Duque</span> <span class="n">de</span> <span class="n">Caxias</span>     <span class="o">|</span> <span class="mf">11.633700160683935</span>
  <span class="mi">97</span> <span class="o">|</span> <span class="mi">27848</span> <span class="o">|</span>  <span class="mf">0.6564041634973928</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Duque</span> <span class="n">de</span> <span class="n">Caxias</span>     <span class="o">|</span> <span class="mf">10.940069391623215</span>
  <span class="mi">98</span> <span class="o">|</span> <span class="mi">10345</span> <span class="o">|</span>  <span class="mf">0.9834944305474466</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Duque</span> <span class="n">de</span> <span class="n">Caxias</span>     <span class="o">|</span> <span class="mf">16.391573842457444</span>
  <span class="mi">99</span> <span class="o">|</span> <span class="mi">10053</span> <span class="o">|</span>  <span class="mf">2.9402965329150215</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Duque</span> <span class="n">de</span> <span class="n">Caxias</span>     <span class="o">|</span>  <span class="mf">49.00494221525036</span>
 <span class="mi">100</span> <span class="o">|</span>  <span class="mi">1724</span> <span class="o">|</span>   <span class="mf">5.355184246550181</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Duque</span> <span class="n">de</span> <span class="n">Caxias</span>     <span class="o">|</span>  <span class="mf">89.25307077583635</span>
 <span class="mi">101</span> <span class="o">|</span> <span class="mi">10926</span> <span class="o">|</span>  <span class="mf">3.8274834071623784</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Duque</span> <span class="n">de</span> <span class="n">Caxias</span>     <span class="o">|</span>  <span class="mf">63.79139011937298</span>
 <span class="mi">102</span> <span class="o">|</span>  <span class="mi">1728</span> <span class="o">|</span>  <span class="mf">1.4213261487655227</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Duque</span> <span class="n">de</span> <span class="n">Caxias</span>     <span class="o">|</span> <span class="mf">23.688769146092046</span>
 <span class="mi">103</span> <span class="o">|</span>  <span class="mi">1730</span> <span class="o">|</span>   <span class="mf">4.631815146870902</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Duque</span> <span class="n">de</span> <span class="n">Caxias</span>     <span class="o">|</span>  <span class="mf">77.19691911451504</span>
 <span class="mi">104</span> <span class="o">|</span> <span class="mi">10918</span> <span class="o">|</span>   <span class="mf">3.940277020140121</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Duque</span> <span class="n">de</span> <span class="n">Caxias</span>     <span class="o">|</span>  <span class="mf">65.67128366900202</span>
 <span class="mi">105</span> <span class="o">|</span> <span class="mi">12968</span> <span class="o">|</span>  <span class="mf">0.8433302614957165</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Duque</span> <span class="n">de</span> <span class="n">Caxias</span>     <span class="o">|</span> <span class="mf">14.055504358261944</span>
 <span class="mi">106</span> <span class="o">|</span> <span class="mi">10389</span> <span class="o">|</span>   <span class="mf">5.077008239497512</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Duque</span> <span class="n">de</span> <span class="n">Caxias</span>     <span class="o">|</span>   <span class="mf">84.6168039916252</span>
 <span class="mi">107</span> <span class="o">|</span> <span class="mi">12970</span> <span class="o">|</span>   <span class="mf">3.541402184491856</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Duque</span> <span class="n">de</span> <span class="n">Caxias</span>     <span class="o">|</span>  <span class="mf">59.02336974153094</span>
 <span class="mi">108</span> <span class="o">|</span> <span class="mi">24119</span> <span class="o">|</span>   <span class="mf">1.163994608512139</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Duque</span> <span class="n">de</span> <span class="n">Caxias</span>     <span class="o">|</span> <span class="mf">19.399910141868986</span>
 <span class="mi">109</span> <span class="o">|</span>  <span class="mi">1734</span> <span class="o">|</span>   <span class="mf">5.407282465448289</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Duque</span> <span class="n">de</span> <span class="n">Caxias</span>     <span class="o">|</span>  <span class="mf">90.12137442413815</span>
 <span class="mi">110</span> <span class="o">|</span>  <span class="mi">1738</span> <span class="o">|</span>  <span class="mf">5.6631558817312015</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Duque</span> <span class="n">de</span> <span class="n">Caxias</span>     <span class="o">|</span>   <span class="mf">94.3859313621867</span>
 <span class="mi">111</span> <span class="o">|</span> <span class="mi">24310</span> <span class="o">|</span>  <span class="mf">2.8288056582150825</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Duque</span> <span class="n">de</span> <span class="n">Caxias</span>     <span class="o">|</span>  <span class="mf">47.14676097025138</span>
 <span class="mi">112</span> <span class="o">|</span> <span class="mi">10916</span> <span class="o">|</span>  <span class="mf">1.5788656574755486</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Duque</span> <span class="n">de</span> <span class="n">Caxias</span>     <span class="o">|</span>  <span class="mf">26.31442762459248</span>
 <span class="mi">113</span> <span class="o">|</span>    <span class="mi">96</span> <span class="o">|</span>  <span class="mf">1.6125042321092125</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Duque</span> <span class="n">de</span> <span class="n">Caxias</span>     <span class="o">|</span> <span class="mf">26.875070535153544</span>
 <span class="mi">114</span> <span class="o">|</span>    <span class="mi">94</span> <span class="o">|</span>  <span class="mf">1.4555596260266292</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Brigadeiro</span> <span class="n">Protázio</span> <span class="o">|</span>  <span class="mf">20.21610591703652</span>
 <span class="mi">115</span> <span class="o">|</span> <span class="mi">15817</span> <span class="o">|</span>  <span class="mf">0.7379112639781683</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Doutor</span> <span class="n">Freitas</span>      <span class="o">|</span> <span class="mf">10.248767555252337</span>
 <span class="mi">116</span> <span class="o">|</span>   <span class="mi">507</span> <span class="o">|</span>  <span class="mf">1.0674675004507879</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Doutor</span> <span class="n">Freitas</span>      <span class="o">|</span> <span class="mf">14.825937506260944</span>
 <span class="mi">117</span> <span class="o">|</span> <span class="mi">26943</span> <span class="o">|</span>  <span class="mf">0.9357212700059486</span> <span class="o">|</span> <span class="n">Avenida</span> <span class="n">Doutor</span> <span class="n">Freitas</span>      <span class="o">|</span>  <span class="mf">12.99612875008262</span>
 <span class="mi">118</span> <span class="o">|</span>    <span class="o">-</span><span class="mi">1</span> <span class="o">|</span>                   <span class="mi">0</span> <span class="o">|</span>                             <span class="o">|</span>                   
<span class="p">(</span><span class="mi">118</span> <span class="n">rows</span><span class="p">)</span>

</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="geometry-handling">
<h2><a class="toc-backref" href="#id5" role="doc-backlink"><span class="section-number">5.3. </span>Geometry handling</a><a class="headerlink" href="#geometry-handling" title="Link to this heading">¶</a></h2>
<p>From pgRouting point of view, the geometry is part of the additional
information, needed on the results for an application.  Therefore <code class="docutils literal notranslate"><span class="pre">JOIN</span></code> the
results with other tables that contain the geometry, but for further processing
use PostGIS functions.</p>
<section id="exercise-2-route-geometry-human-readable">
<h3><a class="toc-backref" href="#id6" role="doc-backlink"><span class="section-number">5.3.1. </span>Exercise 2: Route geometry (human readable)</a><a class="headerlink" href="#exercise-2-route-geometry-human-readable" title="Link to this heading">¶</a></h3>
<a class="reference internal image-reference" href="../_images/ch7-e4.png"><img alt="From |ch7_place_1| to |ch7_place_2|" src="../_images/ch7-e4.png" style="width: 300pt;" />
</a>
<p class="rubric">Problem</p>
<p>Route from the Estação das Docas to Hangar Convention Center</p>
<ul class="simple">
<li><p>Additionally to the previous exercise, get the</p>
<ul>
<li><p>geometry <code class="docutils literal notranslate"><span class="pre">geom</span></code> in human readable form named as <code class="docutils literal notranslate"><span class="pre">route_readable</span></code></p></li>
</ul>
</li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p><code class="docutils literal notranslate"><span class="pre">WITH</span></code> provides a way to write auxiliary statements in larger queries.
It can be thought of as defining temporary tables that exist just for one query.</p>
</div>
<p class="rubric">Solution</p>
<ul>
<li><p>The routing query named <code class="docutils literal notranslate"><span class="pre">results</span></code> in a WITH clause. (lines <strong>2</strong> to <strong>5</strong>)</p></li>
<li><p>The results from the previous exercise. (lines <strong>8</strong> and <strong>9</strong>)</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For result reading purposes, the result columns from the previous
are in a comment. Uncomment to see the complete results for the problem.</p>
</div>
</li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">geom</span></code> processed with <code class="docutils literal notranslate"><span class="pre">ST_AsText</span></code> to get the human readable form.
(line <strong>12</strong>)</p>
<ul class="simple">
<li><p>Renaming the result to  <code class="docutils literal notranslate"><span class="pre">route_readable</span></code></p></li>
</ul>
</li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">LEFT</span> <span class="pre">JOIN</span></code> with <code class="docutils literal notranslate"><span class="pre">vehicle_net</span></code>. (line <strong>14</strong>)</p></li>
</ul>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">WITH</span>
<span class="hll"><span class="linenos"> 2</span><span class="n">results</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span><span class="w">  </span><span class="c1">-- line 2</span>
</span><span class="hll"><span class="linenos"> 3</span><span class="w">  </span><span class="k">SELECT</span><span class="w"> </span><span class="n">seq</span><span class="p">,</span><span class="w"> </span><span class="n">edge</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">node</span><span class="p">,</span><span class="w"> </span><span class="n">cost</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">seconds</span>
</span><span class="hll"><span class="linenos"> 4</span><span class="w">  </span><span class="k">FROM</span><span class="w"> </span><span class="n">pgr_dijkstra</span><span class="p">(</span><span class="s1">&#39;SELECT * FROM vehicle_net&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">5661895682</span><span class="p">,</span><span class="w"> </span><span class="mi">10982869752</span><span class="p">)</span>
</span><span class="hll"><span class="linenos"> 5</span><span class="p">)</span>
</span><span class="linenos"> 6</span><span class="k">SELECT</span>
<span class="linenos"> 7</span><span class="w">  </span><span class="c1">-- from previous excercise</span>
<span class="hll"><span class="linenos"> 8</span><span class="w">  </span><span class="n">seq</span><span class="p">,</span><span class="w">                            </span><span class="c1">-- line 8</span>
</span><span class="hll"><span class="linenos"> 9</span><span class="w">  </span><span class="c1">-- id, seconds, name, length,</span>
</span><span class="linenos">10</span>
<span class="linenos">11</span><span class="w">  </span><span class="c1">-- additionally get</span>
<span class="hll"><span class="linenos">12</span><span class="w">  </span><span class="n">ST_AsText</span><span class="p">(</span><span class="n">geom</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">route_readable</span><span class="w">  </span><span class="c1">--line 12</span>
</span><span class="linenos">13</span><span class="k">FROM</span><span class="w"> </span><span class="n">results</span>
<span class="hll"><span class="linenos">14</span><span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">vehicle_net</span><span class="w"> </span><span class="k">USING</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w">  </span><span class="c1">-- line 14</span>
</span><span class="linenos">15</span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">seq</span><span class="p">;</span>
</pre></div>
</div>
<div class="sphinx_collapse docutils container">
<input class="sphinx_collapse__input" id="4149698f-c3d6-4ef6-afb7-664e6328ffb3" name="4149698f-c3d6-4ef6-afb7-664e6328ffb3" type="checkbox"><label class="sphinx_collapse__label" for="4149698f-c3d6-4ef6-afb7-664e6328ffb3"><i class="sphinx_collapse__icon"></i>Query results</label><div class="sphinx_collapse__content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">seq</span> <span class="o">|</span>                                                                                                                                                               <span class="n">route_readable</span>                                                                                                                                                                
<span class="o">-----+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
   <span class="mi">1</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.5002935</span> <span class="o">-</span><span class="mf">1.4491382</span><span class="p">,</span><span class="o">-</span><span class="mf">48.5002057</span> <span class="o">-</span><span class="mf">1.4490799</span><span class="p">,</span><span class="o">-</span><span class="mf">48.5001265</span> <span class="o">-</span><span class="mf">1.4490202</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4998269</span> <span class="o">-</span><span class="mf">1.4486681</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4997338</span> <span class="o">-</span><span class="mf">1.4485607</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4996364</span> <span class="o">-</span><span class="mf">1.4484672</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4995559</span> <span class="o">-</span><span class="mf">1.4484022</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4994587</span> <span class="o">-</span><span class="mf">1.4483512</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4993561</span> <span class="o">-</span><span class="mf">1.4482882</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4993017</span> <span class="o">-</span><span class="mf">1.4482467</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4991133</span> <span class="o">-</span><span class="mf">1.4480664</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4990966</span> <span class="o">-</span><span class="mf">1.4480348</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4990878</span> <span class="o">-</span><span class="mf">1.4479913</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4991428</span> <span class="o">-</span><span class="mf">1.44774</span><span class="p">)</span>
   <span class="mi">2</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4991428</span> <span class="o">-</span><span class="mf">1.44774</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4990724</span> <span class="o">-</span><span class="mf">1.4477339</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4989705</span> <span class="o">-</span><span class="mf">1.4477379</span><span class="p">)</span>
   <span class="mi">3</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4989705</span> <span class="o">-</span><span class="mf">1.4477379</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4989886</span> <span class="o">-</span><span class="mf">1.4477975</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4989873</span> <span class="o">-</span><span class="mf">1.4478592</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4989685</span> <span class="o">-</span><span class="mf">1.4479142</span><span class="p">,</span><span class="o">-</span><span class="mf">48.498935</span> <span class="o">-</span><span class="mf">1.4479638</span><span class="p">)</span>
   <span class="mi">4</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.498935</span> <span class="o">-</span><span class="mf">1.4479638</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4987405</span> <span class="o">-</span><span class="mf">1.4479313</span><span class="p">)</span>
   <span class="mi">5</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4987405</span> <span class="o">-</span><span class="mf">1.4479313</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4985465</span> <span class="o">-</span><span class="mf">1.4482172</span><span class="p">)</span>
   <span class="mi">6</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4985465</span> <span class="o">-</span><span class="mf">1.4482172</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4984527</span> <span class="o">-</span><span class="mf">1.4483438</span><span class="p">)</span>
   <span class="mi">7</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4984527</span> <span class="o">-</span><span class="mf">1.4483438</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4983947</span> <span class="o">-</span><span class="mf">1.4484296</span><span class="p">)</span>
   <span class="mi">8</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4983947</span> <span class="o">-</span><span class="mf">1.4484296</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4982262</span> <span class="o">-</span><span class="mf">1.4486989</span><span class="p">)</span>
   <span class="mi">9</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4982262</span> <span class="o">-</span><span class="mf">1.4486989</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4981152</span> <span class="o">-</span><span class="mf">1.4486197</span><span class="p">)</span>
  <span class="mi">10</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4981152</span> <span class="o">-</span><span class="mf">1.4486197</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4973973</span> <span class="o">-</span><span class="mf">1.4481404</span><span class="p">)</span>
  <span class="mi">11</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4973973</span> <span class="o">-</span><span class="mf">1.4481404</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4962964</span> <span class="o">-</span><span class="mf">1.4474314</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4962011</span> <span class="o">-</span><span class="mf">1.4473699</span><span class="p">)</span>
  <span class="mi">12</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4962011</span> <span class="o">-</span><span class="mf">1.4473699</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4961697</span> <span class="o">-</span><span class="mf">1.4473505</span><span class="p">)</span>
  <span class="mi">13</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4961697</span> <span class="o">-</span><span class="mf">1.4473505</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4956471</span> <span class="o">-</span><span class="mf">1.4470076</span><span class="p">)</span>
  <span class="mi">14</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4956471</span> <span class="o">-</span><span class="mf">1.4470076</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4953584</span> <span class="o">-</span><span class="mf">1.4474603</span><span class="p">)</span>
  <span class="mi">15</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4953584</span> <span class="o">-</span><span class="mf">1.4474603</span><span class="p">,</span><span class="o">-</span><span class="mf">48.494943</span> <span class="o">-</span><span class="mf">1.4481307</span><span class="p">)</span>
  <span class="mi">16</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.494943</span> <span class="o">-</span><span class="mf">1.4481307</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4946591</span> <span class="o">-</span><span class="mf">1.448529</span><span class="p">)</span>
  <span class="mi">17</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4946591</span> <span class="o">-</span><span class="mf">1.448529</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4942646</span> <span class="o">-</span><span class="mf">1.4490737</span><span class="p">)</span>
  <span class="mi">18</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4942646</span> <span class="o">-</span><span class="mf">1.4490737</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4939959</span> <span class="o">-</span><span class="mf">1.4494742</span><span class="p">)</span>
  <span class="mi">19</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4939959</span> <span class="o">-</span><span class="mf">1.4494742</span><span class="p">,</span><span class="o">-</span><span class="mf">48.493915</span> <span class="o">-</span><span class="mf">1.4495993</span><span class="p">)</span>
  <span class="mi">20</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.493915</span> <span class="o">-</span><span class="mf">1.4495993</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4938034</span> <span class="o">-</span><span class="mf">1.4497985</span><span class="p">)</span>
  <span class="mi">21</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4938034</span> <span class="o">-</span><span class="mf">1.4497985</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4933626</span> <span class="o">-</span><span class="mf">1.4494717</span><span class="p">)</span>
  <span class="mi">22</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4933626</span> <span class="o">-</span><span class="mf">1.4494717</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4921294</span> <span class="o">-</span><span class="mf">1.4485577</span><span class="p">)</span>
  <span class="mi">23</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4921294</span> <span class="o">-</span><span class="mf">1.4485577</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4912453</span> <span class="o">-</span><span class="mf">1.4479154</span><span class="p">)</span>
  <span class="mi">24</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4912453</span> <span class="o">-</span><span class="mf">1.4479154</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4903663</span> <span class="o">-</span><span class="mf">1.4472594</span><span class="p">)</span>
  <span class="mi">25</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4903663</span> <span class="o">-</span><span class="mf">1.4472594</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4887232</span> <span class="o">-</span><span class="mf">1.4460579</span><span class="p">)</span>
  <span class="mi">26</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4887232</span> <span class="o">-</span><span class="mf">1.4460579</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4886407</span> <span class="o">-</span><span class="mf">1.4459984</span><span class="p">)</span>
  <span class="mi">27</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4886407</span> <span class="o">-</span><span class="mf">1.4459984</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4885213</span> <span class="o">-</span><span class="mf">1.4459093</span><span class="p">)</span>
  <span class="mi">28</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4885213</span> <span class="o">-</span><span class="mf">1.4459093</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4885012</span> <span class="o">-</span><span class="mf">1.4458934</span><span class="p">)</span>
  <span class="mi">29</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4885012</span> <span class="o">-</span><span class="mf">1.4458934</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4884706</span> <span class="o">-</span><span class="mf">1.4458686</span><span class="p">)</span>
  <span class="mi">30</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4884706</span> <span class="o">-</span><span class="mf">1.4458686</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4883886</span> <span class="o">-</span><span class="mf">1.4458059</span><span class="p">)</span>
  <span class="mi">31</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4883886</span> <span class="o">-</span><span class="mf">1.4458059</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4883747</span> <span class="o">-</span><span class="mf">1.4457972</span><span class="p">)</span>
  <span class="mi">32</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4883747</span> <span class="o">-</span><span class="mf">1.4457972</span><span class="p">,</span><span class="o">-</span><span class="mf">48.488312</span> <span class="o">-</span><span class="mf">1.4457486</span><span class="p">)</span>
  <span class="mi">33</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.488312</span> <span class="o">-</span><span class="mf">1.4457486</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4882586</span> <span class="o">-</span><span class="mf">1.445713</span><span class="p">)</span>
  <span class="mi">34</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4882586</span> <span class="o">-</span><span class="mf">1.445713</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4881629</span> <span class="o">-</span><span class="mf">1.4456421</span><span class="p">)</span>
  <span class="mi">35</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4881629</span> <span class="o">-</span><span class="mf">1.4456421</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4874804</span> <span class="o">-</span><span class="mf">1.4451359</span><span class="p">)</span>
  <span class="mi">36</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4874804</span> <span class="o">-</span><span class="mf">1.4451359</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4870783</span> <span class="o">-</span><span class="mf">1.4448293</span><span class="p">)</span>
  <span class="mi">37</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4870783</span> <span class="o">-</span><span class="mf">1.4448293</span><span class="p">,</span><span class="o">-</span><span class="mf">48.486549</span> <span class="o">-</span><span class="mf">1.4444509</span><span class="p">)</span>
  <span class="mi">38</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.486549</span> <span class="o">-</span><span class="mf">1.4444509</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4860067</span> <span class="o">-</span><span class="mf">1.4441552</span><span class="p">)</span>
  <span class="mi">39</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4860067</span> <span class="o">-</span><span class="mf">1.4441552</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4856347</span> <span class="o">-</span><span class="mf">1.4439806</span><span class="p">)</span>
  <span class="mi">40</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4856347</span> <span class="o">-</span><span class="mf">1.4439806</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4854193</span> <span class="o">-</span><span class="mf">1.4438832</span><span class="p">)</span>
  <span class="mi">41</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4854193</span> <span class="o">-</span><span class="mf">1.4438832</span><span class="p">,</span><span class="o">-</span><span class="mf">48.485021</span> <span class="o">-</span><span class="mf">1.4437031</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4847526</span> <span class="o">-</span><span class="mf">1.443592</span><span class="p">)</span>
  <span class="mi">42</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4847526</span> <span class="o">-</span><span class="mf">1.443592</span><span class="p">,</span><span class="o">-</span><span class="mf">48.484519</span> <span class="o">-</span><span class="mf">1.4435058</span><span class="p">)</span>
  <span class="mi">43</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.484519</span> <span class="o">-</span><span class="mf">1.4435058</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4844675</span> <span class="o">-</span><span class="mf">1.4434874</span><span class="p">)</span>
  <span class="mi">44</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4844675</span> <span class="o">-</span><span class="mf">1.4434874</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4841737</span> <span class="o">-</span><span class="mf">1.4433782</span><span class="p">)</span>
  <span class="mi">45</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4841737</span> <span class="o">-</span><span class="mf">1.4433782</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4840192</span> <span class="o">-</span><span class="mf">1.4433237</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4836722</span> <span class="o">-</span><span class="mf">1.4432064</span><span class="p">)</span>
  <span class="mi">46</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4836722</span> <span class="o">-</span><span class="mf">1.4432064</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4829766</span> <span class="o">-</span><span class="mf">1.4429586</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4828336</span> <span class="o">-</span><span class="mf">1.4429203</span><span class="p">)</span>
  <span class="mi">47</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4828336</span> <span class="o">-</span><span class="mf">1.4429203</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4813048</span> <span class="o">-</span><span class="mf">1.4424536</span><span class="p">)</span>
  <span class="mi">48</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4813048</span> <span class="o">-</span><span class="mf">1.4424536</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4805616</span> <span class="o">-</span><span class="mf">1.4422223</span><span class="p">)</span>
  <span class="mi">49</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4805616</span> <span class="o">-</span><span class="mf">1.4422223</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4785543</span> <span class="o">-</span><span class="mf">1.4415475</span><span class="p">)</span>
  <span class="mi">50</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4785543</span> <span class="o">-</span><span class="mf">1.4415475</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4772324</span> <span class="o">-</span><span class="mf">1.4414051</span><span class="p">)</span>
  <span class="mi">51</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4772324</span> <span class="o">-</span><span class="mf">1.4414051</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4768596</span> <span class="o">-</span><span class="mf">1.441359</span><span class="p">)</span>
  <span class="mi">52</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4768596</span> <span class="o">-</span><span class="mf">1.441359</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4767785</span> <span class="o">-</span><span class="mf">1.441349</span><span class="p">)</span>
  <span class="mi">53</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4767785</span> <span class="o">-</span><span class="mf">1.441349</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4761448</span> <span class="o">-</span><span class="mf">1.4413018</span><span class="p">)</span>
  <span class="mi">54</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4761448</span> <span class="o">-</span><span class="mf">1.4413018</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4753701</span> <span class="o">-</span><span class="mf">1.4412082</span><span class="p">)</span>
  <span class="mi">55</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4753701</span> <span class="o">-</span><span class="mf">1.4412082</span><span class="p">,</span><span class="o">-</span><span class="mf">48.475342</span> <span class="o">-</span><span class="mf">1.4412022</span><span class="p">)</span>
  <span class="mi">56</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.475342</span> <span class="o">-</span><span class="mf">1.4412022</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4751295</span> <span class="o">-</span><span class="mf">1.4411624</span><span class="p">)</span>
  <span class="mi">57</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4751295</span> <span class="o">-</span><span class="mf">1.4411624</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4750651</span> <span class="o">-</span><span class="mf">1.4411511</span><span class="p">)</span>
  <span class="mi">58</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4750651</span> <span class="o">-</span><span class="mf">1.4411511</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4746033</span> <span class="o">-</span><span class="mf">1.4410539</span><span class="p">)</span>
  <span class="mi">59</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4746033</span> <span class="o">-</span><span class="mf">1.4410539</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4742412</span> <span class="o">-</span><span class="mf">1.4409789</span><span class="p">)</span>
  <span class="mi">60</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4745617</span> <span class="o">-</span><span class="mf">1.4398022</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4742412</span> <span class="o">-</span><span class="mf">1.4409789</span><span class="p">)</span>
  <span class="mi">61</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4745617</span> <span class="o">-</span><span class="mf">1.4398022</span><span class="p">,</span><span class="o">-</span><span class="mf">48.47413</span> <span class="o">-</span><span class="mf">1.4396471</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4739923</span> <span class="o">-</span><span class="mf">1.43959</span><span class="p">)</span>
  <span class="mi">62</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4739923</span> <span class="o">-</span><span class="mf">1.43959</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4738232</span> <span class="o">-</span><span class="mf">1.4394327</span><span class="p">)</span>
  <span class="mi">63</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4738232</span> <span class="o">-</span><span class="mf">1.4394327</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4734106</span> <span class="o">-</span><span class="mf">1.4395805</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4729262</span> <span class="o">-</span><span class="mf">1.439693</span><span class="p">)</span>
  <span class="mi">64</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4729262</span> <span class="o">-</span><span class="mf">1.439693</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4729169</span> <span class="o">-</span><span class="mf">1.4396395</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4729068</span> <span class="o">-</span><span class="mf">1.4395979</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4728891</span> <span class="o">-</span><span class="mf">1.4395373</span><span class="p">)</span>
  <span class="mi">65</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4728891</span> <span class="o">-</span><span class="mf">1.4395373</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4721387</span> <span class="o">-</span><span class="mf">1.4387004</span><span class="p">)</span>
  <span class="mi">66</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4721387</span> <span class="o">-</span><span class="mf">1.4387004</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4712263</span> <span class="o">-</span><span class="mf">1.4375973</span><span class="p">)</span>
  <span class="mi">67</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4712263</span> <span class="o">-</span><span class="mf">1.4375973</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4706778</span> <span class="o">-</span><span class="mf">1.4369384</span><span class="p">)</span>
  <span class="mi">68</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4706778</span> <span class="o">-</span><span class="mf">1.4369384</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4702411</span> <span class="o">-</span><span class="mf">1.4364265</span><span class="p">)</span>
  <span class="mi">69</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4702411</span> <span class="o">-</span><span class="mf">1.4364265</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4702312</span> <span class="o">-</span><span class="mf">1.4364149</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4697076</span> <span class="o">-</span><span class="mf">1.4357476</span><span class="p">)</span>
  <span class="mi">70</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4697076</span> <span class="o">-</span><span class="mf">1.4357476</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4692971</span> <span class="o">-</span><span class="mf">1.4352697</span><span class="p">)</span>
  <span class="mi">71</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4692971</span> <span class="o">-</span><span class="mf">1.4352697</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4681118</span> <span class="o">-</span><span class="mf">1.4360672</span><span class="p">)</span>
  <span class="mi">72</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4681118</span> <span class="o">-</span><span class="mf">1.4360672</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4671349</span> <span class="o">-</span><span class="mf">1.4367245</span><span class="p">)</span>
  <span class="mi">73</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4671349</span> <span class="o">-</span><span class="mf">1.4367245</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4668045</span> <span class="o">-</span><span class="mf">1.4369468</span><span class="p">)</span>
  <span class="mi">74</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4668045</span> <span class="o">-</span><span class="mf">1.4369468</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4667203</span> <span class="o">-</span><span class="mf">1.4370034</span><span class="p">)</span>
  <span class="mi">75</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4667203</span> <span class="o">-</span><span class="mf">1.4370034</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4666385</span> <span class="o">-</span><span class="mf">1.4370593</span><span class="p">)</span>
  <span class="mi">76</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4666385</span> <span class="o">-</span><span class="mf">1.4370593</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4665354</span> <span class="o">-</span><span class="mf">1.4371285</span><span class="p">)</span>
  <span class="mi">77</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4665354</span> <span class="o">-</span><span class="mf">1.4371285</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4664868</span> <span class="o">-</span><span class="mf">1.4370544</span><span class="p">)</span>
  <span class="mi">78</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4664868</span> <span class="o">-</span><span class="mf">1.4370544</span><span class="p">,</span><span class="o">-</span><span class="mf">48.465844</span> <span class="o">-</span><span class="mf">1.4360723</span><span class="p">)</span>
  <span class="mi">79</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.465844</span> <span class="o">-</span><span class="mf">1.4360723</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4657246</span> <span class="o">-</span><span class="mf">1.4358894</span><span class="p">)</span>
  <span class="mi">80</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4657246</span> <span class="o">-</span><span class="mf">1.4358894</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4653756</span> <span class="o">-</span><span class="mf">1.4353756</span><span class="p">)</span>
  <span class="mi">81</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4653756</span> <span class="o">-</span><span class="mf">1.4353756</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4649634</span> <span class="o">-</span><span class="mf">1.4347336</span><span class="p">)</span>
  <span class="mi">82</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4649634</span> <span class="o">-</span><span class="mf">1.4347336</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4649079</span> <span class="o">-</span><span class="mf">1.4346515</span><span class="p">)</span>
  <span class="mi">83</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4649079</span> <span class="o">-</span><span class="mf">1.4346515</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4648532</span> <span class="o">-</span><span class="mf">1.4345682</span><span class="p">)</span>
  <span class="mi">84</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4648532</span> <span class="o">-</span><span class="mf">1.4345682</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4642006</span> <span class="o">-</span><span class="mf">1.4336217</span><span class="p">)</span>
  <span class="mi">85</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4642006</span> <span class="o">-</span><span class="mf">1.4336217</span><span class="p">,</span><span class="o">-</span><span class="mf">48.464072</span> <span class="o">-</span><span class="mf">1.4334149</span><span class="p">)</span>
  <span class="mi">86</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.464072</span> <span class="o">-</span><span class="mf">1.4334149</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4639398</span> <span class="o">-</span><span class="mf">1.4332242</span><span class="p">)</span>
  <span class="mi">87</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4639398</span> <span class="o">-</span><span class="mf">1.4332242</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4632933</span> <span class="o">-</span><span class="mf">1.4321911</span><span class="p">)</span>
  <span class="mi">88</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4632933</span> <span class="o">-</span><span class="mf">1.4321911</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4632299</span> <span class="o">-</span><span class="mf">1.4320886</span><span class="p">)</span>
  <span class="mi">89</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4632299</span> <span class="o">-</span><span class="mf">1.4320886</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4632037</span> <span class="o">-</span><span class="mf">1.4320479</span><span class="p">)</span>
  <span class="mi">90</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4632037</span> <span class="o">-</span><span class="mf">1.4320479</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4628241</span> <span class="o">-</span><span class="mf">1.4315024</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4627215</span> <span class="o">-</span><span class="mf">1.4313567</span><span class="p">)</span>
  <span class="mi">91</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4627215</span> <span class="o">-</span><span class="mf">1.4313567</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4624439</span> <span class="o">-</span><span class="mf">1.4309243</span><span class="p">)</span>
  <span class="mi">92</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4624439</span> <span class="o">-</span><span class="mf">1.4309243</span><span class="p">,</span><span class="o">-</span><span class="mf">48.462054</span> <span class="o">-</span><span class="mf">1.430331</span><span class="p">)</span>
  <span class="mi">93</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.462054</span> <span class="o">-</span><span class="mf">1.430331</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4618505</span> <span class="o">-</span><span class="mf">1.4300156</span><span class="p">)</span>
  <span class="mi">94</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4618505</span> <span class="o">-</span><span class="mf">1.4300156</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4617568</span> <span class="o">-</span><span class="mf">1.4298731</span><span class="p">)</span>
  <span class="mi">95</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4617568</span> <span class="o">-</span><span class="mf">1.4298731</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4616814</span> <span class="o">-</span><span class="mf">1.4297624</span><span class="p">)</span>
  <span class="mi">96</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4616814</span> <span class="o">-</span><span class="mf">1.4297624</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4616238</span> <span class="o">-</span><span class="mf">1.4296746</span><span class="p">)</span>
  <span class="mi">97</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4616238</span> <span class="o">-</span><span class="mf">1.4296746</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4615685</span> <span class="o">-</span><span class="mf">1.4295928</span><span class="p">)</span>
  <span class="mi">98</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4615685</span> <span class="o">-</span><span class="mf">1.4295928</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4614857</span> <span class="o">-</span><span class="mf">1.4294702</span><span class="p">)</span>
  <span class="mi">99</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4614857</span> <span class="o">-</span><span class="mf">1.4294702</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4612304</span> <span class="o">-</span><span class="mf">1.4291091</span><span class="p">)</span>
 <span class="mi">100</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4612304</span> <span class="o">-</span><span class="mf">1.4291091</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4607873</span> <span class="o">-</span><span class="mf">1.4284363</span><span class="p">)</span>
 <span class="mi">101</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4607873</span> <span class="o">-</span><span class="mf">1.4284363</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4604752</span> <span class="o">-</span><span class="mf">1.4279524</span><span class="p">)</span>
 <span class="mi">102</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4604752</span> <span class="o">-</span><span class="mf">1.4279524</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4603566</span> <span class="o">-</span><span class="mf">1.4277745</span><span class="p">)</span>
 <span class="mi">103</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4603566</span> <span class="o">-</span><span class="mf">1.4277745</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4599639</span> <span class="o">-</span><span class="mf">1.427199</span><span class="p">)</span>
 <span class="mi">104</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4599639</span> <span class="o">-</span><span class="mf">1.427199</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4598934</span> <span class="o">-</span><span class="mf">1.4270889</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4596442</span> <span class="o">-</span><span class="mf">1.4266998</span><span class="p">)</span>
 <span class="mi">105</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4596442</span> <span class="o">-</span><span class="mf">1.4266998</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4595784</span> <span class="o">-</span><span class="mf">1.4265913</span><span class="p">)</span>
 <span class="mi">106</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4595784</span> <span class="o">-</span><span class="mf">1.4265913</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4591475</span> <span class="o">-</span><span class="mf">1.4259608</span><span class="p">)</span>
 <span class="mi">107</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4591475</span> <span class="o">-</span><span class="mf">1.4259608</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4588567</span> <span class="o">-</span><span class="mf">1.4255144</span><span class="p">)</span>
 <span class="mi">108</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4588567</span> <span class="o">-</span><span class="mf">1.4255144</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4587574</span> <span class="o">-</span><span class="mf">1.4253702</span><span class="p">)</span>
 <span class="mi">109</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4587574</span> <span class="o">-</span><span class="mf">1.4253702</span><span class="p">,</span><span class="o">-</span><span class="mf">48.458296</span> <span class="o">-</span><span class="mf">1.4247004</span><span class="p">)</span>
 <span class="mi">110</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.458296</span> <span class="o">-</span><span class="mf">1.4247004</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4578312</span> <span class="o">-</span><span class="mf">1.4239864</span><span class="p">)</span>
 <span class="mi">111</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4578312</span> <span class="o">-</span><span class="mf">1.4239864</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4576142</span> <span class="o">-</span><span class="mf">1.4236202</span><span class="p">)</span>
 <span class="mi">112</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4576142</span> <span class="o">-</span><span class="mf">1.4236202</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4574931</span> <span class="o">-</span><span class="mf">1.4234158</span><span class="p">)</span>
 <span class="mi">113</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4574931</span> <span class="o">-</span><span class="mf">1.4234158</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4574417</span> <span class="o">-</span><span class="mf">1.4233478</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4573359</span> <span class="o">-</span><span class="mf">1.4232316</span><span class="p">)</span>
 <span class="mi">114</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4573359</span> <span class="o">-</span><span class="mf">1.4232316</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4572025</span> <span class="o">-</span><span class="mf">1.4231075</span><span class="p">)</span>
 <span class="mi">115</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4572025</span> <span class="o">-</span><span class="mf">1.4231075</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4572595</span> <span class="o">-</span><span class="mf">1.4230347</span><span class="p">)</span>
 <span class="mi">116</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4572595</span> <span class="o">-</span><span class="mf">1.4230347</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4573478</span> <span class="o">-</span><span class="mf">1.4229343</span><span class="p">)</span>
 <span class="mi">117</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4573478</span> <span class="o">-</span><span class="mf">1.4229343</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4574274</span> <span class="o">-</span><span class="mf">1.4228483</span><span class="p">)</span>
 <span class="mi">118</span> <span class="o">|</span> 
<span class="p">(</span><span class="mi">118</span> <span class="n">rows</span><span class="p">)</span>

</pre></div>
</div>
</div>
</div>
</section>
<section id="exercise-3-route-geometry-binary-format">
<h3><a class="toc-backref" href="#id7" role="doc-backlink"><span class="section-number">5.3.2. </span>Exercise 3: Route geometry (binary format)</a><a class="headerlink" href="#exercise-3-route-geometry-binary-format" title="Link to this heading">¶</a></h3>
<a class="reference internal image-reference" href="../_images/ch7-e6.png"><img alt="From |ch7_place_1| to |ch7_place_2| showing arrows." src="../_images/ch7-e6.png" style="width: 300pt;" />
</a>
<p class="rubric">Problem</p>
<p>Route from the Estação das Docas to Hangar Convention Center</p>
<ul class="simple">
<li><p>Additionally to the previous exercise, get the</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">geom</span></code> in binary format with the name <code class="docutils literal notranslate"><span class="pre">route_geom</span></code></p></li>
</ul>
</li>
</ul>
<p class="rubric">Solution</p>
<ul class="simple">
<li><p>The query from the previous exercise is used</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> clause also contains:</p>
<ul>
<li><p>The <code class="docutils literal notranslate"><span class="pre">geom</span></code> including the renaming (line <strong>9</strong>)</p></li>
</ul>
</li>
</ul>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">WITH</span><span class="w"> </span><span class="n">results</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span>
<span class="linenos"> 2</span><span class="w">  </span><span class="k">SELECT</span><span class="w"> </span><span class="n">seq</span><span class="p">,</span><span class="w"> </span><span class="n">edge</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">node</span><span class="p">,</span><span class="w"> </span><span class="n">cost</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">seconds</span>
<span class="linenos"> 3</span><span class="w">  </span><span class="k">FROM</span><span class="w"> </span><span class="n">pgr_dijkstra</span><span class="p">(</span><span class="s1">&#39;SELECT * FROM vehicle_net&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">5661895682</span><span class="p">,</span><span class="w"> </span><span class="mi">10982869752</span><span class="p">)</span>
<span class="linenos"> 4</span><span class="w">  </span><span class="p">)</span>
<span class="linenos"> 5</span><span class="k">SELECT</span>
<span class="linenos"> 6</span><span class="w">  </span><span class="c1">-- from previous excercise</span>
<span class="linenos"> 7</span><span class="w">  </span><span class="n">seq</span><span class="p">,</span>
<span class="linenos"> 8</span><span class="w">  </span><span class="c1">-- id, seconds, name, length, ST_AsText(geom) AS route_readable,</span>
<span class="linenos"> 9</span>
<span class="hll"><span class="linenos">10</span><span class="w">  </span><span class="c1">-- additionally get</span>
</span><span class="linenos">11</span><span class="w">  </span><span class="n">geom</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">route_geom</span>
<span class="linenos">12</span><span class="k">FROM</span><span class="w"> </span><span class="n">results</span>
<span class="linenos">13</span><span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">vehicle_net</span>
<span class="linenos">14</span><span class="w">  </span><span class="k">USING</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">)</span>
<span class="linenos">15</span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">seq</span><span class="p">;</span>
</pre></div>
</div>
<div class="sphinx_collapse docutils container">
<input class="sphinx_collapse__input" id="87428e07-f693-425f-8106-ee3ff39ac7f2" name="87428e07-f693-425f-8106-ee3ff39ac7f2" type="checkbox"><label class="sphinx_collapse__label" for="87428e07-f693-425f-8106-ee3ff39ac7f2"><i class="sphinx_collapse__icon"></i>Query results</label><div class="sphinx_collapse__content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">seq</span> <span class="o">|</span>                                                                                                                                                                                                                                         <span class="n">route_geom</span>                                                                                                                                                                                                                                         
<span class="o">-----+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
   <span class="mi">1</span> <span class="o">|</span> <span class="mf">0102000020E61000000</span><span class="n">E00000060730E9E094048C01F268689AB2FF7BFEB6289BD064048C0BCA7BC676E2FF7BF75AE2825044048C0E2E423CE2F2FF7BF9E94EE53FA3F48C0A422049ABE2DF7BF58DAF346F73F48C079550CFC4D2DF7BF12F2E615F43F48C0524255F1EB2CF7BF0D839E72F13F48C06F4507C9A72CF7BFF1193F43EE3F48C02BF5D14E722CF7BF704793E6EA3F48C05EEC623F302CF7BF292B3C1EE93F48C087A350BB042CF7BFD33FD2F1E23F48C0B8FB66AC472BF7BFBC45BB65E23F48C0B784D789262BF7BF926AE91BE23F48C0C847E6ECF82AF7BF560449E9E33F48C0D2C6116BF129F7BF</span>
   <span class="mi">2</span> <span class="o">|</span> <span class="mf">0102000020E610000003000000560449</span><span class="n">E9E33F48C0D2C6116BF129F7BF0A2BBA9AE13F48C0F3F79C05EB29F7BF9A95ED43DE3F48C020E05A37EF29F7BF</span>
   <span class="mi">3</span> <span class="o">|</span> <span class="mf">0102000020E6100000050000009</span><span class="n">A95ED43DE3F48C020E05A37EF29F7BFD509C3DBDE3F48C060B01BB62D2AF7BF474FDBD0DE3F48C0506793686E2AF7BFF99D2633DE3F48C0C29F8614A82AF7BF36EA211ADD3F48C08FABEC16DC2AF7BF</span>
   <span class="mi">4</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000036</span><span class="n">EA211ADD3F48C08FABEC16DC2AF7BF68588CBAD63F48C01EADC502BA2AF7BF</span>
   <span class="mi">5</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000068588</span><span class="n">CBAD63F48C01EADC502BA2AF7BF8484285FD03F48C0371378CCE52BF7BF</span>
   <span class="mi">6</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000008484285</span><span class="n">FD03F48C0371378CCE52BF7BF2C8D4E4CCD3F48C070D4658C6A2CF7BF</span>
   <span class="mi">7</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000002</span><span class="n">C8D4E4CCD3F48C070D4658C6A2CF7BFF77FC465CB3F48C00DEF2884C42CF7BF</span>
   <span class="mi">8</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">F77FC465CB3F48C00DEF2884C42CF7BF538149E0C53F48C0CF04D4E5DE2DF7BF</span>
   <span class="mi">9</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000538149</span><span class="n">E0C53F48C0CF04D4E5DE2DF7BFFCD1263DC23F48C01876BDD98B2DF7BF</span>
  <span class="mi">10</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">FCD1263DC23F48C01876BDD98B2DF7BF324FF8B6AA3F48C00143A044952BF7BF</span>
  <span class="mi">11</span> <span class="o">|</span> <span class="mf">0102000020E610000003000000324</span><span class="n">FF8B6AA3F48C00143A044952BF7BFAF8FF3A3863F48C08341E3D3AD28F7BF9F5E8484833F48C0C86F1B576D28F7BF</span>
  <span class="mi">12</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000009</span><span class="n">F5E8484833F48C0C86F1B576D28F7BF11621D7D823F48C0859675FF5828F7BF</span>
  <span class="mi">13</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000011621</span><span class="n">D7D823F48C0859675FF5828F7BFBA6D3A5D713F48C0E403F170F126F7BF</span>
  <span class="mi">14</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">BA6D3A5D713F48C0E403F170F126F7BF42E66FE7673F48C03222AC21CC28F7BF</span>
  <span class="mi">15</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000042</span><span class="n">E66FE7673F48C03222AC21CC28F7BF2B31CF4A5A3F48C06056CD188B2BF7BF</span>
  <span class="mi">16</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000002</span><span class="n">B31CF4A5A3F48C06056CD188B2BF7BF9B9548FD503F48C0DDEBA4BE2C2DF7BF</span>
  <span class="mi">17</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000009</span><span class="n">B9548FD503F48C0DDEBA4BE2C2DF7BF0749FA0F443F48C042E66FE7672FF7BF</span>
  <span class="mi">18</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000000749</span><span class="n">FA0F443F48C042E66FE7672FF7BFD66DF5413B3F48C00C55D6DB0B31F7BF</span>
  <span class="mi">19</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">D66DF5413B3F48C00C55D6DB0B31F7BF7E00529B383F48C034DF1C098F31F7BF</span>
  <span class="mi">20</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000007</span><span class="n">E00529B383F48C034DF1C098F31F7BFA9D326F3343F48C040A374E95F32F7BF</span>
  <span class="mi">21</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">A9D326F3343F48C040A374E95F32F7BFE6087481263F48C0EFA3BF3C0931F7BF</span>
  <span class="mi">22</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">E6087481263F48C0EFA3BF3C0931F7BF37339F18FE3E48C057E7BDD64A2DF7BF</span>
  <span class="mi">23</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000037339</span><span class="n">F18FE3E48C057E7BDD64A2DF7BF28E84020E13E48C003FFA556A92AF7BF</span>
  <span class="mi">24</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000028</span><span class="n">E84020E13E48C003FFA556A92AF7BFBFC7AA52C43E48C0E041FD78F927F7BF</span>
  <span class="mi">25</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">BFC7AA52C43E48C0E041FD78F927F7BFF365587B8E3E48C082F5C99B0D23F7BF</span>
  <span class="mi">26</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">F365587B8E3E48C082F5C99B0D23F7BF4DFF48C78B3E48C0DD17E137CF22F7BF</span>
  <span class="mi">27</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000004</span><span class="n">DFF48C78B3E48C0DD17E137CF22F7BF2073AFDD873E48C04FB747CA7122F7BF</span>
  <span class="mi">28</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000002073</span><span class="n">AFDD873E48C04FB747CA7122F7BF44071335873E48C03409281E6122F7BF</span>
  <span class="mi">29</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000044071335873</span><span class="n">E48C03409281E6122F7BF5C076234863E48C04D03F51C4722F7BF</span>
  <span class="mi">30</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000005</span><span class="n">C076234863E48C04D03F51C4722F7BF9F5E8484833E48C051D20D5E0522F7BF</span>
  <span class="mi">31</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000009</span><span class="n">F5E8484833E48C051D20D5E0522F7BFCF58EA0F833E48C0BA5FAA3EFC21F7BF</span>
  <span class="mi">32</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">CF58EA0F833E48C0BA5FAA3EFC21F7BF471FF301813E48C0F8CDB348C921F7BF</span>
  <span class="mi">33</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000471</span><span class="n">FF301813E48C0F8CDB348C921F7BFD17EFF417F3E48C0CA6E66F4A321F7BF</span>
  <span class="mi">34</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">D17EFF417F3E48C0CA6E66F4A321F7BF6D4F351F7C3E48C03D88539C5921F7BF</span>
  <span class="mi">35</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000006</span><span class="n">D4F351F7C3E48C03D88539C5921F7BF73B8FBC1653E48C08E684CD2461FF7BF</span>
  <span class="mi">36</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000073</span><span class="n">B8FBC1653E48C08E684CD2461FF7BFAF8BEC94583E48C057D7FC53051EF7BF</span>
  <span class="mi">37</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">AF8BEC94583E48C057D7FC53051EF7BF6473D53C473E48C022D8028C781CF7BF</span>
  <span class="mi">38</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000006473</span><span class="n">D53C473E48C022D8028C781CF7BF8511B177353E48C0CC92A57B421BF7BF</span>
  <span class="mi">39</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000008511</span><span class="n">B177353E48C0CC92A57B421BF7BFC1262147293E48C071EFD0668B1AF7BF</span>
  <span class="mi">40</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">C1262147293E48C071EFD0668B1AF7BF712C3938223E48C0B7E63345251AF7BF</span>
  <span class="mi">41</span> <span class="o">|</span> <span class="mf">0102000020E610000003000000712</span><span class="n">C3938223E48C0B7E63345251AF7BFC66F0A2B153E48C01E24FA6B6819F7BF53D3895F0C3E48C09546CCECF318F7BF</span>
  <span class="mi">42</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000053</span><span class="n">D3895F0C3E48C09546CCECF318F7BF33A5F5B7043E48C08E61A9899918F7BF</span>
  <span class="mi">43</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000033</span><span class="n">A5F5B7043E48C08E61A9899918F7BFC93CF207033E48C05602733E8618F7BF</span>
  <span class="mi">44</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">C93CF207033E48C05602733E8618F7BFAA8A5F67F93D48C049264CBD1318F7BF</span>
  <span class="mi">45</span> <span class="o">|</span> <span class="mf">0102000020E610000003000000</span><span class="n">AA8A5F67F93D48C049264CBD1318F7BF6B515557F43D48C0DEAA9097DA17F7BF007E7CF8E83D48C0DB0B16985F17F7BF</span>
  <span class="mi">46</span> <span class="o">|</span> <span class="mf">0102000020E610000003000000007</span><span class="n">E7CF8E83D48C0DB0B16985F17F7BFDCDD5E2DD23D48C00DB6C7C15B16F7BF79B4CC7DCD3D48C08CC0B3983316F7BF</span>
  <span class="mi">47</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000079</span><span class="n">B4CC7DCD3D48C08CC0B3983316F7BF33B44B659B3D48C09EF5DF394A14F7BF</span>
  <span class="mi">48</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000033</span><span class="n">B44B659B3D48C09EF5DF394A14F7BF52DBE10A833D48C08CFDC0B05713F7BF</span>
  <span class="mi">49</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000052</span><span class="n">DBE10A833D48C08CFDC0B05713F7BF1AEE6D44413D48C0C616821C9410F7BF</span>
  <span class="mi">50</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000001</span><span class="n">AEE6D44413D48C0C616821C9410F7BFB94B87F3153D48C00D9A4CCBFE0FF7BF</span>
  <span class="mi">51</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">B94B87F3153D48C00D9A4CCBFE0FF7BF4E6441BC093D48C067B96C74CE0FF7BF</span>
  <span class="mi">52</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000004</span><span class="n">E6441BC093D48C067B96C74CE0FF7BFCD77F013073D48C0F5F411F8C30FF7BF</span>
  <span class="mi">53</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">CD77F013073D48C0F5F411F8C30FF7BF8A141450F23C48C0A9A7EA79920FF7BF</span>
  <span class="mi">54</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000008</span><span class="n">A141450F23C48C0A9A7EA79920FF7BF857F6CEDD83C48C0E7A15B54300FF7BF</span>
  <span class="mi">55</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000857</span><span class="n">F6CEDD83C48C0E7A15B54300FF7BF2635B401D83C48C0A3C5BE092A0FF7BF</span>
  <span class="mi">56</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000002635</span><span class="n">B401D83C48C0A3C5BE092A0FF7BFB3EE1F0BD13C48C01299034E000FF7BF</span>
  <span class="mi">57</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">B3EE1F0BD13C48C01299034E000FF7BF49FCE5EECE3C48C0C482B174F40EF7BF</span>
  <span class="mi">58</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000049</span><span class="n">FCE5EECE3C48C0C482B174F40EF7BF6E090ACDBF3C48C0405FC4888E0EF7BF</span>
  <span class="mi">59</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000006</span><span class="n">E090ACDBF3C48C0405FC4888E0EF7BF393586EFB33C48C0EB9D1BE43F0EF7BF</span>
  <span class="mi">60</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000093</span><span class="n">B71270BE3C48C074571B086E09F7BF393586EFB33C48C0EB9D1BE43F0EF7BF</span>
  <span class="mi">61</span> <span class="o">|</span> <span class="mf">0102000020E61000000300000093</span><span class="n">B71270BE3C48C074571B086E09F7BFB806B64AB03C48C0F77FC465CB08F7BF258799C7AB3C48C0D4601A868F08F7BF</span>
  <span class="mi">62</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000258799</span><span class="n">C7AB3C48C0D4601A868F08F7BF040B163DA63C48C00BB03495EA07F7BF</span>
  <span class="mi">63</span> <span class="o">|</span> <span class="mf">0102000020E610000003000000040</span><span class="n">B163DA63C48C00BB03495EA07F7BF354AF2B7983C48C06859F78F8508F7BFF63581D8883C48C0677BF486FB08F7BF</span>
  <span class="mi">64</span> <span class="o">|</span> <span class="mf">0102000020E610000004000000</span><span class="n">F63581D8883C48C0677BF486FB08F7BFE49C7D8A883C48C0077AA86DC308F7BF2B07C435883C48C0953EBECE9708F7BF449149A1873C48C04AF48D435808F7BF</span>
  <span class="mi">65</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000449149</span><span class="n">A1873C48C04AF48D435808F7BF86D6790A6F3C48C0B8DFEBB5EA04F7BF</span>
  <span class="mi">66</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000086</span><span class="n">D6790A6F3C48C0B8DFEBB5EA04F7BFEEC1B524513C48C01F16C5066600F7BF</span>
  <span class="mi">67</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">EEC1B524513C48C01F16C5066600F7BF03FA8E2B3F3C48C075DDA51EB3FDF6BF</span>
  <span class="mi">68</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000003</span><span class="n">FA8E2B3F3C48C075DDA51EB3FDF6BF17DE40DC303C48C052B9895A9AFBF6BF</span>
  <span class="mi">69</span> <span class="o">|</span> <span class="mf">0102000020E61000000300000017</span><span class="n">DE40DC303C48C052B9895A9AFBF6BF88C73489303C48C034CBAF308EFBF6BF6157EE601F3C48C0C4F7B479D2F8F6BF</span>
  <span class="mi">70</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000006157</span><span class="n">EE601F3C48C0C4F7B479D2F8F6BFC74D68ED113C48C02409675CDDF6F6BF</span>
  <span class="mi">71</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">C74D68ED113C48C02409675CDDF6F6BF94EF6316EB3B48C090BBAD9921FAF6BF</span>
  <span class="mi">72</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000094</span><span class="n">EF6316EB3B48C090BBAD9921FAF6BFFD288F13CB3B48C08ECA4DD4D2FCF6BF</span>
  <span class="mi">73</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">FD288F13CB3B48C08ECA4DD4D2FCF6BF1590F63FC03B48C03B7881EDBBFDF6BF</span>
  <span class="mi">74</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000001590</span><span class="n">F63FC03B48C03B7881EDBBFDF6BF8D70A47DBD3B48C058DAF346F7FDF6BF</span>
  <span class="mi">75</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000008</span><span class="n">D70A47DBD3B48C058DAF346F7FDF6BFFA4674CFBA3B48C03A9A7EE431FEF6BF</span>
  <span class="mi">76</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">FA4674CFBA3B48C03A9A7EE431FEF6BF90B6966EB73B48C080643A747AFEF6BF</span>
  <span class="mi">77</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000090</span><span class="n">B6966EB73B48C080643A747AFEF6BF0202E7D6B53B48C09C2A29C12CFEF6BF</span>
  <span class="mi">78</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000000202</span><span class="n">E7D6B53B48C09C2A29C12CFEF6BFD784B4C6A03B48C06310B3F226FAF6BF</span>
  <span class="mi">79</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">D784B4C6A03B48C06310B3F226FAF6BFAAF81ADD9C3B48C0DDC4DA2967F9F6BF</span>
  <span class="mi">80</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">AAF81ADD9C3B48C0DDC4DA2967F9F6BF9E2D7B6D913B48C03E9FB7674CF7F6BF</span>
  <span class="mi">81</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000009</span><span class="n">E2D7B6D913B48C03E9FB7674CF7F6BF226BB2EB833B48C0BA8E2738ABF4F6BF</span>
  <span class="mi">82</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000226</span><span class="n">BB2EB833B48C0BA8E2738ABF4F6BF7613211A823B48C07B849A2155F4F6BF</span>
  <span class="mi">83</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000007613211</span><span class="n">A823B48C07B849A2155F4F6BF71B8454F803B48C0FB1AEEC8FDF3F6BF</span>
  <span class="mi">84</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000071</span><span class="n">B8454F803B48C0FB1AEEC8FDF3F6BF4CE4DDEC6A3B48C0F15FC54E1DF0F6BF</span>
  <span class="mi">85</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000004</span><span class="n">CE4DDEC6A3B48C0F15FC54E1DF0F6BFA27E17B6663B48C0F595517644EFF6BF</span>
  <span class="mi">86</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">A27E17B6663B48C0F595517644EFF6BF09281E61623B48C0495FAD7F7CEEF6BF</span>
  <span class="mi">87</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000009281</span><span class="n">E61623B48C0495FAD7F7CEEF6BF5BFAE1314D3B48C0CDF4013741EAF6BF</span>
  <span class="mi">88</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000005</span><span class="n">BFAE1314D3B48C0CDF4013741EAF6BFC2830B1E4B3B48C03F975FBCD5E9F6BF</span>
  <span class="mi">89</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">C2830B1E4B3B48C03F975FBCD5E9F6BF6F7143424A3B48C03DE30C0FABE9F6BF</span>
  <span class="mi">90</span> <span class="o">|</span> <span class="mf">0102000020E6100000030000006</span><span class="n">F7143424A3B48C03DE30C0FABE9F6BF7BA6F2D13D3B48C00354820F6FE7F6BFFAD346753A3B48C057917648D6E6F6BF</span>
  <span class="mi">91</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">FAD346753A3B48C057917648D6E6F6BF0A5E995C313B48C0BCD3F8E010E5F6BF</span>
  <span class="mi">92</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000000</span><span class="n">A5E995C313B48C0BCD3F8E010E5F6BF357EE195243B48C0954737C2A2E2F6BF</span>
  <span class="mi">93</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000357</span><span class="n">EE195243B48C0954737C2A2E2F6BF1492CCEA1D3B48C02C51AC0958E1F6BF</span>
  <span class="mi">94</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000001492</span><span class="n">CCEA1D3B48C02C51AC0958E1F6BF525AC9D81A3B48C0D8E19E9DC2E0F6BF</span>
  <span class="mi">95</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000525</span><span class="n">AC9D81A3B48C0D8E19E9DC2E0F6BFF4154960183B48C0BACED0894EE0F6BF</span>
  <span class="mi">96</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">F4154960183B48C0BACED0894EE0F6BF12071A7D163B48C007C02E79F2DFF6BF</span>
  <span class="mi">97</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000012071</span><span class="n">A7D163B48C007C02E79F2DFF6BF902E36AD143B48C0988D29B39CDFF6BF</span>
  <span class="mi">98</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000902</span><span class="n">E36AD143B48C0988D29B39CDFF6BF2C89A2F6113B48C08CB4F9241CDFF6BF</span>
  <span class="mi">99</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000002</span><span class="n">C89A2F6113B48C08CB4F9241CDFF6BFE3F50599093B48C0E9A7EE80A1DDF6BF</span>
 <span class="mi">100</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">E3F50599093B48C0E9A7EE80A1DDF6BFC1F40714FB3A48C03AB58E05E0DAF6BF</span>
 <span class="mi">101</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">C1F40714FB3A48C03AB58E05E0DAF6BF3D4FF2D9F03A48C055EAA39DE4D8F6BF</span>
 <span class="mi">102</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000003</span><span class="n">D4FF2D9F03A48C055EAA39DE4D8F6BFB6BF0EF7EC3A48C00801F9122AD8F6BF</span>
 <span class="mi">103</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">B6BF0EF7EC3A48C00801F9122AD8F6BF99EBD918E03A48C079245E9ECED5F6BF</span>
 <span class="mi">104</span> <span class="o">|</span> <span class="mf">0102000020E61000000300000099</span><span class="n">EBD918E03A48C079245E9ECED5F6BFB85274C9DD3A48C0FBC09F2B5BD5F6BFE665039FD53A48C0195B632BC3D3F6BF</span>
 <span class="mi">105</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">E665039FD53A48C0195B632BC3D3F6BF58F90A77D33A48C04721246651D3F6BF</span>
 <span class="mi">106</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000058</span><span class="n">F90A77D33A48C04721246651D3F6BF24456458C53A48C0460C9645BCD0F6BF</span>
 <span class="mi">107</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000024456458</span><span class="n">C53A48C0460C9645BCD0F6BF7606FCD0BB3A48C00CA2FF2FE8CEF6BF</span>
 <span class="mi">108</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000007606</span><span class="n">FCD0BB3A48C00CA2FF2FE8CEF6BF25E6FE8FB83A48C071169BFB50CEF6BF</span>
 <span class="mi">109</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000025</span><span class="n">E6FE8FB83A48C071169BFB50CEF6BF9DF17D71A93A48C0E59189A592CBF6BF</span>
 <span class="mi">110</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000009</span><span class="n">DF17D71A93A48C0E59189A592CBF6BF528B77369A3A48C02E2E9FF6A5C8F6BF</span>
 <span class="mi">111</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000528</span><span class="n">B77369A3A48C02E2E9FF6A5C8F6BFB597231A933A48C0B7CC8EF925C7F6BF</span>
 <span class="mi">112</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">B597231A933A48C0B7CC8EF925C7F6BFA55247228F3A48C03CC159A54FC6F6BF</span>
 <span class="mi">113</span> <span class="o">|</span> <span class="mf">0102000020E610000003000000</span><span class="n">A55247228F3A48C03CC159A54FC6F6BFCFA91A738D3A48C03756BD5708C6F6BFB3E496FB893A48C0DB238A7F8EC5F6BF</span>
 <span class="mi">114</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">B3E496FB893A48C0DB238A7F8EC5F6BF21938C9C853A48C0BE13B35E0CC5F6BF</span>
 <span class="mi">115</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000021938</span><span class="n">C9C853A48C0BE13B35E0CC5F6BF8524B37A873A48C0B62B9908C0C4F6BF</span>
 <span class="mi">116</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000008524</span><span class="n">B37A873A48C0B62B9908C0C4F6BFE3F2695F8A3A48C0DAB4ADC156C4F6BF</span>
 <span class="mi">117</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">E3F2695F8A3A48C0DAB4ADC156C4F6BFACA525FB8C3A48C008B53A94FCC3F6BF</span>
 <span class="mi">118</span> <span class="o">|</span> 
<span class="p">(</span><span class="mi">118</span> <span class="n">rows</span><span class="p">)</span>

</pre></div>
</div>
</div>
</div>
</section>
<section id="exercise-4-route-geometry-directionality">
<h3><a class="toc-backref" href="#id8" role="doc-backlink"><span class="section-number">5.3.3. </span>Exercise 4: Route geometry directionality</a><a class="headerlink" href="#exercise-4-route-geometry-directionality" title="Link to this heading">¶</a></h3>
<a class="reference internal image-reference" href="../_images/ch7-e8.png"><img alt="From |ch7_place_1| to |ch7_place_2|" src="../_images/ch7-e8.png" style="width: 300pt;" />
</a>
<p>Visually, with the route displayed with arrows, it can be found that there are
arrows that do not match the directionality of the route.</p>
<p>To have correct directionality, the ending point of a geometry must match the
starting point of the next geometry</p>
<ul class="simple">
<li><p>Inspecting the detail of the results of <a class="reference internal" href="#exercise-2-route-geometry-human-readable">Exercise 2: Route geometry (human
readable)</a></p>
<ul>
<li><p>Rows <strong>59</strong> to <strong>61</strong> do not match that criteria</p></li>
</ul>
</li>
</ul>
<div class="sphinx_collapse docutils container">
<input class="sphinx_collapse__input" id="2fd392b1-f79b-430e-b4de-8dde008226c3" name="2fd392b1-f79b-430e-b4de-8dde008226c3" type="checkbox"><label class="sphinx_collapse__label" for="2fd392b1-f79b-430e-b4de-8dde008226c3"><i class="sphinx_collapse__icon"></i>Query: Rows where criteria is not met</label><div class="sphinx_collapse__content docutils container">
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">WITH</span>
<span class="n">results</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="k">SELECT</span><span class="w"> </span><span class="n">seq</span><span class="p">,</span><span class="w"> </span><span class="n">edge</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">node</span><span class="p">,</span><span class="w"> </span><span class="n">cost</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">seconds</span>
<span class="w">  </span><span class="k">FROM</span><span class="w"> </span><span class="n">pgr_dijkstra</span><span class="p">(</span><span class="s1">&#39;SELECT * FROM vehicle_net&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">5661895682</span><span class="p">,</span><span class="w"> </span><span class="mi">10982869752</span><span class="p">)</span>
<span class="p">),</span>
<span class="n">compare</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="k">SELECT</span><span class="w"> </span><span class="n">seq</span><span class="p">,</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">lead</span><span class="p">(</span><span class="n">seq</span><span class="p">)</span><span class="w"> </span><span class="n">over</span><span class="p">(</span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">seq</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">next_seq</span><span class="p">,</span>
<span class="w">  </span><span class="n">ST_AsText</span><span class="p">(</span><span class="n">ST_endPoint</span><span class="p">(</span><span class="n">geom</span><span class="p">))</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">id_end</span><span class="p">,</span>
<span class="w">  </span><span class="n">ST_AsText</span><span class="p">(</span><span class="n">ST_startPoint</span><span class="p">(</span><span class="n">lead</span><span class="p">(</span><span class="n">geom</span><span class="p">)</span><span class="w"> </span><span class="n">over</span><span class="p">(</span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">seq</span><span class="p">)))</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">next_id_start</span>

<span class="w">  </span><span class="k">FROM</span><span class="w"> </span><span class="n">results</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">vehicle_net</span><span class="w"> </span><span class="k">USING</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">)</span>
<span class="w">  </span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">seq</span><span class="p">)</span>
<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">compare</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">id_end</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">next_id_start</span><span class="p">;</span>
</pre></div>
</div>
</div>
</div>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="n">seq</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="n">id</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">next_seq</span><span class="w"> </span><span class="o">|</span><span class="w">            </span><span class="n">id_end</span><span class="w">             </span><span class="o">|</span><span class="w">         </span><span class="n">next_id_start</span><span class="w">         </span>
<span class="c1">-----+-------+----------+-------------------------------+-------------------------------</span>
<span class="w">  </span><span class="mi">59</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">10704</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">60</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">POINT</span><span class="p">(</span><span class="o">-</span><span class="mi">48</span><span class="p">.</span><span class="mi">4742412</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">.</span><span class="mi">4409789</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">POINT</span><span class="p">(</span><span class="o">-</span><span class="mi">48</span><span class="p">.</span><span class="mi">4745617</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">.</span><span class="mi">4398022</span><span class="p">)</span>
<span class="w">  </span><span class="mi">60</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">10705</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">61</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">POINT</span><span class="p">(</span><span class="o">-</span><span class="mi">48</span><span class="p">.</span><span class="mi">4742412</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">.</span><span class="mi">4409789</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">POINT</span><span class="p">(</span><span class="o">-</span><span class="mi">48</span><span class="p">.</span><span class="mi">4745617</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">.</span><span class="mi">4398022</span><span class="p">)</span>
<span class="p">(</span><span class="mi">2</span><span class="w"> </span><span class="k">rows</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Problem</p>
<p>Route from the Estação das Docas to Hangar Convention Center</p>
<ul class="simple">
<li><p>Fix the directionality of the geometries of the previous exercise</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">geom</span></code> in human readable form named as  <code class="docutils literal notranslate"><span class="pre">route_readable</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">geom</span></code> in binary format  with the name <code class="docutils literal notranslate"><span class="pre">route_geom</span></code></p></li>
<li><p>Both columns must have the geometry fixed for directionality.</p></li>
</ul>
</li>
</ul>
<p class="rubric">Solution</p>
<p>To get the correct direction some geometries need to be reversed:</p>
<ul class="simple">
<li><p>Reversing a geometry will depend on the <code class="docutils literal notranslate"><span class="pre">node</span></code> column of the query to
Dijkstra (line <strong>2</strong>)</p></li>
<li><p>A conditional <code class="docutils literal notranslate"><span class="pre">CASE</span></code> statement that returns the geometry in human readable
form:</p>
<ul>
<li><p>Of the geometry when <code class="docutils literal notranslate"><span class="pre">node</span></code> is the <code class="docutils literal notranslate"><span class="pre">source</span></code> column. (line <strong>11</strong>)</p></li>
<li><p>Of the reversed geometry when <code class="docutils literal notranslate"><span class="pre">node</span></code> is not the <code class="docutils literal notranslate"><span class="pre">source</span></code> column. (line <strong>12</strong>)</p></li>
</ul>
</li>
<li><p>A conditional <code class="docutils literal notranslate"><span class="pre">CASE</span></code> statement that returns:</p>
<ul>
<li><p>The geometry when <code class="docutils literal notranslate"><span class="pre">node</span></code> is the <code class="docutils literal notranslate"><span class="pre">source</span></code> column. (line <strong>17</strong>)</p></li>
<li><p>The reversed geometry when <code class="docutils literal notranslate"><span class="pre">node</span></code> is not the <code class="docutils literal notranslate"><span class="pre">source</span></code> column. (line <strong>16</strong>)</p></li>
</ul>
</li>
</ul>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">WITH</span><span class="w"> </span><span class="n">results</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span>
<span class="linenos"> 2</span><span class="w">  </span><span class="k">SELECT</span><span class="w"> </span><span class="n">seq</span><span class="p">,</span><span class="w"> </span><span class="n">edge</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">node</span><span class="p">,</span><span class="w"> </span><span class="n">cost</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">seconds</span>
<span class="hll"><span class="linenos"> 3</span><span class="w">  </span><span class="k">FROM</span><span class="w"> </span><span class="n">pgr_dijkstra</span><span class="p">(</span><span class="s1">&#39;SELECT * FROM vehicle_net&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">5661895682</span><span class="p">,</span><span class="w"> </span><span class="mi">10982869752</span><span class="p">)</span>
</span><span class="linenos"> 4</span><span class="w">  </span><span class="p">)</span>
<span class="linenos"> 5</span><span class="k">SELECT</span>
<span class="linenos"> 6</span><span class="w">  </span><span class="c1">-- from previous excercise</span>
<span class="linenos"> 7</span><span class="w">  </span><span class="n">seq</span><span class="p">,</span>
<span class="linenos"> 8</span><span class="w">  </span><span class="c1">-- id, seconds, name, length,</span>
<span class="hll"><span class="linenos"> 9</span>
</span><span class="linenos">10</span><span class="w">  </span><span class="c1">-- fixing the directionality</span>
<span class="hll"><span class="linenos">11</span><span class="w">  </span><span class="k">CASE</span>
</span><span class="hll"><span class="linenos">12</span><span class="w">      </span><span class="k">WHEN</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">source</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="n">ST_AsText</span><span class="p">(</span><span class="n">geom</span><span class="p">)</span>
</span><span class="linenos">13</span><span class="w">      </span><span class="k">ELSE</span><span class="w"> </span><span class="n">ST_AsText</span><span class="p">(</span><span class="n">ST_Reverse</span><span class="p">(</span><span class="n">geom</span><span class="p">))</span>
<span class="linenos">14</span><span class="w">  </span><span class="k">END</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">route_readable</span><span class="p">,</span>
<span class="linenos">15</span>
<span class="hll"><span class="linenos">16</span><span class="w">  </span><span class="k">CASE</span>
</span><span class="hll"><span class="linenos">17</span><span class="w">      </span><span class="k">WHEN</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">source</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="n">geom</span>
</span><span class="linenos">18</span><span class="w">      </span><span class="k">ELSE</span><span class="w"> </span><span class="n">ST_Reverse</span><span class="p">(</span><span class="n">geom</span><span class="p">)</span>
<span class="linenos">19</span><span class="w">  </span><span class="k">END</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">route_geom</span>
<span class="linenos">20</span>
<span class="linenos">21</span><span class="k">FROM</span><span class="w"> </span><span class="n">results</span>
<span class="linenos">22</span><span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">vehicle_net</span><span class="w"> </span><span class="k">USING</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">)</span>
<span class="linenos">23</span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">seq</span><span class="p">;</span>
</pre></div>
</div>
<div class="sphinx_collapse docutils container">
<input class="sphinx_collapse__input" id="c6fc96de-0ed2-4339-b410-a24ea9992878" name="c6fc96de-0ed2-4339-b410-a24ea9992878" type="checkbox"><label class="sphinx_collapse__label" for="c6fc96de-0ed2-4339-b410-a24ea9992878"><i class="sphinx_collapse__icon"></i>results</label><div class="sphinx_collapse__content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">seq</span> <span class="o">|</span>                                                                                                                                                               <span class="n">route_readable</span>                                                                                                                                                                <span class="o">|</span>                                                                                                                                                                                                                                         <span class="n">route_geom</span>                                                                                                                                                                                                                                         
<span class="o">-----+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
   <span class="mi">1</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.5002935</span> <span class="o">-</span><span class="mf">1.4491382</span><span class="p">,</span><span class="o">-</span><span class="mf">48.5002057</span> <span class="o">-</span><span class="mf">1.4490799</span><span class="p">,</span><span class="o">-</span><span class="mf">48.5001265</span> <span class="o">-</span><span class="mf">1.4490202</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4998269</span> <span class="o">-</span><span class="mf">1.4486681</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4997338</span> <span class="o">-</span><span class="mf">1.4485607</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4996364</span> <span class="o">-</span><span class="mf">1.4484672</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4995559</span> <span class="o">-</span><span class="mf">1.4484022</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4994587</span> <span class="o">-</span><span class="mf">1.4483512</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4993561</span> <span class="o">-</span><span class="mf">1.4482882</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4993017</span> <span class="o">-</span><span class="mf">1.4482467</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4991133</span> <span class="o">-</span><span class="mf">1.4480664</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4990966</span> <span class="o">-</span><span class="mf">1.4480348</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4990878</span> <span class="o">-</span><span class="mf">1.4479913</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4991428</span> <span class="o">-</span><span class="mf">1.44774</span><span class="p">)</span> <span class="o">|</span> <span class="mf">0102000020E61000000</span><span class="n">E00000060730E9E094048C01F268689AB2FF7BFEB6289BD064048C0BCA7BC676E2FF7BF75AE2825044048C0E2E423CE2F2FF7BF9E94EE53FA3F48C0A422049ABE2DF7BF58DAF346F73F48C079550CFC4D2DF7BF12F2E615F43F48C0524255F1EB2CF7BF0D839E72F13F48C06F4507C9A72CF7BFF1193F43EE3F48C02BF5D14E722CF7BF704793E6EA3F48C05EEC623F302CF7BF292B3C1EE93F48C087A350BB042CF7BFD33FD2F1E23F48C0B8FB66AC472BF7BFBC45BB65E23F48C0B784D789262BF7BF926AE91BE23F48C0C847E6ECF82AF7BF560449E9E33F48C0D2C6116BF129F7BF</span>
   <span class="mi">2</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4991428</span> <span class="o">-</span><span class="mf">1.44774</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4990724</span> <span class="o">-</span><span class="mf">1.4477339</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4989705</span> <span class="o">-</span><span class="mf">1.4477379</span><span class="p">)</span>                                                                                                                                                                                                                                                              <span class="o">|</span> <span class="mf">0102000020E610000003000000560449</span><span class="n">E9E33F48C0D2C6116BF129F7BF0A2BBA9AE13F48C0F3F79C05EB29F7BF9A95ED43DE3F48C020E05A37EF29F7BF</span>
   <span class="mi">3</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4989705</span> <span class="o">-</span><span class="mf">1.4477379</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4989886</span> <span class="o">-</span><span class="mf">1.4477975</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4989873</span> <span class="o">-</span><span class="mf">1.4478592</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4989685</span> <span class="o">-</span><span class="mf">1.4479142</span><span class="p">,</span><span class="o">-</span><span class="mf">48.498935</span> <span class="o">-</span><span class="mf">1.4479638</span><span class="p">)</span>                                                                                                                                                                                                               <span class="o">|</span> <span class="mf">0102000020E6100000050000009</span><span class="n">A95ED43DE3F48C020E05A37EF29F7BFD509C3DBDE3F48C060B01BB62D2AF7BF474FDBD0DE3F48C0506793686E2AF7BFF99D2633DE3F48C0C29F8614A82AF7BF36EA211ADD3F48C08FABEC16DC2AF7BF</span>
   <span class="mi">4</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.498935</span> <span class="o">-</span><span class="mf">1.4479638</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4987405</span> <span class="o">-</span><span class="mf">1.4479313</span><span class="p">)</span>                                                                                                                                                                                                                                                                                    <span class="o">|</span> <span class="mf">0102000020E61000000200000036</span><span class="n">EA211ADD3F48C08FABEC16DC2AF7BF68588CBAD63F48C01EADC502BA2AF7BF</span>
   <span class="mi">5</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4987405</span> <span class="o">-</span><span class="mf">1.4479313</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4985465</span> <span class="o">-</span><span class="mf">1.4482172</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E61000000200000068588</span><span class="n">CBAD63F48C01EADC502BA2AF7BF8484285FD03F48C0371378CCE52BF7BF</span>
   <span class="mi">6</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4985465</span> <span class="o">-</span><span class="mf">1.4482172</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4984527</span> <span class="o">-</span><span class="mf">1.4483438</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E6100000020000008484285</span><span class="n">FD03F48C0371378CCE52BF7BF2C8D4E4CCD3F48C070D4658C6A2CF7BF</span>
   <span class="mi">7</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4984527</span> <span class="o">-</span><span class="mf">1.4483438</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4983947</span> <span class="o">-</span><span class="mf">1.4484296</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E6100000020000002</span><span class="n">C8D4E4CCD3F48C070D4658C6A2CF7BFF77FC465CB3F48C00DEF2884C42CF7BF</span>
   <span class="mi">8</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4983947</span> <span class="o">-</span><span class="mf">1.4484296</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4982262</span> <span class="o">-</span><span class="mf">1.4486989</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">F77FC465CB3F48C00DEF2884C42CF7BF538149E0C53F48C0CF04D4E5DE2DF7BF</span>
   <span class="mi">9</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4982262</span> <span class="o">-</span><span class="mf">1.4486989</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4981152</span> <span class="o">-</span><span class="mf">1.4486197</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E610000002000000538149</span><span class="n">E0C53F48C0CF04D4E5DE2DF7BFFCD1263DC23F48C01876BDD98B2DF7BF</span>
  <span class="mi">10</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4981152</span> <span class="o">-</span><span class="mf">1.4486197</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4973973</span> <span class="o">-</span><span class="mf">1.4481404</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">FCD1263DC23F48C01876BDD98B2DF7BF324FF8B6AA3F48C00143A044952BF7BF</span>
  <span class="mi">11</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4973973</span> <span class="o">-</span><span class="mf">1.4481404</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4962964</span> <span class="o">-</span><span class="mf">1.4474314</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4962011</span> <span class="o">-</span><span class="mf">1.4473699</span><span class="p">)</span>                                                                                                                                                                                                                                                            <span class="o">|</span> <span class="mf">0102000020E610000003000000324</span><span class="n">FF8B6AA3F48C00143A044952BF7BFAF8FF3A3863F48C08341E3D3AD28F7BF9F5E8484833F48C0C86F1B576D28F7BF</span>
  <span class="mi">12</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4962011</span> <span class="o">-</span><span class="mf">1.4473699</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4961697</span> <span class="o">-</span><span class="mf">1.4473505</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E6100000020000009</span><span class="n">F5E8484833F48C0C86F1B576D28F7BF11621D7D823F48C0859675FF5828F7BF</span>
  <span class="mi">13</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4961697</span> <span class="o">-</span><span class="mf">1.4473505</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4956471</span> <span class="o">-</span><span class="mf">1.4470076</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E61000000200000011621</span><span class="n">D7D823F48C0859675FF5828F7BFBA6D3A5D713F48C0E403F170F126F7BF</span>
  <span class="mi">14</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4956471</span> <span class="o">-</span><span class="mf">1.4470076</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4953584</span> <span class="o">-</span><span class="mf">1.4474603</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">BA6D3A5D713F48C0E403F170F126F7BF42E66FE7673F48C03222AC21CC28F7BF</span>
  <span class="mi">15</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4953584</span> <span class="o">-</span><span class="mf">1.4474603</span><span class="p">,</span><span class="o">-</span><span class="mf">48.494943</span> <span class="o">-</span><span class="mf">1.4481307</span><span class="p">)</span>                                                                                                                                                                                                                                                                                    <span class="o">|</span> <span class="mf">0102000020E61000000200000042</span><span class="n">E66FE7673F48C03222AC21CC28F7BF2B31CF4A5A3F48C06056CD188B2BF7BF</span>
  <span class="mi">16</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.494943</span> <span class="o">-</span><span class="mf">1.4481307</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4946591</span> <span class="o">-</span><span class="mf">1.448529</span><span class="p">)</span>                                                                                                                                                                                                                                                                                     <span class="o">|</span> <span class="mf">0102000020E6100000020000002</span><span class="n">B31CF4A5A3F48C06056CD188B2BF7BF9B9548FD503F48C0DDEBA4BE2C2DF7BF</span>
  <span class="mi">17</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4946591</span> <span class="o">-</span><span class="mf">1.448529</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4942646</span> <span class="o">-</span><span class="mf">1.4490737</span><span class="p">)</span>                                                                                                                                                                                                                                                                                    <span class="o">|</span> <span class="mf">0102000020E6100000020000009</span><span class="n">B9548FD503F48C0DDEBA4BE2C2DF7BF0749FA0F443F48C042E66FE7672FF7BF</span>
  <span class="mi">18</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4942646</span> <span class="o">-</span><span class="mf">1.4490737</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4939959</span> <span class="o">-</span><span class="mf">1.4494742</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E6100000020000000749</span><span class="n">FA0F443F48C042E66FE7672FF7BFD66DF5413B3F48C00C55D6DB0B31F7BF</span>
  <span class="mi">19</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4939959</span> <span class="o">-</span><span class="mf">1.4494742</span><span class="p">,</span><span class="o">-</span><span class="mf">48.493915</span> <span class="o">-</span><span class="mf">1.4495993</span><span class="p">)</span>                                                                                                                                                                                                                                                                                    <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">D66DF5413B3F48C00C55D6DB0B31F7BF7E00529B383F48C034DF1C098F31F7BF</span>
  <span class="mi">20</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.493915</span> <span class="o">-</span><span class="mf">1.4495993</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4938034</span> <span class="o">-</span><span class="mf">1.4497985</span><span class="p">)</span>                                                                                                                                                                                                                                                                                    <span class="o">|</span> <span class="mf">0102000020E6100000020000007</span><span class="n">E00529B383F48C034DF1C098F31F7BFA9D326F3343F48C040A374E95F32F7BF</span>
  <span class="mi">21</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4938034</span> <span class="o">-</span><span class="mf">1.4497985</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4933626</span> <span class="o">-</span><span class="mf">1.4494717</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">A9D326F3343F48C040A374E95F32F7BFE6087481263F48C0EFA3BF3C0931F7BF</span>
  <span class="mi">22</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4933626</span> <span class="o">-</span><span class="mf">1.4494717</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4921294</span> <span class="o">-</span><span class="mf">1.4485577</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">E6087481263F48C0EFA3BF3C0931F7BF37339F18FE3E48C057E7BDD64A2DF7BF</span>
  <span class="mi">23</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4921294</span> <span class="o">-</span><span class="mf">1.4485577</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4912453</span> <span class="o">-</span><span class="mf">1.4479154</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E61000000200000037339</span><span class="n">F18FE3E48C057E7BDD64A2DF7BF28E84020E13E48C003FFA556A92AF7BF</span>
  <span class="mi">24</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4912453</span> <span class="o">-</span><span class="mf">1.4479154</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4903663</span> <span class="o">-</span><span class="mf">1.4472594</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E61000000200000028</span><span class="n">E84020E13E48C003FFA556A92AF7BFBFC7AA52C43E48C0E041FD78F927F7BF</span>
  <span class="mi">25</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4903663</span> <span class="o">-</span><span class="mf">1.4472594</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4887232</span> <span class="o">-</span><span class="mf">1.4460579</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">BFC7AA52C43E48C0E041FD78F927F7BFF365587B8E3E48C082F5C99B0D23F7BF</span>
  <span class="mi">26</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4887232</span> <span class="o">-</span><span class="mf">1.4460579</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4886407</span> <span class="o">-</span><span class="mf">1.4459984</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">F365587B8E3E48C082F5C99B0D23F7BF4DFF48C78B3E48C0DD17E137CF22F7BF</span>
  <span class="mi">27</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4886407</span> <span class="o">-</span><span class="mf">1.4459984</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4885213</span> <span class="o">-</span><span class="mf">1.4459093</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E6100000020000004</span><span class="n">DFF48C78B3E48C0DD17E137CF22F7BF2073AFDD873E48C04FB747CA7122F7BF</span>
  <span class="mi">28</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4885213</span> <span class="o">-</span><span class="mf">1.4459093</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4885012</span> <span class="o">-</span><span class="mf">1.4458934</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E6100000020000002073</span><span class="n">AFDD873E48C04FB747CA7122F7BF44071335873E48C03409281E6122F7BF</span>
  <span class="mi">29</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4885012</span> <span class="o">-</span><span class="mf">1.4458934</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4884706</span> <span class="o">-</span><span class="mf">1.4458686</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E61000000200000044071335873</span><span class="n">E48C03409281E6122F7BF5C076234863E48C04D03F51C4722F7BF</span>
  <span class="mi">30</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4884706</span> <span class="o">-</span><span class="mf">1.4458686</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4883886</span> <span class="o">-</span><span class="mf">1.4458059</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E6100000020000005</span><span class="n">C076234863E48C04D03F51C4722F7BF9F5E8484833E48C051D20D5E0522F7BF</span>
  <span class="mi">31</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4883886</span> <span class="o">-</span><span class="mf">1.4458059</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4883747</span> <span class="o">-</span><span class="mf">1.4457972</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E6100000020000009</span><span class="n">F5E8484833E48C051D20D5E0522F7BFCF58EA0F833E48C0BA5FAA3EFC21F7BF</span>
  <span class="mi">32</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4883747</span> <span class="o">-</span><span class="mf">1.4457972</span><span class="p">,</span><span class="o">-</span><span class="mf">48.488312</span> <span class="o">-</span><span class="mf">1.4457486</span><span class="p">)</span>                                                                                                                                                                                                                                                                                    <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">CF58EA0F833E48C0BA5FAA3EFC21F7BF471FF301813E48C0F8CDB348C921F7BF</span>
  <span class="mi">33</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.488312</span> <span class="o">-</span><span class="mf">1.4457486</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4882586</span> <span class="o">-</span><span class="mf">1.445713</span><span class="p">)</span>                                                                                                                                                                                                                                                                                     <span class="o">|</span> <span class="mf">0102000020E610000002000000471</span><span class="n">FF301813E48C0F8CDB348C921F7BFD17EFF417F3E48C0CA6E66F4A321F7BF</span>
  <span class="mi">34</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4882586</span> <span class="o">-</span><span class="mf">1.445713</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4881629</span> <span class="o">-</span><span class="mf">1.4456421</span><span class="p">)</span>                                                                                                                                                                                                                                                                                    <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">D17EFF417F3E48C0CA6E66F4A321F7BF6D4F351F7C3E48C03D88539C5921F7BF</span>
  <span class="mi">35</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4881629</span> <span class="o">-</span><span class="mf">1.4456421</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4874804</span> <span class="o">-</span><span class="mf">1.4451359</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E6100000020000006</span><span class="n">D4F351F7C3E48C03D88539C5921F7BF73B8FBC1653E48C08E684CD2461FF7BF</span>
  <span class="mi">36</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4874804</span> <span class="o">-</span><span class="mf">1.4451359</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4870783</span> <span class="o">-</span><span class="mf">1.4448293</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E61000000200000073</span><span class="n">B8FBC1653E48C08E684CD2461FF7BFAF8BEC94583E48C057D7FC53051EF7BF</span>
  <span class="mi">37</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4870783</span> <span class="o">-</span><span class="mf">1.4448293</span><span class="p">,</span><span class="o">-</span><span class="mf">48.486549</span> <span class="o">-</span><span class="mf">1.4444509</span><span class="p">)</span>                                                                                                                                                                                                                                                                                    <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">AF8BEC94583E48C057D7FC53051EF7BF6473D53C473E48C022D8028C781CF7BF</span>
  <span class="mi">38</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.486549</span> <span class="o">-</span><span class="mf">1.4444509</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4860067</span> <span class="o">-</span><span class="mf">1.4441552</span><span class="p">)</span>                                                                                                                                                                                                                                                                                    <span class="o">|</span> <span class="mf">0102000020E6100000020000006473</span><span class="n">D53C473E48C022D8028C781CF7BF8511B177353E48C0CC92A57B421BF7BF</span>
  <span class="mi">39</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4860067</span> <span class="o">-</span><span class="mf">1.4441552</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4856347</span> <span class="o">-</span><span class="mf">1.4439806</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E6100000020000008511</span><span class="n">B177353E48C0CC92A57B421BF7BFC1262147293E48C071EFD0668B1AF7BF</span>
  <span class="mi">40</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4856347</span> <span class="o">-</span><span class="mf">1.4439806</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4854193</span> <span class="o">-</span><span class="mf">1.4438832</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">C1262147293E48C071EFD0668B1AF7BF712C3938223E48C0B7E63345251AF7BF</span>
  <span class="mi">41</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4854193</span> <span class="o">-</span><span class="mf">1.4438832</span><span class="p">,</span><span class="o">-</span><span class="mf">48.485021</span> <span class="o">-</span><span class="mf">1.4437031</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4847526</span> <span class="o">-</span><span class="mf">1.443592</span><span class="p">)</span>                                                                                                                                                                                                                                                              <span class="o">|</span> <span class="mf">0102000020E610000003000000712</span><span class="n">C3938223E48C0B7E63345251AF7BFC66F0A2B153E48C01E24FA6B6819F7BF53D3895F0C3E48C09546CCECF318F7BF</span>
  <span class="mi">42</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4847526</span> <span class="o">-</span><span class="mf">1.443592</span><span class="p">,</span><span class="o">-</span><span class="mf">48.484519</span> <span class="o">-</span><span class="mf">1.4435058</span><span class="p">)</span>                                                                                                                                                                                                                                                                                     <span class="o">|</span> <span class="mf">0102000020E61000000200000053</span><span class="n">D3895F0C3E48C09546CCECF318F7BF33A5F5B7043E48C08E61A9899918F7BF</span>
  <span class="mi">43</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.484519</span> <span class="o">-</span><span class="mf">1.4435058</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4844675</span> <span class="o">-</span><span class="mf">1.4434874</span><span class="p">)</span>                                                                                                                                                                                                                                                                                    <span class="o">|</span> <span class="mf">0102000020E61000000200000033</span><span class="n">A5F5B7043E48C08E61A9899918F7BFC93CF207033E48C05602733E8618F7BF</span>
  <span class="mi">44</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4844675</span> <span class="o">-</span><span class="mf">1.4434874</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4841737</span> <span class="o">-</span><span class="mf">1.4433782</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">C93CF207033E48C05602733E8618F7BFAA8A5F67F93D48C049264CBD1318F7BF</span>
  <span class="mi">45</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4841737</span> <span class="o">-</span><span class="mf">1.4433782</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4840192</span> <span class="o">-</span><span class="mf">1.4433237</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4836722</span> <span class="o">-</span><span class="mf">1.4432064</span><span class="p">)</span>                                                                                                                                                                                                                                                            <span class="o">|</span> <span class="mf">0102000020E610000003000000</span><span class="n">AA8A5F67F93D48C049264CBD1318F7BF6B515557F43D48C0DEAA9097DA17F7BF007E7CF8E83D48C0DB0B16985F17F7BF</span>
  <span class="mi">46</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4836722</span> <span class="o">-</span><span class="mf">1.4432064</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4829766</span> <span class="o">-</span><span class="mf">1.4429586</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4828336</span> <span class="o">-</span><span class="mf">1.4429203</span><span class="p">)</span>                                                                                                                                                                                                                                                            <span class="o">|</span> <span class="mf">0102000020E610000003000000007</span><span class="n">E7CF8E83D48C0DB0B16985F17F7BFDCDD5E2DD23D48C00DB6C7C15B16F7BF79B4CC7DCD3D48C08CC0B3983316F7BF</span>
  <span class="mi">47</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4828336</span> <span class="o">-</span><span class="mf">1.4429203</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4813048</span> <span class="o">-</span><span class="mf">1.4424536</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E61000000200000079</span><span class="n">B4CC7DCD3D48C08CC0B3983316F7BF33B44B659B3D48C09EF5DF394A14F7BF</span>
  <span class="mi">48</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4813048</span> <span class="o">-</span><span class="mf">1.4424536</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4805616</span> <span class="o">-</span><span class="mf">1.4422223</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E61000000200000033</span><span class="n">B44B659B3D48C09EF5DF394A14F7BF52DBE10A833D48C08CFDC0B05713F7BF</span>
  <span class="mi">49</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4805616</span> <span class="o">-</span><span class="mf">1.4422223</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4785543</span> <span class="o">-</span><span class="mf">1.4415475</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E61000000200000052</span><span class="n">DBE10A833D48C08CFDC0B05713F7BF1AEE6D44413D48C0C616821C9410F7BF</span>
  <span class="mi">50</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4785543</span> <span class="o">-</span><span class="mf">1.4415475</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4772324</span> <span class="o">-</span><span class="mf">1.4414051</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E6100000020000001</span><span class="n">AEE6D44413D48C0C616821C9410F7BFB94B87F3153D48C00D9A4CCBFE0FF7BF</span>
  <span class="mi">51</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4772324</span> <span class="o">-</span><span class="mf">1.4414051</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4768596</span> <span class="o">-</span><span class="mf">1.441359</span><span class="p">)</span>                                                                                                                                                                                                                                                                                    <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">B94B87F3153D48C00D9A4CCBFE0FF7BF4E6441BC093D48C067B96C74CE0FF7BF</span>
  <span class="mi">52</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4768596</span> <span class="o">-</span><span class="mf">1.441359</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4767785</span> <span class="o">-</span><span class="mf">1.441349</span><span class="p">)</span>                                                                                                                                                                                                                                                                                     <span class="o">|</span> <span class="mf">0102000020E6100000020000004</span><span class="n">E6441BC093D48C067B96C74CE0FF7BFCD77F013073D48C0F5F411F8C30FF7BF</span>
  <span class="mi">53</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4767785</span> <span class="o">-</span><span class="mf">1.441349</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4761448</span> <span class="o">-</span><span class="mf">1.4413018</span><span class="p">)</span>                                                                                                                                                                                                                                                                                    <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">CD77F013073D48C0F5F411F8C30FF7BF8A141450F23C48C0A9A7EA79920FF7BF</span>
  <span class="mi">54</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4761448</span> <span class="o">-</span><span class="mf">1.4413018</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4753701</span> <span class="o">-</span><span class="mf">1.4412082</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E6100000020000008</span><span class="n">A141450F23C48C0A9A7EA79920FF7BF857F6CEDD83C48C0E7A15B54300FF7BF</span>
  <span class="mi">55</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4753701</span> <span class="o">-</span><span class="mf">1.4412082</span><span class="p">,</span><span class="o">-</span><span class="mf">48.475342</span> <span class="o">-</span><span class="mf">1.4412022</span><span class="p">)</span>                                                                                                                                                                                                                                                                                    <span class="o">|</span> <span class="mf">0102000020E610000002000000857</span><span class="n">F6CEDD83C48C0E7A15B54300FF7BF2635B401D83C48C0A3C5BE092A0FF7BF</span>
  <span class="mi">56</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.475342</span> <span class="o">-</span><span class="mf">1.4412022</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4751295</span> <span class="o">-</span><span class="mf">1.4411624</span><span class="p">)</span>                                                                                                                                                                                                                                                                                    <span class="o">|</span> <span class="mf">0102000020E6100000020000002635</span><span class="n">B401D83C48C0A3C5BE092A0FF7BFB3EE1F0BD13C48C01299034E000FF7BF</span>
  <span class="mi">57</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4751295</span> <span class="o">-</span><span class="mf">1.4411624</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4750651</span> <span class="o">-</span><span class="mf">1.4411511</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">B3EE1F0BD13C48C01299034E000FF7BF49FCE5EECE3C48C0C482B174F40EF7BF</span>
  <span class="mi">58</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4750651</span> <span class="o">-</span><span class="mf">1.4411511</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4746033</span> <span class="o">-</span><span class="mf">1.4410539</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E61000000200000049</span><span class="n">FCE5EECE3C48C0C482B174F40EF7BF6E090ACDBF3C48C0405FC4888E0EF7BF</span>
  <span class="mi">59</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4746033</span> <span class="o">-</span><span class="mf">1.4410539</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4742412</span> <span class="o">-</span><span class="mf">1.4409789</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E6100000020000006</span><span class="n">E090ACDBF3C48C0405FC4888E0EF7BF393586EFB33C48C0EB9D1BE43F0EF7BF</span>
  <span class="mi">60</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4742412</span> <span class="o">-</span><span class="mf">1.4409789</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4745617</span> <span class="o">-</span><span class="mf">1.4398022</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E610000002000000393586</span><span class="n">EFB33C48C0EB9D1BE43F0EF7BF93B71270BE3C48C074571B086E09F7BF</span>
  <span class="mi">61</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4745617</span> <span class="o">-</span><span class="mf">1.4398022</span><span class="p">,</span><span class="o">-</span><span class="mf">48.47413</span> <span class="o">-</span><span class="mf">1.4396471</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4739923</span> <span class="o">-</span><span class="mf">1.43959</span><span class="p">)</span>                                                                                                                                                                                                                                                                <span class="o">|</span> <span class="mf">0102000020E61000000300000093</span><span class="n">B71270BE3C48C074571B086E09F7BFB806B64AB03C48C0F77FC465CB08F7BF258799C7AB3C48C0D4601A868F08F7BF</span>
  <span class="mi">62</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4739923</span> <span class="o">-</span><span class="mf">1.43959</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4738232</span> <span class="o">-</span><span class="mf">1.4394327</span><span class="p">)</span>                                                                                                                                                                                                                                                                                     <span class="o">|</span> <span class="mf">0102000020E610000002000000258799</span><span class="n">C7AB3C48C0D4601A868F08F7BF040B163DA63C48C00BB03495EA07F7BF</span>
  <span class="mi">63</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4738232</span> <span class="o">-</span><span class="mf">1.4394327</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4734106</span> <span class="o">-</span><span class="mf">1.4395805</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4729262</span> <span class="o">-</span><span class="mf">1.439693</span><span class="p">)</span>                                                                                                                                                                                                                                                             <span class="o">|</span> <span class="mf">0102000020E610000003000000040</span><span class="n">B163DA63C48C00BB03495EA07F7BF354AF2B7983C48C06859F78F8508F7BFF63581D8883C48C0677BF486FB08F7BF</span>
  <span class="mi">64</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4729262</span> <span class="o">-</span><span class="mf">1.439693</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4729169</span> <span class="o">-</span><span class="mf">1.4396395</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4729068</span> <span class="o">-</span><span class="mf">1.4395979</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4728891</span> <span class="o">-</span><span class="mf">1.4395373</span><span class="p">)</span>                                                                                                                                                                                                                                      <span class="o">|</span> <span class="mf">0102000020E610000004000000</span><span class="n">F63581D8883C48C0677BF486FB08F7BFE49C7D8A883C48C0077AA86DC308F7BF2B07C435883C48C0953EBECE9708F7BF449149A1873C48C04AF48D435808F7BF</span>
  <span class="mi">65</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4728891</span> <span class="o">-</span><span class="mf">1.4395373</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4721387</span> <span class="o">-</span><span class="mf">1.4387004</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E610000002000000449149</span><span class="n">A1873C48C04AF48D435808F7BF86D6790A6F3C48C0B8DFEBB5EA04F7BF</span>
  <span class="mi">66</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4721387</span> <span class="o">-</span><span class="mf">1.4387004</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4712263</span> <span class="o">-</span><span class="mf">1.4375973</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E61000000200000086</span><span class="n">D6790A6F3C48C0B8DFEBB5EA04F7BFEEC1B524513C48C01F16C5066600F7BF</span>
  <span class="mi">67</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4712263</span> <span class="o">-</span><span class="mf">1.4375973</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4706778</span> <span class="o">-</span><span class="mf">1.4369384</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">EEC1B524513C48C01F16C5066600F7BF03FA8E2B3F3C48C075DDA51EB3FDF6BF</span>
  <span class="mi">68</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4706778</span> <span class="o">-</span><span class="mf">1.4369384</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4702411</span> <span class="o">-</span><span class="mf">1.4364265</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E61000000200000003</span><span class="n">FA8E2B3F3C48C075DDA51EB3FDF6BF17DE40DC303C48C052B9895A9AFBF6BF</span>
  <span class="mi">69</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4702411</span> <span class="o">-</span><span class="mf">1.4364265</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4702312</span> <span class="o">-</span><span class="mf">1.4364149</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4697076</span> <span class="o">-</span><span class="mf">1.4357476</span><span class="p">)</span>                                                                                                                                                                                                                                                            <span class="o">|</span> <span class="mf">0102000020E61000000300000017</span><span class="n">DE40DC303C48C052B9895A9AFBF6BF88C73489303C48C034CBAF308EFBF6BF6157EE601F3C48C0C4F7B479D2F8F6BF</span>
  <span class="mi">70</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4697076</span> <span class="o">-</span><span class="mf">1.4357476</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4692971</span> <span class="o">-</span><span class="mf">1.4352697</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E6100000020000006157</span><span class="n">EE601F3C48C0C4F7B479D2F8F6BFC74D68ED113C48C02409675CDDF6F6BF</span>
  <span class="mi">71</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4692971</span> <span class="o">-</span><span class="mf">1.4352697</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4681118</span> <span class="o">-</span><span class="mf">1.4360672</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">C74D68ED113C48C02409675CDDF6F6BF94EF6316EB3B48C090BBAD9921FAF6BF</span>
  <span class="mi">72</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4681118</span> <span class="o">-</span><span class="mf">1.4360672</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4671349</span> <span class="o">-</span><span class="mf">1.4367245</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E61000000200000094</span><span class="n">EF6316EB3B48C090BBAD9921FAF6BFFD288F13CB3B48C08ECA4DD4D2FCF6BF</span>
  <span class="mi">73</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4671349</span> <span class="o">-</span><span class="mf">1.4367245</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4668045</span> <span class="o">-</span><span class="mf">1.4369468</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">FD288F13CB3B48C08ECA4DD4D2FCF6BF1590F63FC03B48C03B7881EDBBFDF6BF</span>
  <span class="mi">74</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4668045</span> <span class="o">-</span><span class="mf">1.4369468</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4667203</span> <span class="o">-</span><span class="mf">1.4370034</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E6100000020000001590</span><span class="n">F63FC03B48C03B7881EDBBFDF6BF8D70A47DBD3B48C058DAF346F7FDF6BF</span>
  <span class="mi">75</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4667203</span> <span class="o">-</span><span class="mf">1.4370034</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4666385</span> <span class="o">-</span><span class="mf">1.4370593</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E6100000020000008</span><span class="n">D70A47DBD3B48C058DAF346F7FDF6BFFA4674CFBA3B48C03A9A7EE431FEF6BF</span>
  <span class="mi">76</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4666385</span> <span class="o">-</span><span class="mf">1.4370593</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4665354</span> <span class="o">-</span><span class="mf">1.4371285</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">FA4674CFBA3B48C03A9A7EE431FEF6BF90B6966EB73B48C080643A747AFEF6BF</span>
  <span class="mi">77</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4665354</span> <span class="o">-</span><span class="mf">1.4371285</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4664868</span> <span class="o">-</span><span class="mf">1.4370544</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E61000000200000090</span><span class="n">B6966EB73B48C080643A747AFEF6BF0202E7D6B53B48C09C2A29C12CFEF6BF</span>
  <span class="mi">78</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4664868</span> <span class="o">-</span><span class="mf">1.4370544</span><span class="p">,</span><span class="o">-</span><span class="mf">48.465844</span> <span class="o">-</span><span class="mf">1.4360723</span><span class="p">)</span>                                                                                                                                                                                                                                                                                    <span class="o">|</span> <span class="mf">0102000020E6100000020000000202</span><span class="n">E7D6B53B48C09C2A29C12CFEF6BFD784B4C6A03B48C06310B3F226FAF6BF</span>
  <span class="mi">79</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.465844</span> <span class="o">-</span><span class="mf">1.4360723</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4657246</span> <span class="o">-</span><span class="mf">1.4358894</span><span class="p">)</span>                                                                                                                                                                                                                                                                                    <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">D784B4C6A03B48C06310B3F226FAF6BFAAF81ADD9C3B48C0DDC4DA2967F9F6BF</span>
  <span class="mi">80</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4657246</span> <span class="o">-</span><span class="mf">1.4358894</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4653756</span> <span class="o">-</span><span class="mf">1.4353756</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">AAF81ADD9C3B48C0DDC4DA2967F9F6BF9E2D7B6D913B48C03E9FB7674CF7F6BF</span>
  <span class="mi">81</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4653756</span> <span class="o">-</span><span class="mf">1.4353756</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4649634</span> <span class="o">-</span><span class="mf">1.4347336</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E6100000020000009</span><span class="n">E2D7B6D913B48C03E9FB7674CF7F6BF226BB2EB833B48C0BA8E2738ABF4F6BF</span>
  <span class="mi">82</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4649634</span> <span class="o">-</span><span class="mf">1.4347336</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4649079</span> <span class="o">-</span><span class="mf">1.4346515</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E610000002000000226</span><span class="n">BB2EB833B48C0BA8E2738ABF4F6BF7613211A823B48C07B849A2155F4F6BF</span>
  <span class="mi">83</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4649079</span> <span class="o">-</span><span class="mf">1.4346515</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4648532</span> <span class="o">-</span><span class="mf">1.4345682</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E6100000020000007613211</span><span class="n">A823B48C07B849A2155F4F6BF71B8454F803B48C0FB1AEEC8FDF3F6BF</span>
  <span class="mi">84</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4648532</span> <span class="o">-</span><span class="mf">1.4345682</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4642006</span> <span class="o">-</span><span class="mf">1.4336217</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E61000000200000071</span><span class="n">B8454F803B48C0FB1AEEC8FDF3F6BF4CE4DDEC6A3B48C0F15FC54E1DF0F6BF</span>
  <span class="mi">85</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4642006</span> <span class="o">-</span><span class="mf">1.4336217</span><span class="p">,</span><span class="o">-</span><span class="mf">48.464072</span> <span class="o">-</span><span class="mf">1.4334149</span><span class="p">)</span>                                                                                                                                                                                                                                                                                    <span class="o">|</span> <span class="mf">0102000020E6100000020000004</span><span class="n">CE4DDEC6A3B48C0F15FC54E1DF0F6BFA27E17B6663B48C0F595517644EFF6BF</span>
  <span class="mi">86</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.464072</span> <span class="o">-</span><span class="mf">1.4334149</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4639398</span> <span class="o">-</span><span class="mf">1.4332242</span><span class="p">)</span>                                                                                                                                                                                                                                                                                    <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">A27E17B6663B48C0F595517644EFF6BF09281E61623B48C0495FAD7F7CEEF6BF</span>
  <span class="mi">87</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4639398</span> <span class="o">-</span><span class="mf">1.4332242</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4632933</span> <span class="o">-</span><span class="mf">1.4321911</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E61000000200000009281</span><span class="n">E61623B48C0495FAD7F7CEEF6BF5BFAE1314D3B48C0CDF4013741EAF6BF</span>
  <span class="mi">88</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4632933</span> <span class="o">-</span><span class="mf">1.4321911</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4632299</span> <span class="o">-</span><span class="mf">1.4320886</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E6100000020000005</span><span class="n">BFAE1314D3B48C0CDF4013741EAF6BFC2830B1E4B3B48C03F975FBCD5E9F6BF</span>
  <span class="mi">89</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4632299</span> <span class="o">-</span><span class="mf">1.4320886</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4632037</span> <span class="o">-</span><span class="mf">1.4320479</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">C2830B1E4B3B48C03F975FBCD5E9F6BF6F7143424A3B48C03DE30C0FABE9F6BF</span>
  <span class="mi">90</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4632037</span> <span class="o">-</span><span class="mf">1.4320479</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4628241</span> <span class="o">-</span><span class="mf">1.4315024</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4627215</span> <span class="o">-</span><span class="mf">1.4313567</span><span class="p">)</span>                                                                                                                                                                                                                                                            <span class="o">|</span> <span class="mf">0102000020E6100000030000006</span><span class="n">F7143424A3B48C03DE30C0FABE9F6BF7BA6F2D13D3B48C00354820F6FE7F6BFFAD346753A3B48C057917648D6E6F6BF</span>
  <span class="mi">91</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4627215</span> <span class="o">-</span><span class="mf">1.4313567</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4624439</span> <span class="o">-</span><span class="mf">1.4309243</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">FAD346753A3B48C057917648D6E6F6BF0A5E995C313B48C0BCD3F8E010E5F6BF</span>
  <span class="mi">92</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4624439</span> <span class="o">-</span><span class="mf">1.4309243</span><span class="p">,</span><span class="o">-</span><span class="mf">48.462054</span> <span class="o">-</span><span class="mf">1.430331</span><span class="p">)</span>                                                                                                                                                                                                                                                                                     <span class="o">|</span> <span class="mf">0102000020E6100000020000000</span><span class="n">A5E995C313B48C0BCD3F8E010E5F6BF357EE195243B48C0954737C2A2E2F6BF</span>
  <span class="mi">93</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.462054</span> <span class="o">-</span><span class="mf">1.430331</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4618505</span> <span class="o">-</span><span class="mf">1.4300156</span><span class="p">)</span>                                                                                                                                                                                                                                                                                     <span class="o">|</span> <span class="mf">0102000020E610000002000000357</span><span class="n">EE195243B48C0954737C2A2E2F6BF1492CCEA1D3B48C02C51AC0958E1F6BF</span>
  <span class="mi">94</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4618505</span> <span class="o">-</span><span class="mf">1.4300156</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4617568</span> <span class="o">-</span><span class="mf">1.4298731</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E6100000020000001492</span><span class="n">CCEA1D3B48C02C51AC0958E1F6BF525AC9D81A3B48C0D8E19E9DC2E0F6BF</span>
  <span class="mi">95</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4617568</span> <span class="o">-</span><span class="mf">1.4298731</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4616814</span> <span class="o">-</span><span class="mf">1.4297624</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E610000002000000525</span><span class="n">AC9D81A3B48C0D8E19E9DC2E0F6BFF4154960183B48C0BACED0894EE0F6BF</span>
  <span class="mi">96</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4616814</span> <span class="o">-</span><span class="mf">1.4297624</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4616238</span> <span class="o">-</span><span class="mf">1.4296746</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">F4154960183B48C0BACED0894EE0F6BF12071A7D163B48C007C02E79F2DFF6BF</span>
  <span class="mi">97</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4616238</span> <span class="o">-</span><span class="mf">1.4296746</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4615685</span> <span class="o">-</span><span class="mf">1.4295928</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E61000000200000012071</span><span class="n">A7D163B48C007C02E79F2DFF6BF902E36AD143B48C0988D29B39CDFF6BF</span>
  <span class="mi">98</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4615685</span> <span class="o">-</span><span class="mf">1.4295928</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4614857</span> <span class="o">-</span><span class="mf">1.4294702</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E610000002000000902</span><span class="n">E36AD143B48C0988D29B39CDFF6BF2C89A2F6113B48C08CB4F9241CDFF6BF</span>
  <span class="mi">99</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4614857</span> <span class="o">-</span><span class="mf">1.4294702</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4612304</span> <span class="o">-</span><span class="mf">1.4291091</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E6100000020000002</span><span class="n">C89A2F6113B48C08CB4F9241CDFF6BFE3F50599093B48C0E9A7EE80A1DDF6BF</span>
 <span class="mi">100</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4612304</span> <span class="o">-</span><span class="mf">1.4291091</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4607873</span> <span class="o">-</span><span class="mf">1.4284363</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">E3F50599093B48C0E9A7EE80A1DDF6BFC1F40714FB3A48C03AB58E05E0DAF6BF</span>
 <span class="mi">101</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4607873</span> <span class="o">-</span><span class="mf">1.4284363</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4604752</span> <span class="o">-</span><span class="mf">1.4279524</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">C1F40714FB3A48C03AB58E05E0DAF6BF3D4FF2D9F03A48C055EAA39DE4D8F6BF</span>
 <span class="mi">102</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4604752</span> <span class="o">-</span><span class="mf">1.4279524</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4603566</span> <span class="o">-</span><span class="mf">1.4277745</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E6100000020000003</span><span class="n">D4FF2D9F03A48C055EAA39DE4D8F6BFB6BF0EF7EC3A48C00801F9122AD8F6BF</span>
 <span class="mi">103</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4603566</span> <span class="o">-</span><span class="mf">1.4277745</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4599639</span> <span class="o">-</span><span class="mf">1.427199</span><span class="p">)</span>                                                                                                                                                                                                                                                                                    <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">B6BF0EF7EC3A48C00801F9122AD8F6BF99EBD918E03A48C079245E9ECED5F6BF</span>
 <span class="mi">104</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4599639</span> <span class="o">-</span><span class="mf">1.427199</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4598934</span> <span class="o">-</span><span class="mf">1.4270889</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4596442</span> <span class="o">-</span><span class="mf">1.4266998</span><span class="p">)</span>                                                                                                                                                                                                                                                             <span class="o">|</span> <span class="mf">0102000020E61000000300000099</span><span class="n">EBD918E03A48C079245E9ECED5F6BFB85274C9DD3A48C0FBC09F2B5BD5F6BFE665039FD53A48C0195B632BC3D3F6BF</span>
 <span class="mi">105</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4596442</span> <span class="o">-</span><span class="mf">1.4266998</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4595784</span> <span class="o">-</span><span class="mf">1.4265913</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">E665039FD53A48C0195B632BC3D3F6BF58F90A77D33A48C04721246651D3F6BF</span>
 <span class="mi">106</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4595784</span> <span class="o">-</span><span class="mf">1.4265913</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4591475</span> <span class="o">-</span><span class="mf">1.4259608</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E61000000200000058</span><span class="n">F90A77D33A48C04721246651D3F6BF24456458C53A48C0460C9645BCD0F6BF</span>
 <span class="mi">107</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4591475</span> <span class="o">-</span><span class="mf">1.4259608</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4588567</span> <span class="o">-</span><span class="mf">1.4255144</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E61000000200000024456458</span><span class="n">C53A48C0460C9645BCD0F6BF7606FCD0BB3A48C00CA2FF2FE8CEF6BF</span>
 <span class="mi">108</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4588567</span> <span class="o">-</span><span class="mf">1.4255144</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4587574</span> <span class="o">-</span><span class="mf">1.4253702</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E6100000020000007606</span><span class="n">FCD0BB3A48C00CA2FF2FE8CEF6BF25E6FE8FB83A48C071169BFB50CEF6BF</span>
 <span class="mi">109</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4587574</span> <span class="o">-</span><span class="mf">1.4253702</span><span class="p">,</span><span class="o">-</span><span class="mf">48.458296</span> <span class="o">-</span><span class="mf">1.4247004</span><span class="p">)</span>                                                                                                                                                                                                                                                                                    <span class="o">|</span> <span class="mf">0102000020E61000000200000025</span><span class="n">E6FE8FB83A48C071169BFB50CEF6BF9DF17D71A93A48C0E59189A592CBF6BF</span>
 <span class="mi">110</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.458296</span> <span class="o">-</span><span class="mf">1.4247004</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4578312</span> <span class="o">-</span><span class="mf">1.4239864</span><span class="p">)</span>                                                                                                                                                                                                                                                                                    <span class="o">|</span> <span class="mf">0102000020E6100000020000009</span><span class="n">DF17D71A93A48C0E59189A592CBF6BF528B77369A3A48C02E2E9FF6A5C8F6BF</span>
 <span class="mi">111</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4578312</span> <span class="o">-</span><span class="mf">1.4239864</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4576142</span> <span class="o">-</span><span class="mf">1.4236202</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E610000002000000528</span><span class="n">B77369A3A48C02E2E9FF6A5C8F6BFB597231A933A48C0B7CC8EF925C7F6BF</span>
 <span class="mi">112</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4576142</span> <span class="o">-</span><span class="mf">1.4236202</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4574931</span> <span class="o">-</span><span class="mf">1.4234158</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">B597231A933A48C0B7CC8EF925C7F6BFA55247228F3A48C03CC159A54FC6F6BF</span>
 <span class="mi">113</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4574931</span> <span class="o">-</span><span class="mf">1.4234158</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4574417</span> <span class="o">-</span><span class="mf">1.4233478</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4573359</span> <span class="o">-</span><span class="mf">1.4232316</span><span class="p">)</span>                                                                                                                                                                                                                                                            <span class="o">|</span> <span class="mf">0102000020E610000003000000</span><span class="n">A55247228F3A48C03CC159A54FC6F6BFCFA91A738D3A48C03756BD5708C6F6BFB3E496FB893A48C0DB238A7F8EC5F6BF</span>
 <span class="mi">114</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4573359</span> <span class="o">-</span><span class="mf">1.4232316</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4572025</span> <span class="o">-</span><span class="mf">1.4231075</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">B3E496FB893A48C0DB238A7F8EC5F6BF21938C9C853A48C0BE13B35E0CC5F6BF</span>
 <span class="mi">115</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4572025</span> <span class="o">-</span><span class="mf">1.4231075</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4572595</span> <span class="o">-</span><span class="mf">1.4230347</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E61000000200000021938</span><span class="n">C9C853A48C0BE13B35E0CC5F6BF8524B37A873A48C0B62B9908C0C4F6BF</span>
 <span class="mi">116</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4572595</span> <span class="o">-</span><span class="mf">1.4230347</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4573478</span> <span class="o">-</span><span class="mf">1.4229343</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E6100000020000008524</span><span class="n">B37A873A48C0B62B9908C0C4F6BFE3F2695F8A3A48C0DAB4ADC156C4F6BF</span>
 <span class="mi">117</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="o">-</span><span class="mf">48.4573478</span> <span class="o">-</span><span class="mf">1.4229343</span><span class="p">,</span><span class="o">-</span><span class="mf">48.4574274</span> <span class="o">-</span><span class="mf">1.4228483</span><span class="p">)</span>                                                                                                                                                                                                                                                                                   <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">E3F2695F8A3A48C0DAB4ADC156C4F6BFACA525FB8C3A48C008B53A94FCC3F6BF</span>
 <span class="mi">118</span> <span class="o">|</span>                                                                                                                                                                                                                                                                                                                                             <span class="o">|</span> 
<span class="p">(</span><span class="mi">118</span> <span class="n">rows</span><span class="p">)</span>

</pre></div>
</div>
</div>
</div>
<p>Inspecting some the problematic rows, the directionality has been fixed.</p>
<div class="sphinx_collapse docutils container">
<input class="sphinx_collapse__input" id="8e565361-61fb-4e3e-a624-d1868feeb4ae" name="8e565361-61fb-4e3e-a624-d1868feeb4ae" type="checkbox"><label class="sphinx_collapse__label" for="8e565361-61fb-4e3e-a624-d1868feeb4ae"><i class="sphinx_collapse__icon"></i>Query: Rows where criteria is not met</label><div class="sphinx_collapse__content docutils container">
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">WITH</span>
<span class="n">results</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="k">SELECT</span><span class="w"> </span><span class="n">seq</span><span class="p">,</span><span class="w"> </span><span class="n">edge</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">node</span><span class="p">,</span><span class="w"> </span><span class="n">cost</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">seconds</span>
<span class="w">  </span><span class="k">FROM</span><span class="w"> </span><span class="n">pgr_dijkstra</span><span class="p">(</span><span class="s1">&#39;SELECT * FROM vehicle_net&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">5661895682</span><span class="p">,</span><span class="w"> </span><span class="mi">10982869752</span><span class="p">)</span>
<span class="p">),</span>
<span class="n">fix</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="k">SELECT</span><span class="w"> </span><span class="n">seq</span><span class="p">,</span><span class="w"> </span><span class="n">id</span><span class="p">,</span>
<span class="w">  </span><span class="k">CASE</span>
<span class="w">      </span><span class="k">WHEN</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">source</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="n">geom</span>
<span class="w">      </span><span class="k">ELSE</span><span class="w"> </span><span class="n">ST_Reverse</span><span class="p">(</span><span class="n">geom</span><span class="p">)</span>
<span class="w">  </span><span class="k">END</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">geom</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">results</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">vehicle_net</span><span class="w"> </span><span class="k">USING</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">)</span>
<span class="p">),</span>
<span class="n">compare</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="k">SELECT</span><span class="w"> </span><span class="n">seq</span><span class="p">,</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">lead</span><span class="p">(</span><span class="n">geom</span><span class="p">)</span><span class="w"> </span><span class="n">over</span><span class="p">(</span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">seq</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">next_id</span><span class="p">,</span>
<span class="w">  </span><span class="n">ST_AsText</span><span class="p">(</span><span class="n">ST_endPoint</span><span class="p">(</span><span class="n">geom</span><span class="p">))</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">id_end</span><span class="p">,</span><span class="w"> </span><span class="n">ST_AsText</span><span class="p">(</span><span class="n">ST_startPoint</span><span class="p">(</span><span class="n">lead</span><span class="p">(</span><span class="n">geom</span><span class="p">)</span><span class="w"> </span><span class="n">over</span><span class="p">(</span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">seq</span><span class="p">)))</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">next_id_start</span>

<span class="k">FROM</span><span class="w"> </span><span class="n">fix</span>
<span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">seq</span><span class="p">)</span>
<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">compare</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">id_end</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">next_id_start</span><span class="p">;</span>
</pre></div>
</div>
</div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">seq</span> <span class="o">|</span> <span class="nb">id</span> <span class="o">|</span> <span class="n">next_id</span> <span class="o">|</span> <span class="n">id_end</span> <span class="o">|</span> <span class="n">next_id_start</span> 
<span class="o">-----+----+---------+--------+---------------</span>
<span class="p">(</span><span class="mi">0</span> <span class="n">rows</span><span class="p">)</span>

</pre></div>
</div>
</section>
<section id="exercise-5-using-the-geometry">
<h3><a class="toc-backref" href="#id9" role="doc-backlink"><span class="section-number">5.3.4. </span>Exercise 5: Using the geometry</a><a class="headerlink" href="#exercise-5-using-the-geometry" title="Link to this heading">¶</a></h3>
<a class="reference internal image-reference" href="../_images/ch7-e7.png"><img alt="From |ch7_place_1| to the |ch7_place_2| show azimuth" src="../_images/ch7-e7.png" style="width: 300pt;" />
</a>
<p>There are many geometry functions in PostGIS, the workshop already covered some of them like
<code class="docutils literal notranslate"><span class="pre">ST_AsText</span></code>, <code class="docutils literal notranslate"><span class="pre">ST_Reverse</span></code>, <code class="docutils literal notranslate"><span class="pre">ST_EndPoint</span></code>, etc.
This exercise will make use an additional function <code class="docutils literal notranslate"><span class="pre">ST_Azimuth</span></code>.</p>
<p class="rubric">Problem</p>
<p>Modify the query from the previous exercise</p>
<ul class="simple">
<li><p>Additionally obtain the azimuth of the correct geometry.</p></li>
<li><p>Because <code class="docutils literal notranslate"><span class="pre">vehicle_net</span></code> and the other 2 views are sub graphs of <code class="docutils literal notranslate"><span class="pre">ways</span></code>, do
the <code class="docutils literal notranslate"><span class="pre">JOIN</span></code> with <code class="docutils literal notranslate"><span class="pre">ways</span></code>.</p></li>
</ul>
<p class="rubric">Solution</p>
<ul class="simple">
<li><p>Move the query that gets the additional information into the <code class="docutils literal notranslate"><span class="pre">WITH</span></code> statement.</p>
<ul>
<li><p>Name it <code class="docutils literal notranslate"><span class="pre">additional</span></code>. (line <strong>6</strong>)</p></li>
</ul>
</li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">ways</span></code> table geometry name is <code class="docutils literal notranslate"><span class="pre">the_geom</span></code>.</p></li>
<li><p>Final <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> statements gets:</p>
<ul>
<li><p>Calculates the azimuth of <code class="docutils literal notranslate"><span class="pre">route_geom</span></code>. (line <strong>27</strong>)</p></li>
</ul>
</li>
</ul>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">WITH</span>
<span class="n">results</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="k">SELECT</span><span class="w"> </span><span class="n">seq</span><span class="p">,</span><span class="w"> </span><span class="n">edge</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">node</span><span class="p">,</span><span class="w"> </span><span class="n">cost</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">seconds</span>
<span class="w">  </span><span class="k">FROM</span><span class="w"> </span><span class="n">pgr_dijkstra</span><span class="p">(</span><span class="s1">&#39;SELECT * FROM vehicle_net&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">5661895682</span><span class="p">,</span><span class="w"> </span><span class="mi">10982869752</span><span class="p">)</span>
<span class="w">  </span><span class="p">),</span>
<span class="hll"><span class="n">additional</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span>
</span><span class="w">  </span><span class="k">SELECT</span>
<span class="w">    </span><span class="n">seq</span><span class="p">,</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">seconds</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="k">length</span><span class="p">,</span>
<span class="w">    </span><span class="k">CASE</span>
<span class="w">        </span><span class="k">WHEN</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">source</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="n">ST_AsText</span><span class="p">(</span><span class="n">the_geom</span><span class="p">)</span>
<span class="w">        </span><span class="k">ELSE</span><span class="w"> </span><span class="n">ST_AsText</span><span class="p">(</span><span class="n">ST_Reverse</span><span class="p">(</span><span class="n">the_geom</span><span class="p">))</span>
<span class="w">    </span><span class="k">END</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">route_readable</span><span class="p">,</span>

<span class="w">    </span><span class="k">CASE</span>
<span class="w">        </span><span class="k">WHEN</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">source</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="n">the_geom</span>
<span class="w">        </span><span class="k">ELSE</span><span class="w"> </span><span class="n">ST_Reverse</span><span class="p">(</span><span class="n">the_geom</span><span class="p">)</span>
<span class="w">    </span><span class="k">END</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">route_geom</span>

<span class="w">  </span><span class="k">FROM</span><span class="w"> </span><span class="n">results</span>
<span class="w">  </span><span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">ways</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="p">(</span><span class="n">gid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">id</span><span class="p">)</span>
<span class="p">)</span>
<span class="k">SELECT</span>
<span class="w">  </span><span class="n">seq</span><span class="p">,</span>
<span class="w">  </span><span class="c1">-- from previous excercise</span>
<span class="w">  </span><span class="c1">-- id, seconds, name, length, route_readable, route_geom</span>

<span class="hll"><span class="w">  </span><span class="n">degrees</span><span class="p">(</span><span class="n">ST_azimuth</span><span class="p">(</span><span class="n">ST_StartPoint</span><span class="p">(</span><span class="n">route_geom</span><span class="p">),</span><span class="w"> </span><span class="n">ST_EndPoint</span><span class="p">(</span><span class="n">route_geom</span><span class="p">)))</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">azimuth</span>
</span><span class="k">FROM</span><span class="w"> </span><span class="n">additional</span>
<span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">seq</span><span class="p">;</span>
</pre></div>
</div>
<div class="sphinx_collapse docutils container">
<input class="sphinx_collapse__input" id="b12295b2-f6ff-4d42-96ae-99df3bcfc1a6" name="b12295b2-f6ff-4d42-96ae-99df3bcfc1a6" type="checkbox"><label class="sphinx_collapse__label" for="b12295b2-f6ff-4d42-96ae-99df3bcfc1a6"><i class="sphinx_collapse__icon"></i>results</label><div class="sphinx_collapse__content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">seq</span> <span class="o">|</span>      <span class="n">azimuth</span>       
<span class="o">-----+--------------------</span>
   <span class="mi">1</span> <span class="o">|</span> <span class="mf">219.45392598775587</span>
   <span class="mi">2</span> <span class="o">|</span>  <span class="mf">269.3017110872027</span>
   <span class="mi">3</span> <span class="o">|</span>  <span class="mf">351.0690562994052</span>
   <span class="mi">4</span> <span class="o">|</span>  <span class="mf">260.5137946009003</span>
   <span class="mi">5</span> <span class="o">|</span>  <span class="mf">325.8407955313577</span>
   <span class="mi">6</span> <span class="o">|</span> <span class="mf">323.46465121180717</span>
   <span class="mi">7</span> <span class="o">|</span> <span class="mf">325.94167329419747</span>
   <span class="mi">8</span> <span class="o">|</span>  <span class="mf">327.9659392709573</span>
   <span class="mi">9</span> <span class="o">|</span> <span class="mf">234.49162950885935</span>
  <span class="mi">10</span> <span class="o">|</span> <span class="mf">236.27127260223202</span>
  <span class="mi">11</span> <span class="o">|</span> <span class="mf">237.21348134952265</span>
  <span class="mi">12</span> <span class="o">|</span> <span class="mf">238.29080140921084</span>
  <span class="mi">13</span> <span class="o">|</span> <span class="mf">236.72942283176377</span>
  <span class="mi">14</span> <span class="o">|</span> <span class="mf">327.47315373986453</span>
  <span class="mi">15</span> <span class="o">|</span> <span class="mf">328.21639983644445</span>
  <span class="mi">16</span> <span class="o">|</span> <span class="mf">324.51951447777776</span>
  <span class="mi">17</span> <span class="o">|</span>  <span class="mf">324.0859941560983</span>
  <span class="mi">18</span> <span class="o">|</span> <span class="mf">326.14189081689125</span>
  <span class="mi">19</span> <span class="o">|</span> <span class="mf">327.10995187319173</span>
  <span class="mi">20</span> <span class="o">|</span>   <span class="mf">330.740664532212</span>
  <span class="mi">21</span> <span class="o">|</span>  <span class="mf">233.4475272478899</span>
  <span class="mi">22</span> <span class="o">|</span>   <span class="mf">233.455592153592</span>
  <span class="mi">23</span> <span class="o">|</span>  <span class="mf">234.0015375921268</span>
  <span class="mi">24</span> <span class="o">|</span> <span class="mf">233.26592360493802</span>
  <span class="mi">25</span> <span class="o">|</span>  <span class="mf">233.8242453618781</span>
  <span class="mi">26</span> <span class="o">|</span>  <span class="mf">234.2004004706289</span>
  <span class="mi">27</span> <span class="o">|</span> <span class="mf">233.26855342364627</span>
  <span class="mi">28</span> <span class="o">|</span> <span class="mf">231.65442504665162</span>
  <span class="mi">29</span> <span class="o">|</span> <span class="mf">230.97670238499185</span>
  <span class="mi">30</span> <span class="o">|</span> <span class="mf">232.59723699371077</span>
  <span class="mi">31</span> <span class="o">|</span>   <span class="mf">237.957580091685</span>
  <span class="mi">32</span> <span class="o">|</span>  <span class="mf">232.2200341386748</span>
  <span class="mi">33</span> <span class="o">|</span> <span class="mf">236.30993247347044</span>
  <span class="mi">34</span> <span class="o">|</span>  <span class="mf">233.4668494905193</span>
  <span class="mi">35</span> <span class="o">|</span>   <span class="mf">233.436227152522</span>
  <span class="mi">36</span> <span class="o">|</span> <span class="mf">232.67459214750514</span>
  <span class="mi">37</span> <span class="o">|</span> <span class="mf">234.43877782175528</span>
  <span class="mi">38</span> <span class="o">|</span> <span class="mf">241.39768367103756</span>
  <span class="mi">39</span> <span class="o">|</span> <span class="mf">244.85675985462152</span>
  <span class="mi">40</span> <span class="o">|</span> <span class="mf">245.66837400921696</span>
  <span class="mi">41</span> <span class="o">|</span> <span class="mf">246.40534534002722</span>
  <span class="mi">42</span> <span class="o">|</span>  <span class="mf">249.7455937774301</span>
  <span class="mi">43</span> <span class="o">|</span> <span class="mf">250.33912848979384</span>
  <span class="mi">44</span> <span class="o">|</span>  <span class="mf">249.6108352198055</span>
  <span class="mi">45</span> <span class="o">|</span> <span class="mf">251.08996134666592</span>
  <span class="mi">46</span> <span class="o">|</span>  <span class="mf">251.1622144385592</span>
  <span class="mi">47</span> <span class="o">|</span> <span class="mf">253.02403139830176</span>
  <span class="mi">48</span> <span class="o">|</span> <span class="mf">252.71272241137245</span>
  <span class="mi">49</span> <span class="o">|</span>  <span class="mf">251.4187469227288</span>
  <span class="mi">50</span> <span class="o">|</span> <span class="mf">263.85159456504294</span>
  <span class="mi">51</span> <span class="o">|</span>  <span class="mf">262.9506590629574</span>
  <span class="mi">52</span> <span class="o">|</span>  <span class="mf">262.9706504674567</span>
  <span class="mi">53</span> <span class="o">|</span> <span class="mf">265.74029298048976</span>
  <span class="mi">54</span> <span class="o">|</span> <span class="mf">263.11086111578715</span>
  <span class="mi">55</span> <span class="o">|</span>  <span class="mf">257.9470239903407</span>
  <span class="mi">56</span> <span class="o">|</span> <span class="mf">259.39174071309924</span>
  <span class="mi">57</span> <span class="o">|</span>  <span class="mf">260.0478590727108</span>
  <span class="mi">58</span> <span class="o">|</span> <span class="mf">258.11384314041345</span>
  <span class="mi">59</span> <span class="o">|</span> <span class="mf">258.29807387765754</span>
  <span class="mi">60</span> <span class="o">|</span> <span class="mf">344.76383539869016</span>
  <span class="mi">61</span> <span class="o">|</span> <span class="mf">249.56093432884606</span>
  <span class="mi">62</span> <span class="o">|</span>  <span class="mf">227.0704530856361</span>
  <span class="mi">63</span> <span class="o">|</span>  <span class="mf">286.1821748643207</span>
  <span class="mi">64</span> <span class="o">|</span> <span class="mf">193.40244724077004</span>
  <span class="mi">65</span> <span class="o">|</span> <span class="mf">221.88074868994642</span>
  <span class="mi">66</span> <span class="o">|</span>    <span class="mf">219.59495216935</span>
  <span class="mi">67</span> <span class="o">|</span> <span class="mf">219.77562213697098</span>
  <span class="mi">68</span> <span class="o">|</span> <span class="mf">220.46737229597954</span>
  <span class="mi">69</span> <span class="o">|</span> <span class="mf">218.16132630439412</span>
  <span class="mi">70</span> <span class="o">|</span> <span class="mf">220.66146786728171</span>
  <span class="mi">71</span> <span class="o">|</span>  <span class="mf">303.9336696170884</span>
  <span class="mi">72</span> <span class="o">|</span> <span class="mf">303.93434880760964</span>
  <span class="mi">73</span> <span class="o">|</span>  <span class="mf">303.9334873286965</span>
  <span class="mi">74</span> <span class="o">|</span>  <span class="mf">303.9093504654853</span>
  <span class="mi">75</span> <span class="o">|</span>   <span class="mf">304.347688972676</span>
  <span class="mi">76</span> <span class="o">|</span>   <span class="mf">303.869236231345</span>
  <span class="mi">77</span> <span class="o">|</span> <span class="mf">213.25968478853537</span>
  <span class="mi">78</span> <span class="o">|</span>  <span class="mf">213.2053821652815</span>
  <span class="mi">79</span> <span class="o">|</span> <span class="mf">213.13713494574745</span>
  <span class="mi">80</span> <span class="o">|</span> <span class="mf">214.18641043814034</span>
  <span class="mi">81</span> <span class="o">|</span> <span class="mf">212.70273800101532</span>
  <span class="mi">82</span> <span class="o">|</span> <span class="mf">214.05888497089742</span>
  <span class="mi">83</span> <span class="o">|</span> <span class="mf">213.29141142432124</span>
  <span class="mi">84</span> <span class="o">|</span> <span class="mf">214.58578109918662</span>
  <span class="mi">85</span> <span class="o">|</span> <span class="mf">211.87569854442842</span>
  <span class="mi">86</span> <span class="o">|</span> <span class="mf">214.73107172955443</span>
  <span class="mi">87</span> <span class="o">|</span> <span class="mf">212.03777538086314</span>
  <span class="mi">88</span> <span class="o">|</span>  <span class="mf">211.7383071883484</span>
  <span class="mi">89</span> <span class="o">|</span> <span class="mf">212.77078720382403</span>
  <span class="mi">90</span> <span class="o">|</span> <span class="mf">214.90068030823565</span>
  <span class="mi">91</span> <span class="o">|</span>  <span class="mf">212.7003878701488</span>
  <span class="mi">92</span> <span class="o">|</span>  <span class="mf">213.3117870222489</span>
  <span class="mi">93</span> <span class="o">|</span> <span class="mf">212.83061062010054</span>
  <span class="mi">94</span> <span class="o">|</span> <span class="mf">213.32667421819596</span>
  <span class="mi">95</span> <span class="o">|</span> <span class="mf">214.25956573401206</span>
  <span class="mi">96</span> <span class="o">|</span> <span class="mf">213.26633467624956</span>
  <span class="mi">97</span> <span class="o">|</span> <span class="mf">214.06023173762716</span>
  <span class="mi">98</span> <span class="o">|</span> <span class="mf">214.03379511332366</span>
  <span class="mi">99</span> <span class="o">|</span> <span class="mf">215.26055405442426</span>
 <span class="mi">100</span> <span class="o">|</span>  <span class="mf">213.3685391217868</span>
 <span class="mi">101</span> <span class="o">|</span>     <span class="mf">212.8207199895</span>
 <span class="mi">102</span> <span class="o">|</span>  <span class="mf">213.6900675260788</span>
 <span class="mi">103</span> <span class="o">|</span> <span class="mf">214.30818742969623</span>
 <span class="mi">104</span> <span class="o">|</span>  <span class="mf">212.6365016201201</span>
 <span class="mi">105</span> <span class="o">|</span>  <span class="mf">211.2347846885786</span>
 <span class="mi">106</span> <span class="o">|</span> <span class="mf">214.34971084910975</span>
 <span class="mi">107</span> <span class="o">|</span> <span class="mf">213.08157629426898</span>
 <span class="mi">108</span> <span class="o">|</span> <span class="mf">214.55234384167915</span>
 <span class="mi">109</span> <span class="o">|</span> <span class="mf">214.56149332417715</span>
 <span class="mi">110</span> <span class="o">|</span> <span class="mf">213.06333832606416</span>
 <span class="mi">111</span> <span class="o">|</span> <span class="mf">210.64981019719437</span>
 <span class="mi">112</span> <span class="o">|</span> <span class="mf">210.64528908202325</span>
 <span class="mi">113</span> <span class="o">|</span> <span class="mf">220.47811121925758</span>
 <span class="mi">114</span> <span class="o">|</span> <span class="mf">227.06842425841222</span>
 <span class="mi">115</span> <span class="o">|</span>  <span class="mf">141.9402269597685</span>
 <span class="mi">116</span> <span class="o">|</span> <span class="mf">138.66895109835988</span>
 <span class="mi">117</span> <span class="o">|</span> <span class="mf">137.21322817662033</span>
 <span class="mi">118</span> <span class="o">|</span>                   
<span class="p">(</span><span class="mi">118</span> <span class="n">rows</span><span class="p">)</span>

</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="creating-the-function">
<h2><a class="toc-backref" href="#id10" role="doc-backlink"><span class="section-number">5.4. </span>Creating the Function</a><a class="headerlink" href="#creating-the-function" title="Link to this heading">¶</a></h2>
<p>The following function simplifies (and sets default values) when it calls the
shortest path Dijkstra function.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>pgRouting uses heavely function overloading:</p>
<ul class="simple">
<li><p>Avoid creating functions with a name of a pgRouting routing function</p></li>
<li><p>Avoid the name of a function to start with <cite>pgr_</cite>, <cite>_pgr</cite> or <cite>ST_</cite></p></li>
</ul>
</div>
<section id="exercise-6-function-for-an-application">
<h3><a class="toc-backref" href="#id11" role="doc-backlink"><span class="section-number">5.4.1. </span>Exercise 6: Function for an application</a><a class="headerlink" href="#exercise-6-function-for-an-application" title="Link to this heading">¶</a></h3>
<p class="rubric">Problem</p>
<p>Putting all together in a SQL function</p>
<ul class="simple">
<li><p>function name <code class="docutils literal notranslate"><span class="pre">wrk_dijkstra</span></code></p></li>
<li><p>Should work for any given view.</p>
<ul>
<li><p>Allow a view as a parameter</p></li>
<li><p>A table can be used if the columns have the correct names.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">source</span></code> and <code class="docutils literal notranslate"><span class="pre">target</span></code> are in terms of <code class="docutils literal notranslate"><span class="pre">osm_id</span></code>.</p></li>
<li><p>The result should meet the requirements indicated at the beginning of the chapter</p></li>
</ul>
<p class="rubric">Solution</p>
<ul class="simple">
<li><p>The signature of the function:</p>
<ul>
<li><p>The input parameters are from line <strong>4</strong> to <strong>6</strong>.</p></li>
<li><p>The output columns are from line <strong>7</strong> to <strong>14</strong> (not highlighted).</p></li>
<li><p>The function returns a set. (line <strong>16</strong>)</p></li>
</ul>
</li>
</ul>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="c1">-- DROP FUNCTION wrk_dijkstra(regclass, bigint, bigint);</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">OR</span><span class="w"> </span><span class="k">REPLACE</span><span class="w"> </span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">wrk_dijkstra</span><span class="p">(</span>
<span class="hll"><span class="w">        </span><span class="k">IN</span><span class="w"> </span><span class="n">edges_subset</span><span class="w"> </span><span class="n">REGCLASS</span><span class="p">,</span>
</span><span class="hll"><span class="w">        </span><span class="k">IN</span><span class="w"> </span><span class="k">source</span><span class="w"> </span><span class="nb">BIGINT</span><span class="p">,</span><span class="w">  </span><span class="c1">-- in terms of osm_id</span>
</span><span class="hll"><span class="w">        </span><span class="k">IN</span><span class="w"> </span><span class="n">target</span><span class="w"> </span><span class="nb">BIGINT</span><span class="p">,</span><span class="w">  </span><span class="c1">-- in terms of osm_id</span>
</span><span class="w">        </span><span class="k">OUT</span><span class="w"> </span><span class="n">seq</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span>
<span class="w">        </span><span class="k">OUT</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="nb">BIGINT</span><span class="p">,</span>
<span class="w">        </span><span class="k">OUT</span><span class="w"> </span><span class="n">seconds</span><span class="w"> </span><span class="nb">FLOAT</span><span class="p">,</span>
<span class="w">        </span><span class="k">OUT</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="nb">TEXT</span><span class="p">,</span>
<span class="w">        </span><span class="k">OUT</span><span class="w"> </span><span class="n">length_m</span><span class="w"> </span><span class="nb">FLOAT</span><span class="p">,</span>
<span class="w">        </span><span class="k">OUT</span><span class="w"> </span><span class="n">route_readable</span><span class="w"> </span><span class="nb">TEXT</span><span class="p">,</span>
<span class="w">        </span><span class="k">OUT</span><span class="w"> </span><span class="n">route_geom</span><span class="w"> </span><span class="n">geometry</span><span class="p">,</span>
<span class="w">        </span><span class="k">OUT</span><span class="w"> </span><span class="n">azimuth</span><span class="w"> </span><span class="nb">FLOAT</span>
<span class="w">    </span><span class="p">)</span>
<span class="hll"><span class="w">    </span><span class="k">RETURNS</span><span class="w"> </span><span class="k">SETOF</span><span class="w"> </span><span class="n">record</span><span class="w"> </span><span class="k">AS</span>
</span></pre></div>
</div>
<ul class="simple">
<li><p>The body of the function:</p>
<ul>
<li><p>Appending the view name on line <strong>7</strong> in the <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> query to <code class="docutils literal notranslate"><span class="pre">pgr_dijkstra</span></code>.</p></li>
<li><p>Using the data to get the route from <code class="docutils literal notranslate"><span class="pre">source</span></code> to <code class="docutils literal notranslate"><span class="pre">target</span></code>. (line <strong>8</strong>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">JOIN</span></code> with <code class="docutils literal notranslate"><span class="pre">ways</span></code> is necessary, as the views are subset of <code class="docutils literal notranslate"><span class="pre">ways</span></code> (line <strong>25</strong>)</p></li>
</ul>
</li>
</ul>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="err">$</span><span class="n">BODY$</span>
<span class="w">  </span><span class="k">WITH</span>
<span class="w">  </span><span class="n">results</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">SELECT</span><span class="w"> </span><span class="n">seq</span><span class="p">,</span><span class="w"> </span><span class="n">edge</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">cost</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">seconds</span><span class="p">,</span>
<span class="w">      </span><span class="n">node</span>
<span class="w">    </span><span class="k">FROM</span><span class="w"> </span><span class="n">pgr_dijkstra</span><span class="p">(</span>
<span class="hll"><span class="w">        </span><span class="s1">&#39;SELECT * FROM &#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">edges_subset</span><span class="p">,</span>
</span><span class="hll"><span class="w">        </span><span class="k">source</span><span class="p">,</span><span class="w"> </span><span class="n">target</span><span class="p">)</span>
</span><span class="w">    </span><span class="p">),</span>
<span class="w">  </span><span class="n">additional</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">SELECT</span>
<span class="w">      </span><span class="n">seq</span><span class="p">,</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">seconds</span><span class="p">,</span>
<span class="w">      </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">length_m</span><span class="p">,</span>
<span class="w">      </span><span class="k">CASE</span>
<span class="w">          </span><span class="k">WHEN</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">source</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="n">ST_AsText</span><span class="p">(</span><span class="n">the_geom</span><span class="p">)</span>
<span class="w">          </span><span class="k">ELSE</span><span class="w"> </span><span class="n">ST_AsText</span><span class="p">(</span><span class="n">ST_Reverse</span><span class="p">(</span><span class="n">the_geom</span><span class="p">))</span>
<span class="w">      </span><span class="k">END</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">route_readable</span><span class="p">,</span>

<span class="w">      </span><span class="k">CASE</span>
<span class="w">          </span><span class="k">WHEN</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">source_osm</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="n">the_geom</span>
<span class="w">          </span><span class="k">ELSE</span><span class="w"> </span><span class="n">ST_Reverse</span><span class="p">(</span><span class="n">the_geom</span><span class="p">)</span>
<span class="w">      </span><span class="k">END</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">route_geom</span>

<span class="w">    </span><span class="k">FROM</span><span class="w"> </span><span class="n">results</span>
<span class="hll"><span class="w">    </span><span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">ways</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="p">(</span><span class="n">gid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">id</span><span class="p">)</span>
</span><span class="w">  </span><span class="p">)</span>
<span class="w">  </span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="p">,</span>
<span class="w">    </span><span class="n">degrees</span><span class="p">(</span><span class="n">ST_azimuth</span><span class="p">(</span><span class="n">ST_StartPoint</span><span class="p">(</span><span class="n">route_geom</span><span class="p">),</span><span class="w"> </span><span class="n">ST_EndPoint</span><span class="p">(</span><span class="n">route_geom</span><span class="p">)))</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">azimuth</span>
<span class="w">  </span><span class="k">FROM</span><span class="w"> </span><span class="n">additional</span>
<span class="w">  </span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">seq</span><span class="p">;</span>
<span class="err">$</span><span class="n">BODY$</span>
<span class="k">LANGUAGE</span><span class="w"> </span><span class="s1">&#39;sql&#39;</span><span class="p">;</span>
</pre></div>
</div>
<div class="sphinx_collapse docutils container">
<input class="sphinx_collapse__input" id="d58d24b3-b98e-43a8-afce-2b0234eb8ee2" name="d58d24b3-b98e-43a8-afce-2b0234eb8ee2" type="checkbox"><label class="sphinx_collapse__label" for="d58d24b3-b98e-43a8-afce-2b0234eb8ee2"><i class="sphinx_collapse__icon"></i>Response of command</label><div class="sphinx_collapse__content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CREATE</span> <span class="n">FUNCTION</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="exercise-7-using-the-function">
<span id="exercise-ch7-e10"></span><h3><a class="toc-backref" href="#id12" role="doc-backlink"><span class="section-number">5.4.2. </span>Exercise 7: Using the function</a><a class="headerlink" href="#exercise-7-using-the-function" title="Link to this heading">¶</a></h3>
<p class="rubric">Problem</p>
<ul class="simple">
<li><p>Test the function with the three views</p></li>
<li><p>From the “Estação das Docas” to the Hangar Convention Center using the OSM identifier</p></li>
</ul>
<p class="rubric">Solution</p>
<ul class="simple">
<li><p>Use the function on the <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> statement</p></li>
<li><p>The first parameter changes based on the view to be tested</p></li>
</ul>
<p>Names of the streets in the route</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="k">DISTINCT</span><span class="w"> </span><span class="n">name</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">wrk_dijkstra</span><span class="p">(</span><span class="s1">&#39;vehicle_net&#39;</span><span class="p">,</span><span class="w">  </span><span class="mi">5661895682</span><span class="p">,</span><span class="w"> </span><span class="mi">10982869752</span><span class="p">);</span>
</pre></div>
</div>
<div class="sphinx_collapse docutils container">
<input class="sphinx_collapse__input" id="8145b65f-5914-4d71-ba8e-1c1e54f3dbcc" name="8145b65f-5914-4d71-ba8e-1c1e54f3dbcc" type="checkbox"><label class="sphinx_collapse__label" for="8145b65f-5914-4d71-ba8e-1c1e54f3dbcc"><i class="sphinx_collapse__icon"></i>Query results</label><div class="sphinx_collapse__content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>            <span class="n">name</span>             
<span class="o">-----------------------------</span>
 
 <span class="n">Travessa</span> <span class="n">Diogo</span> <span class="n">Móia</span>
 <span class="n">Avenida</span> <span class="n">Presidente</span> <span class="n">Vargas</span>
 <span class="n">Rua</span> <span class="n">Diogo</span> <span class="n">Móia</span>
 <span class="n">Travessa</span> <span class="n">Vileta</span>
 <span class="n">Avenida</span> <span class="n">Brigadeiro</span> <span class="n">Protázio</span>
 <span class="n">Passagem</span> <span class="n">Ademar</span> <span class="n">de</span> <span class="n">Barros</span>
 <span class="n">Travessa</span> <span class="n">Antônio</span> <span class="n">Baena</span>
 <span class="n">Rua</span> <span class="n">Oliveira</span> <span class="n">Belo</span>
 <span class="n">Travessa</span> <span class="n">Piedade</span>
 <span class="n">Avenida</span> <span class="n">Duque</span> <span class="n">de</span> <span class="n">Caxias</span>
 <span class="n">Rua</span> <span class="n">Gaspar</span> <span class="n">Viana</span>
 <span class="n">Avenida</span> <span class="n">Doutor</span> <span class="n">Freitas</span>
 <span class="n">Avenida</span> <span class="n">Visconde</span> <span class="n">de</span> <span class="n">Inhaúma</span>
 <span class="n">Rua</span> <span class="n">Aristides</span> <span class="n">Lobo</span>
<span class="p">(</span><span class="mi">15</span> <span class="n">rows</span><span class="p">)</span>

</pre></div>
</div>
</div>
</div>
<p>Total seconds spent in each street</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="k">sum</span><span class="p">(</span><span class="n">seconds</span><span class="p">)</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">wrk_dijkstra</span><span class="p">(</span><span class="s1">&#39;taxi_net&#39;</span><span class="p">,</span><span class="w">  </span><span class="mi">5661895682</span><span class="p">,</span><span class="w"> </span><span class="mi">10982869752</span><span class="p">)</span>
<span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
</pre></div>
</div>
<div class="sphinx_collapse docutils container">
<input class="sphinx_collapse__input" id="f43322fe-c23a-4b5d-93ac-d1cc5e7c9cb6" name="f43322fe-c23a-4b5d-93ac-d1cc5e7c9cb6" type="checkbox"><label class="sphinx_collapse__label" for="f43322fe-c23a-4b5d-93ac-d1cc5e7c9cb6"><i class="sphinx_collapse__icon"></i>Query results</label><div class="sphinx_collapse__content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>            <span class="n">name</span>             <span class="o">|</span>        <span class="nb">sum</span>         
<span class="o">-----------------------------+--------------------</span>
                             <span class="o">|</span> <span class="mf">23.861249584123655</span>
 <span class="n">Travessa</span> <span class="n">Diogo</span> <span class="n">Móia</span>         <span class="o">|</span> <span class="mf">2.3210555749047206</span>
 <span class="n">Avenida</span> <span class="n">Presidente</span> <span class="n">Vargas</span>   <span class="o">|</span>  <span class="mf">8.110769367340588</span>
 <span class="n">Rua</span> <span class="n">Diogo</span> <span class="n">Móia</span>              <span class="o">|</span> <span class="mf">132.67284886367426</span>
 <span class="n">Travessa</span> <span class="n">Vileta</span>             <span class="o">|</span>  <span class="mf">29.28263411971839</span>
 <span class="n">Avenida</span> <span class="n">Brigadeiro</span> <span class="n">Protázio</span> <span class="o">|</span> <span class="mf">1.6011155886292923</span>
 <span class="n">Passagem</span> <span class="n">Ademar</span> <span class="n">de</span> <span class="n">Barros</span>   <span class="o">|</span> <span class="mf">10.685150241662154</span>
 <span class="n">Travessa</span> <span class="n">Antônio</span> <span class="n">Baena</span>      <span class="o">|</span>  <span class="mf">8.241613174115601</span>
 <span class="n">Rua</span> <span class="n">Oliveira</span> <span class="n">Belo</span>           <span class="o">|</span>   <span class="mf">7.38222867704757</span>
 <span class="n">Travessa</span> <span class="n">Piedade</span>            <span class="o">|</span>  <span class="mf">29.36759575170905</span>
 <span class="n">Avenida</span> <span class="n">Duque</span> <span class="n">de</span> <span class="n">Caxias</span>     <span class="o">|</span> <span class="mf">121.90223102345931</span>
 <span class="n">Rua</span> <span class="n">Gaspar</span> <span class="n">Viana</span>            <span class="o">|</span> <span class="mf">27.132921302194045</span>
 <span class="n">Avenida</span> <span class="n">Doutor</span> <span class="n">Freitas</span>      <span class="o">|</span> <span class="mf">3.0152100378783957</span>
 <span class="n">Avenida</span> <span class="n">Visconde</span> <span class="n">de</span> <span class="n">Inhaúma</span> <span class="o">|</span>  <span class="mf">48.99066219506939</span>
 <span class="n">Rua</span> <span class="n">Aristides</span> <span class="n">Lobo</span>          <span class="o">|</span>  <span class="mf">57.68452285282492</span>
<span class="p">(</span><span class="mi">15</span> <span class="n">rows</span><span class="p">)</span>

</pre></div>
</div>
</div>
</div>
<p>Get all the information of the route</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">wrk_dijkstra</span><span class="p">(</span><span class="s1">&#39;walk_net&#39;</span><span class="p">,</span><span class="w">  </span><span class="mi">5661895682</span><span class="p">,</span><span class="w"> </span><span class="mi">10982869752</span><span class="p">);</span>
</pre></div>
</div>
<div class="sphinx_collapse docutils container">
<input class="sphinx_collapse__input" id="c14a16bc-46fc-467d-bc0d-4bf7e5a320e1" name="c14a16bc-46fc-467d-bc0d-4bf7e5a320e1" type="checkbox"><label class="sphinx_collapse__label" for="c14a16bc-46fc-467d-bc0d-4bf7e5a320e1"><i class="sphinx_collapse__icon"></i>Query results</label><div class="sphinx_collapse__content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">seq</span> <span class="o">|</span> <span class="nb">id</span> <span class="o">|</span> <span class="n">seconds</span> <span class="o">|</span> <span class="n">name</span> <span class="o">|</span> <span class="n">length_m</span> <span class="o">|</span> <span class="n">route_readable</span> <span class="o">|</span> <span class="n">route_geom</span> <span class="o">|</span> <span class="n">azimuth</span> 
<span class="o">-----+----+---------+------+----------+----------------+------------+---------</span>
<span class="p">(</span><span class="mi">0</span> <span class="n">rows</span><span class="p">)</span>

</pre></div>
</div>
</div>
</div>
<p>Try the function with a combination of the interesting places:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">10982869752</span></code> Hangar Convention Center</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">11818739588</span></code> Instituto Federal do Pará, Campus Belém</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">491465035</span></code> Palacete Bolonha</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1069202329</span></code> Forte do Castelo</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">5661895682</span></code> Estação das Docas</p></li>
</ul>
</section>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2010-2024 pgRouting Developers.<br/>
      Last updated on Nov 05, 2024.<br/>
    </p>
  </div>
</footer>
  </body>
</html>