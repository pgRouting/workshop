<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>3. Good Health and Well Being &#8212; Workshop - FOSS4G Belém - Routing with pgRouting</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css?v=5a695559" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx_collapse.css?v=226d88b4" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=fa3951f0" />
    <script src="../_static/documentation_options.js?v=44da1a42"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="icon" href="../_static/favicon.ico"/>
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="4. Affordable and Clean Energy" href="sdg7-energy.html" />
    <link rel="prev" title="2. Achieving Sustainable Development Goals with pgRouting" href="introduction.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="../_static/bootstrap-2.3.2/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>

  </head><body>

  <div id="navbar" class="navbar navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>

        <a class="brand" href="../index.html">
          Workshop FOSS4G Belém</a>
        <span class="navbar-text pull-left"><b>3.0</b></span>

        <div class="nav-collapse">
          <ul class="nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://docs.pgrouting.org/latest/en/index.html">Documentation</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Chapters <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../general-intro/introduction.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general-intro/osgeolive.html">2. OSGeoLive Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general-intro/overview.html">3. Software and Data Overview</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../basic/data.html">1. Prepare Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basic/pedestrian.html">2. Pedestrian Routing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basic/vehicle.html">3. Vehicle Routing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basic/graph_views.html">4. Graph views</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basic/sql_function.html">5. SQL function</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basic/plpgsql_function.html">6. pl/pgsql function</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="data.html">1. Data for Sustainable Development Goals</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">2. Achieving Sustainable Development Goals with pgRouting</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">3. Good Health and Well Being</a></li>
<li class="toctree-l1"><a class="reference internal" href="sdg7-energy.html">4. Affordable and Clean Energy</a></li>
<li class="toctree-l1"><a class="reference internal" href="sdg11-cities.html">5. Sustainable Cities and Communities</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../interactions/chapter-9.html">1. Using Qgis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../interactions/chapter-10.html">2. WMS server with GeoServer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../interactions/chapter-11.html">3. OpenLayers Based Routing Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced/chapter-12.html">4. Create a Network Topology</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../examples/boost_dijkstra.html">1. Boost Dijkstra Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/hanoslav.html">2. Internet Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/wiki_example.html">3. Wikipedia Dijkstra Example</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../appendix/appendix-2.html">1. Appendix: Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix/appendix-3.html">2. Appendix: osm2pgrouting Import Tool</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix/appendix-4.html">3. Video Tutorials for Workshop</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">3. Good Health and Well Being</a><ul>
<li><a class="reference internal" href="#problem-estimation-of-population-served-by-hospitals">3.1. Problem: Estimation of Population Served by Hospitals</a></li>
<li><a class="reference internal" href="#postresql-basics">3.2. PostreSQL basics</a><ul>
<li><a class="reference internal" href="#preparing-work-area">3.2.1. Preparing work area</a><ul>
<li><a class="reference internal" href="#exercise-1-inspecting-schemas">3.2.1.1. Exercise 1: Inspecting schemas</a></li>
<li><a class="reference internal" href="#exercise-2-inspecting-the-search-path">3.2.1.2. Exercise 2: Inspecting the search path</a></li>
<li><a class="reference internal" href="#exercise-3-fixing-the-search-path">3.2.1.3. Exercise 3: Fixing the search path</a></li>
<li><a class="reference internal" href="#exercise-4-enumerating-tables">3.2.1.4. Exercise 4: Enumerating tables</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#preparing-roads-and-buildings-data">3.3. Preparing roads and buildings data</a><ul>
<li><a class="reference internal" href="#exercise-5-counting-the-number-of-roads-and-buildings">3.3.1. Exercise 5: Counting the number of roads and buildings</a></li>
<li><a class="reference internal" href="#preprocessing-buildings">3.3.2. Preprocessing Buildings</a><ul>
<li><a class="reference internal" href="#exercise-6-removing-columns">3.3.2.1. Exercise 6: Removing columns</a></li>
<li><a class="reference internal" href="#exercise-7-add-a-spatial-column-to-the-table">3.3.2.2. Exercise 7: Add a spatial column to the table</a></li>
<li><a class="reference internal" href="#exercise-8-removing-the-polygons-with-less-than-4-points">3.3.2.3. Exercise 8: Removing the polygons with less than 4 points</a></li>
<li><a class="reference internal" href="#exercise-9-creating-the-polygons">3.3.2.4. Exercise 9: Creating the polygons</a></li>
<li><a class="reference internal" href="#exercise-10-calculating-the-area">3.3.2.5. Exercise 10: Calculating the area</a></li>
<li><a class="reference internal" href="#exercise-11-estimating-the-population">3.3.2.6. Exercise 11: Estimating the population</a></li>
</ul>
</li>
<li><a class="reference internal" href="#preprocessing-roads">3.3.3. Preprocessing Roads</a><ul>
<li><a class="reference internal" href="#exercise-12-remove-disconnected-components">3.3.3.1. Exercise 12: Remove disconnected components</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#find-the-roads-served-by-the-hospitals">3.4. Find the roads served by the hospitals</a><ul>
<li><a class="reference internal" href="#pgr-drivingdistance">3.4.1. pgr_drivingDistance</a></li>
<li><a class="reference internal" href="#exercise-13-find-the-closest-road-vertex">3.4.2. Exercise 13: Find the closest road vertex</a></li>
<li><a class="reference internal" href="#exercise-14-finding-the-served-roads-using-pgr-drivingdistance">3.4.3. Exercise 14: Finding the served roads using pgr_drivingDistance</a></li>
<li><a class="reference internal" href="#exercise-15-generalising-the-served-roads">3.4.4. Exercise 15: Generalising the served roads</a></li>
</ul>
</li>
<li><a class="reference internal" href="#calculating-the-total-population-served-by-the-hospital">3.5. Calculating the total population served by the hospital</a><ul>
<li><a class="reference internal" href="#exercise-16-finding-the-nearest-roads-of-the-buildings">3.5.1. Exercise 16: Finding the nearest roads of the buildings</a></li>
<li><a class="reference internal" href="#exercise-17-storing-the-population-in-the-roads">3.5.2. Exercise 17: Storing the population in the roads</a></li>
<li><a class="reference internal" href="#exercise-18-find-total-population-served-by-the-hospital">3.5.3. Exercise 18: Find total population served by the hospital</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="introduction.html" title="Previous Chapter: 2. Achieving Sustainable Development Goals with pgRouting"><span class="icon-chevron-left visible-tablet"></span><span class="hidden-sm hidden-tablet">&laquo; 2. Achieving ...</span>
    </a>
  </li>
  <li>
    <a href="sdg7-energy.html" title="Next Chapter: 4. Affordable and Clean Energy"><span class="icon-chevron-right visible-tablet"></span><span class="hidden-sm hidden-tablet">4. Affordable... &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
      </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="body span12 content" role="main">
      
  <section id="good-health-and-well-being">
<h1><a class="toc-backref" href="#id1" role="doc-backlink"><span class="section-number">3. </span>Good Health and Well Being</a><a class="headerlink" href="#good-health-and-well-being" title="Link to this heading">¶</a></h1>
<p><cite>Good Health and Well Being</cite> is the 3rd Sustainable Development Goal which aspires
to ensure health and well-being for all, including a bold commitment to end the
epidemics like AIDS, tuberculosis, malaria and other communicable diseases by 2030.
It also aims to achieve universal health coverage, and provide access to safe and
effective medicines and vaccines for all. Supporting research and development for
vaccines is an essential part of this process as well as expanding access to
affordable medicines. Hospitals are a very important part of a well functioning
health infrastructure. An appropriate planning is required for optimal distribution
of the population of an area to its hospitals. Hence, it is very important to estimate
the number of dependant people living near the hospital for better planning which
would ultimately help in achieving universal coverage of health services. This chapter
will focus on solving one such problem.</p>
<img alt="Sustainable Development Goal 3: Good Health and Well Being" class="align-center" src="../_images/un_sdg3.png" />
<p><a class="reference external" href="https://sdgs.un.org/goals/goal3">Image Source</a></p>
<nav class="contents" id="chapter-contents">
<p class="topic-title">Chapter Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#good-health-and-well-being" id="id1">Good Health and Well Being</a></p>
<ul>
<li><p><a class="reference internal" href="#problem-estimation-of-population-served-by-hospitals" id="id2">Problem: Estimation of Population Served by Hospitals</a></p></li>
<li><p><a class="reference internal" href="#postresql-basics" id="id3">PostreSQL basics</a></p>
<ul>
<li><p><a class="reference internal" href="#preparing-work-area" id="id4">Preparing work area</a></p>
<ul>
<li><p><a class="reference internal" href="#exercise-1-inspecting-schemas" id="id5">Exercise 1: Inspecting schemas</a></p></li>
<li><p><a class="reference internal" href="#exercise-2-inspecting-the-search-path" id="id6">Exercise 2: Inspecting the search path</a></p></li>
<li><p><a class="reference internal" href="#exercise-3-fixing-the-search-path" id="id7">Exercise 3: Fixing the search path</a></p></li>
<li><p><a class="reference internal" href="#exercise-4-enumerating-tables" id="id8">Exercise 4: Enumerating tables</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#preparing-roads-and-buildings-data" id="id9">Preparing roads and buildings data</a></p>
<ul>
<li><p><a class="reference internal" href="#exercise-5-counting-the-number-of-roads-and-buildings" id="id10">Exercise 5: Counting the number of roads and buildings</a></p></li>
<li><p><a class="reference internal" href="#preprocessing-buildings" id="id11">Preprocessing Buildings</a></p>
<ul>
<li><p><a class="reference internal" href="#exercise-6-removing-columns" id="id12">Exercise 6: Removing columns</a></p></li>
<li><p><a class="reference internal" href="#exercise-7-add-a-spatial-column-to-the-table" id="id13">Exercise 7: Add a spatial column to the table</a></p></li>
<li><p><a class="reference internal" href="#exercise-8-removing-the-polygons-with-less-than-4-points" id="id14">Exercise 8: Removing the polygons with less than 4 points</a></p></li>
<li><p><a class="reference internal" href="#exercise-9-creating-the-polygons" id="id15">Exercise 9: Creating the polygons</a></p></li>
<li><p><a class="reference internal" href="#exercise-10-calculating-the-area" id="id16">Exercise 10: Calculating the area</a></p></li>
<li><p><a class="reference internal" href="#exercise-11-estimating-the-population" id="id17">Exercise 11: Estimating the population</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#preprocessing-roads" id="id18">Preprocessing Roads</a></p>
<ul>
<li><p><a class="reference internal" href="#exercise-12-remove-disconnected-components" id="id19">Exercise 12: Remove disconnected components</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#find-the-roads-served-by-the-hospitals" id="id20">Find the roads served by the hospitals</a></p>
<ul>
<li><p><a class="reference internal" href="#pgr-drivingdistance" id="id21">pgr_drivingDistance</a></p></li>
<li><p><a class="reference internal" href="#exercise-13-find-the-closest-road-vertex" id="id22">Exercise 13: Find the closest road vertex</a></p></li>
<li><p><a class="reference internal" href="#exercise-14-finding-the-served-roads-using-pgr-drivingdistance" id="id23">Exercise 14: Finding the served roads using pgr_drivingDistance</a></p></li>
<li><p><a class="reference internal" href="#exercise-15-generalising-the-served-roads" id="id24">Exercise 15: Generalising the served roads</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#calculating-the-total-population-served-by-the-hospital" id="id25">Calculating the total population served by the hospital</a></p>
<ul>
<li><p><a class="reference internal" href="#exercise-16-finding-the-nearest-roads-of-the-buildings" id="id26">Exercise 16: Finding the nearest roads of the buildings</a></p></li>
<li><p><a class="reference internal" href="#exercise-17-storing-the-population-in-the-roads" id="id27">Exercise 17: Storing the population in the roads</a></p></li>
<li><p><a class="reference internal" href="#exercise-18-find-total-population-served-by-the-hospital" id="id28">Exercise 18: Find total population served by the hospital</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
<section id="problem-estimation-of-population-served-by-hospitals">
<h2><a class="toc-backref" href="#id2" role="doc-backlink"><span class="section-number">3.1. </span>Problem: Estimation of Population Served by Hospitals</a><a class="headerlink" href="#problem-estimation-of-population-served-by-hospitals" title="Link to this heading">¶</a></h2>
<p><strong>Problem Statement</strong></p>
<p>To determine the population served by a hospital based on travel time</p>
<p><strong>Core Idea</strong></p>
<p>Population residing along the roads which reach to a hospital within a particular
time is dependant on that hospital.</p>
<p><strong>Approach</strong></p>
<ul class="simple">
<li><p>To prepare a dataset with:</p>
<ul>
<li><p>Edges: Roads</p></li>
<li><p>Polygons: Buildings with population</p></li>
</ul>
</li>
<li><p>Find the travel-time based the roads served</p></li>
<li><p>Estimate the population of the buildings</p></li>
<li><p>Find the nearest road to the buildings</p></li>
<li><p>Store the sum of population of nearest buildings in roads table</p></li>
<li><p>Find the sum of population on all the roads in the roads served</p></li>
</ul>
</section>
<section id="postresql-basics">
<h2><a class="toc-backref" href="#id3" role="doc-backlink"><span class="section-number">3.2. </span>PostreSQL basics</a><a class="headerlink" href="#postresql-basics" title="Link to this heading">¶</a></h2>
<section id="preparing-work-area">
<h3><a class="toc-backref" href="#id4" role="doc-backlink"><span class="section-number">3.2.1. </span>Preparing work area</a><a class="headerlink" href="#preparing-work-area" title="Link to this heading">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">search_path</span></code> is a variable that determines the order in which database
schemas are searched for objects.</p>
<p>By setting the <code class="docutils literal notranslate"><span class="pre">search_path</span></code> to appropriate values, prepending the schema name
to tables can be avoided.</p>
<section id="exercise-1-inspecting-schemas">
<h4><a class="toc-backref" href="#id5" role="doc-backlink"><span class="section-number">3.2.1.1. </span>Exercise 1: Inspecting schemas</a><a class="headerlink" href="#exercise-1-inspecting-schemas" title="Link to this heading">¶</a></h4>
<p>Inspect the schemas by displaying all the present schemas using the following
command</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="n">dn</span>
</pre></div>
</div>
<div class="sphinx_collapse docutils container">
<input class="sphinx_collapse__input" id="11f4b5c8-0de2-477a-b848-5187837b3b23" name="11f4b5c8-0de2-477a-b848-5187837b3b23" type="checkbox"><label class="sphinx_collapse__label" for="11f4b5c8-0de2-477a-b848-5187837b3b23"><i class="sphinx_collapse__icon"></i>Command output</label><div class="sphinx_collapse__content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>        <span class="n">List</span> <span class="n">of</span> <span class="n">schemas</span>
   <span class="n">Name</span>    <span class="o">|</span>       <span class="n">Owner</span>       
<span class="o">-----------+-------------------</span>
 <span class="n">buildings</span> <span class="o">|</span> <span class="n">runner</span>
 <span class="n">public</span>    <span class="o">|</span> <span class="n">pg_database_owner</span>
 <span class="n">roads</span>     <span class="o">|</span> <span class="n">runner</span>
<span class="p">(</span><span class="mi">3</span> <span class="n">rows</span><span class="p">)</span>

</pre></div>
</div>
</div>
</div>
<p>The schema names are <code class="docutils literal notranslate"><span class="pre">buildings</span></code>, <code class="docutils literal notranslate"><span class="pre">roads</span></code> and <code class="docutils literal notranslate"><span class="pre">public</span></code>. The owner depends
on who has the rights to the database.</p>
</section>
<section id="exercise-2-inspecting-the-search-path">
<h4><a class="toc-backref" href="#id6" role="doc-backlink"><span class="section-number">3.2.1.2. </span>Exercise 2: Inspecting the search path</a><a class="headerlink" href="#exercise-2-inspecting-the-search-path" title="Link to this heading">¶</a></h4>
<p>Display the current search path using the following query.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SHOW</span><span class="w"> </span><span class="n">search_path</span><span class="p">;</span>
</pre></div>
</div>
<div class="sphinx_collapse docutils container">
<input class="sphinx_collapse__input" id="ab7d01af-ef98-4f7c-a53c-0c2f1f85be53" name="ab7d01af-ef98-4f7c-a53c-0c2f1f85be53" type="checkbox"><label class="sphinx_collapse__label" for="ab7d01af-ef98-4f7c-a53c-0c2f1f85be53"><i class="sphinx_collapse__icon"></i>Command output</label><div class="sphinx_collapse__content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>   <span class="n">search_path</span>   
<span class="o">-----------------</span>
 <span class="s2">&quot;$user&quot;</span><span class="p">,</span> <span class="n">public</span>
<span class="p">(</span><span class="mi">1</span> <span class="n">row</span><span class="p">)</span>

</pre></div>
</div>
</div>
</div>
<p>This is the current search path. Tables in other schemas cannot be accessed with
this path.</p>
</section>
<section id="exercise-3-fixing-the-search-path">
<h4><a class="toc-backref" href="#id7" role="doc-backlink"><span class="section-number">3.2.1.3. </span>Exercise 3: Fixing the search path</a><a class="headerlink" href="#exercise-3-fixing-the-search-path" title="Link to this heading">¶</a></h4>
<p>In this case, the search path needs to include <code class="docutils literal notranslate"><span class="pre">roads</span></code> and
<code class="docutils literal notranslate"><span class="pre">buildings</span></code> schemas. The following query is used to adjust the search path.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">search_path</span> <span class="n">TO</span> <span class="n">roads</span><span class="p">,</span><span class="n">buildings</span><span class="p">,</span><span class="n">public</span><span class="p">,</span><span class="n">contrib</span><span class="p">,</span><span class="n">postgis</span><span class="p">;</span>
</pre></div>
</div>
<div class="sphinx_collapse docutils container">
<input class="sphinx_collapse__input" id="c7114eb9-c113-4d5f-9404-45ab6e8dc925" name="c7114eb9-c113-4d5f-9404-45ab6e8dc925" type="checkbox"><label class="sphinx_collapse__label" for="c7114eb9-c113-4d5f-9404-45ab6e8dc925"><i class="sphinx_collapse__icon"></i>Command output</label><div class="sphinx_collapse__content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span>
</pre></div>
</div>
</div>
</div>
<p>Checking the search path again</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SHOW</span> <span class="n">search_path</span><span class="p">;</span>
</pre></div>
</div>
<div class="sphinx_collapse docutils container">
<input class="sphinx_collapse__input" id="96e0322a-ceaf-4f00-8dc4-bc1b8736ef8f" name="96e0322a-ceaf-4f00-8dc4-bc1b8736ef8f" type="checkbox"><label class="sphinx_collapse__label" for="96e0322a-ceaf-4f00-8dc4-bc1b8736ef8f"><i class="sphinx_collapse__icon"></i>Command output</label><div class="sphinx_collapse__content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>                <span class="n">search_path</span>                 
<span class="o">--------------------------------------------</span>
 <span class="n">roads</span><span class="p">,</span> <span class="n">buildings</span><span class="p">,</span> <span class="n">public</span><span class="p">,</span> <span class="n">contrib</span><span class="p">,</span> <span class="n">postgis</span>
<span class="p">(</span><span class="mi">1</span> <span class="n">row</span><span class="p">)</span>

</pre></div>
</div>
</div>
</div>
</section>
<section id="exercise-4-enumerating-tables">
<h4><a class="toc-backref" href="#id8" role="doc-backlink"><span class="section-number">3.2.1.4. </span>Exercise 4: Enumerating tables</a><a class="headerlink" href="#exercise-4-enumerating-tables" title="Link to this heading">¶</a></h4>
<p>With <code class="docutils literal notranslate"><span class="pre">\dt</span></code> the tables are listed showing the schema and the owner</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="n">dt</span>
</pre></div>
</div>
<div class="sphinx_collapse docutils container">
<input class="sphinx_collapse__input" id="c174ac37-de6a-4088-9b2e-254512894540" name="c174ac37-de6a-4088-9b2e-254512894540" type="checkbox"><label class="sphinx_collapse__label" for="c174ac37-de6a-4088-9b2e-254512894540"><i class="sphinx_collapse__icon"></i>Command output</label><div class="sphinx_collapse__content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>                    <span class="n">List</span> <span class="n">of</span> <span class="n">relations</span>
  <span class="n">Schema</span>   <span class="o">|</span>            <span class="n">Name</span>             <span class="o">|</span> <span class="n">Type</span>  <span class="o">|</span> <span class="n">Owner</span>  
<span class="o">-----------+-----------------------------+-------+--------</span>
 <span class="n">buildings</span> <span class="o">|</span> <span class="n">buildings_pointsofinterest</span>  <span class="o">|</span> <span class="n">table</span> <span class="o">|</span> <span class="n">user</span>
 <span class="n">buildings</span> <span class="o">|</span> <span class="n">buildings_ways</span>              <span class="o">|</span> <span class="n">table</span> <span class="o">|</span> <span class="n">user</span>
 <span class="n">buildings</span> <span class="o">|</span> <span class="n">buildings_ways_vertices_pgr</span> <span class="o">|</span> <span class="n">table</span> <span class="o">|</span> <span class="n">user</span>
 <span class="n">public</span>    <span class="o">|</span> <span class="n">spatial_ref_sys</span>             <span class="o">|</span> <span class="n">table</span> <span class="o">|</span> <span class="n">runner</span>
 <span class="n">roads</span>     <span class="o">|</span> <span class="n">configuration</span>               <span class="o">|</span> <span class="n">table</span> <span class="o">|</span> <span class="n">user</span>
 <span class="n">roads</span>     <span class="o">|</span> <span class="n">roads_pointsofinterest</span>      <span class="o">|</span> <span class="n">table</span> <span class="o">|</span> <span class="n">user</span>
 <span class="n">roads</span>     <span class="o">|</span> <span class="n">roads_ways</span>                  <span class="o">|</span> <span class="n">table</span> <span class="o">|</span> <span class="n">user</span>
 <span class="n">roads</span>     <span class="o">|</span> <span class="n">roads_ways_vertices_pgr</span>     <span class="o">|</span> <span class="n">table</span> <span class="o">|</span> <span class="n">user</span>
<span class="p">(</span><span class="mi">8</span> <span class="n">rows</span><span class="p">)</span>

</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="preparing-roads-and-buildings-data">
<h2><a class="toc-backref" href="#id9" role="doc-backlink"><span class="section-number">3.3. </span>Preparing roads and buildings data</a><a class="headerlink" href="#preparing-roads-and-buildings-data" title="Link to this heading">¶</a></h2>
<p>First step is to prepare the data obtained from <a class="reference internal" href="data.html"><span class="doc">Data for Sustainable Development Goals</span></a>.</p>
<p>This section will work the graph and data that is going to be used for processing.
While building the graph, the data has to be inspected to determine if there is any
invalid data.
This is a very important step to make sure that the data is of
required quality.
pgRouting can also be used to do some Data Adjustments.</p>
<section id="exercise-5-counting-the-number-of-roads-and-buildings">
<h3><a class="toc-backref" href="#id10" role="doc-backlink"><span class="section-number">3.3.1. </span>Exercise 5: Counting the number of roads and buildings</a><a class="headerlink" href="#exercise-5-counting-the-number-of-roads-and-buildings" title="Link to this heading">¶</a></h3>
<p>The importance of counting the information on this workshop is to make sure that
the same data is used and consequently the results are same.
Also, some of the rows can be seen to understand the structure of the table and
how the data is stored in it.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">roads_ways</span><span class="p">;</span>
</pre></div>
</div>
<div class="sphinx_collapse docutils container">
<input class="sphinx_collapse__input" id="4819396c-1ce4-46a8-85e4-6690dba90719" name="4819396c-1ce4-46a8-85e4-6690dba90719" type="checkbox"><label class="sphinx_collapse__label" for="4819396c-1ce4-46a8-85e4-6690dba90719"><i class="sphinx_collapse__icon"></i>Command output</label><div class="sphinx_collapse__content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">count</span> 
<span class="o">-------</span>
   <span class="mi">558</span>
<span class="p">(</span><span class="mi">1</span> <span class="n">row</span><span class="p">)</span>

</pre></div>
</div>
</div>
</div>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">buildings_ways</span><span class="p">;</span>
</pre></div>
</div>
<div class="sphinx_collapse docutils container">
<input class="sphinx_collapse__input" id="d6fce3ca-ccdd-4f6c-9e75-be33ace7d91e" name="d6fce3ca-ccdd-4f6c-9e75-be33ace7d91e" type="checkbox"><label class="sphinx_collapse__label" for="d6fce3ca-ccdd-4f6c-9e75-be33ace7d91e"><i class="sphinx_collapse__icon"></i>Command output</label><div class="sphinx_collapse__content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">count</span> 
<span class="o">-------</span>
  <span class="mi">1066</span>
<span class="p">(</span><span class="mi">1</span> <span class="n">row</span><span class="p">)</span>

</pre></div>
</div>
</div>
</div>
<p>Following image shows the roads and buildings visualised.</p>
<a class="reference internal image-reference" href="../_images/roads_and_buildings.png"><img alt="../_images/roads_and_buildings.png" class="align-center" src="../_images/roads_and_buildings.png" style="width: 315.0px; height: 305.0px;" />
</a>
</section>
<section id="preprocessing-buildings">
<h3><a class="toc-backref" href="#id11" role="doc-backlink"><span class="section-number">3.3.2. </span>Preprocessing Buildings</a><a class="headerlink" href="#preprocessing-buildings" title="Link to this heading">¶</a></h3>
<p>The table <code class="docutils literal notranslate"><span class="pre">buildings_ways</span></code> contains the buildings in <code class="docutils literal notranslate"><span class="pre">LINGSTING</span></code> type.
They have to be converted into polygons to get the area, as the area is going to
be used to get an estimate of the population living in the building.</p>
<section id="exercise-6-removing-columns">
<h4><a class="toc-backref" href="#id12" role="doc-backlink"><span class="section-number">3.3.2.1. </span>Exercise 6: Removing columns</a><a class="headerlink" href="#exercise-6-removing-columns" title="Link to this heading">¶</a></h4>
<p>Columns can be deleted from a table. In this case instead of creating a view,
columns that are not related to a <strong>buidling</strong> concept are dropped from
<code class="docutils literal notranslate"><span class="pre">buildings_ways</span></code>.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">buildings</span><span class="p">.</span><span class="n">buildings_ways</span>
<span class="k">DROP</span><span class="w"> </span><span class="k">source</span><span class="p">,</span><span class="w"> </span><span class="k">DROP</span><span class="w"> </span><span class="n">target</span><span class="p">,</span>
<span class="k">DROP</span><span class="w"> </span><span class="n">source_osm</span><span class="p">,</span><span class="w"> </span><span class="k">DROP</span><span class="w"> </span><span class="n">target_osm</span><span class="p">,</span>
<span class="k">DROP</span><span class="w"> </span><span class="k">length</span><span class="p">,</span><span class="w"> </span><span class="k">DROP</span><span class="w"> </span><span class="n">length_m</span><span class="p">,</span>
<span class="k">DROP</span><span class="w"> </span><span class="n">cost</span><span class="p">,</span><span class="w"> </span><span class="k">DROP</span><span class="w"> </span><span class="n">reverse_cost</span><span class="p">,</span>
<span class="k">DROP</span><span class="w"> </span><span class="n">cost_s</span><span class="p">,</span><span class="w"> </span><span class="k">DROP</span><span class="w"> </span><span class="n">reverse_cost_s</span><span class="p">,</span>
<span class="k">DROP</span><span class="w"> </span><span class="n">one_way</span><span class="p">,</span><span class="w"> </span><span class="k">DROP</span><span class="w"> </span><span class="n">oneway</span><span class="p">,</span>
<span class="k">DROP</span><span class="w"> </span><span class="n">priority</span><span class="p">,</span><span class="w"> </span><span class="k">DROP</span><span class="w"> </span><span class="n">osm_id</span><span class="p">,</span><span class="w"> </span><span class="k">DROP</span><span class="w"> </span><span class="k">rule</span><span class="p">,</span>
<span class="k">DROP</span><span class="w"> </span><span class="n">x1</span><span class="p">,</span><span class="w"> </span><span class="k">DROP</span><span class="w"> </span><span class="n">x2</span><span class="p">,</span>
<span class="k">DROP</span><span class="w"> </span><span class="n">y1</span><span class="p">,</span><span class="w"> </span><span class="k">DROP</span><span class="w"> </span><span class="n">y2</span><span class="p">,</span>
<span class="k">DROP</span><span class="w"> </span><span class="n">maxspeed_forward</span><span class="p">,</span>
<span class="k">DROP</span><span class="w"> </span><span class="n">maxspeed_backward</span><span class="p">;</span>
</pre></div>
</div>
<div class="sphinx_collapse docutils container">
<input class="sphinx_collapse__input" id="b7d959a1-6e29-4721-9c42-5ab33ad2f2a8" name="b7d959a1-6e29-4721-9c42-5ab33ad2f2a8" type="checkbox"><label class="sphinx_collapse__label" for="b7d959a1-6e29-4721-9c42-5ab33ad2f2a8"><i class="sphinx_collapse__icon"></i>Command output</label><div class="sphinx_collapse__content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ALTER</span> <span class="n">TABLE</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="exercise-7-add-a-spatial-column-to-the-table">
<h4><a class="toc-backref" href="#id13" role="doc-backlink"><span class="section-number">3.3.2.2. </span>Exercise 7: Add a spatial column to the table</a><a class="headerlink" href="#exercise-7-add-a-spatial-column-to-the-table" title="Link to this heading">¶</a></h4>
<p>Add a spatial column named <code class="docutils literal notranslate"><span class="pre">poly_geom</span></code> to the table <code class="docutils literal notranslate"><span class="pre">buildings_ways</span></code> to store
the Polygon Geometry</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="n">AddGeometryColumn</span><span class="p">(</span><span class="s1">&#39;buildings&#39;</span><span class="p">,</span><span class="s1">&#39;buildings_ways&#39;</span><span class="p">,</span><span class="s1">&#39;poly_geom&#39;</span><span class="p">,</span><span class="mi">4326</span><span class="p">,</span><span class="s1">&#39;POLYGON&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>
</pre></div>
</div>
<div class="sphinx_collapse docutils container">
<input class="sphinx_collapse__input" id="ba61d664-2157-41a9-9712-bca7c9679111" name="ba61d664-2157-41a9-9712-bca7c9679111" type="checkbox"><label class="sphinx_collapse__label" for="ba61d664-2157-41a9-9712-bca7c9679111"><i class="sphinx_collapse__icon"></i>Query Results</label><div class="sphinx_collapse__content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>                         <span class="n">addgeometrycolumn</span>                         
<span class="o">-------------------------------------------------------------------</span>
 <span class="n">buildings</span><span class="o">.</span><span class="n">buildings_ways</span><span class="o">.</span><span class="n">poly_geom</span> <span class="n">SRID</span><span class="p">:</span><span class="mi">4326</span> <span class="n">TYPE</span><span class="p">:</span><span class="n">POLYGON</span> <span class="n">DIMS</span><span class="p">:</span><span class="mi">2</span> 
<span class="p">(</span><span class="mi">1</span> <span class="n">row</span><span class="p">)</span>

</pre></div>
</div>
</div>
</div>
<p>Inspecting the table:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="n">dS</span><span class="o">+</span> <span class="n">buildings_ways</span>
</pre></div>
</div>
<div class="sphinx_collapse docutils container">
<input class="sphinx_collapse__input" id="5a7650a2-4dec-4590-ac4e-512314073f41" name="5a7650a2-4dec-4590-ac4e-512314073f41" type="checkbox"><label class="sphinx_collapse__label" for="5a7650a2-4dec-4590-ac4e-512314073f41"><i class="sphinx_collapse__icon"></i>Table structure</label><div class="sphinx_collapse__content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>                                                                 <span class="n">Table</span> <span class="s2">&quot;buildings.buildings_ways&quot;</span>
  <span class="n">Column</span>   <span class="o">|</span>           <span class="n">Type</span>            <span class="o">|</span> <span class="n">Collation</span> <span class="o">|</span> <span class="n">Nullable</span> <span class="o">|</span>                   <span class="n">Default</span>                   <span class="o">|</span> <span class="n">Storage</span>  <span class="o">|</span> <span class="n">Compression</span> <span class="o">|</span> <span class="n">Stats</span> <span class="n">target</span> <span class="o">|</span> <span class="n">Description</span> 
<span class="o">-----------+---------------------------+-----------+----------+---------------------------------------------+----------+-------------+--------------+-------------</span>
 <span class="n">gid</span>       <span class="o">|</span> <span class="n">bigint</span>                    <span class="o">|</span>           <span class="o">|</span> <span class="ow">not</span> <span class="n">null</span> <span class="o">|</span> <span class="n">nextval</span><span class="p">(</span><span class="s1">&#39;buildings_ways_gid_seq&#39;</span><span class="p">::</span><span class="n">regclass</span><span class="p">)</span> <span class="o">|</span> <span class="n">plain</span>    <span class="o">|</span>             <span class="o">|</span>              <span class="o">|</span> 
 <span class="n">tag_id</span>    <span class="o">|</span> <span class="n">integer</span>                   <span class="o">|</span>           <span class="o">|</span>          <span class="o">|</span>                                             <span class="o">|</span> <span class="n">plain</span>    <span class="o">|</span>             <span class="o">|</span>              <span class="o">|</span> 
 <span class="n">name</span>      <span class="o">|</span> <span class="n">text</span>                      <span class="o">|</span>           <span class="o">|</span>          <span class="o">|</span>                                             <span class="o">|</span> <span class="n">extended</span> <span class="o">|</span>             <span class="o">|</span>              <span class="o">|</span> 
 <span class="n">the_geom</span>  <span class="o">|</span> <span class="n">geometry</span><span class="p">(</span><span class="n">LineString</span><span class="p">,</span><span class="mi">4326</span><span class="p">)</span> <span class="o">|</span>           <span class="o">|</span>          <span class="o">|</span>                                             <span class="o">|</span> <span class="n">main</span>     <span class="o">|</span>             <span class="o">|</span>              <span class="o">|</span> 
 <span class="n">poly_geom</span> <span class="o">|</span> <span class="n">geometry</span><span class="p">(</span><span class="n">Polygon</span><span class="p">,</span><span class="mi">4326</span><span class="p">)</span>    <span class="o">|</span>           <span class="o">|</span>          <span class="o">|</span>                                             <span class="o">|</span> <span class="n">main</span>     <span class="o">|</span>             <span class="o">|</span>              <span class="o">|</span> 
<span class="n">Indexes</span><span class="p">:</span>
    <span class="s2">&quot;buildings_ways_pkey&quot;</span> <span class="n">PRIMARY</span> <span class="n">KEY</span><span class="p">,</span> <span class="n">btree</span> <span class="p">(</span><span class="n">gid</span><span class="p">)</span>
    <span class="s2">&quot;buildings_ways_the_geom_idx&quot;</span> <span class="n">gist</span> <span class="p">(</span><span class="n">the_geom</span><span class="p">)</span>
<span class="n">Foreign</span><span class="o">-</span><span class="n">key</span> <span class="n">constraints</span><span class="p">:</span>
    <span class="s2">&quot;buildings_ways_tag_id_fkey&quot;</span> <span class="n">FOREIGN</span> <span class="n">KEY</span> <span class="p">(</span><span class="n">tag_id</span><span class="p">)</span> <span class="n">REFERENCES</span> <span class="n">buildings</span><span class="o">.</span><span class="n">configuration</span><span class="p">(</span><span class="n">tag_id</span><span class="p">)</span>
<span class="n">Access</span> <span class="n">method</span><span class="p">:</span> <span class="n">heap</span>
<span class="n">Options</span><span class="p">:</span> <span class="n">autovacuum_enabled</span><span class="o">=</span><span class="n">false</span>

</pre></div>
</div>
</div>
</div>
</section>
<section id="exercise-8-removing-the-polygons-with-less-than-4-points">
<h4><a class="toc-backref" href="#id14" role="doc-backlink"><span class="section-number">3.3.2.3. </span>Exercise 8: Removing the polygons with less than 4 points</a><a class="headerlink" href="#exercise-8-removing-the-polygons-with-less-than-4-points" title="Link to this heading">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">ST_NumPoints</span></code> is used to find the number of points on a geometry. Also, polygons
with less than 3 points/vertices are not considered valid polygons in PostgreSQL.
Hence, the buildings having less than 3 vertices need to be cleaned up. Follow
the steps given below to complete this task.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">DELETE</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">buildings_ways</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">ST_NumPoints</span><span class="p">(</span><span class="n">the_geom</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">4</span>
<span class="k">OR</span><span class="w"> </span><span class="n">ST_IsClosed</span><span class="p">(</span><span class="n">the_geom</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">FALSE</span><span class="p">;</span>
</pre></div>
</div>
<div class="sphinx_collapse docutils container">
<input class="sphinx_collapse__input" id="1b22b42c-2f4a-43aa-ae30-5bb234c99e90" name="1b22b42c-2f4a-43aa-ae30-5bb234c99e90" type="checkbox"><label class="sphinx_collapse__label" for="1b22b42c-2f4a-43aa-ae30-5bb234c99e90"><i class="sphinx_collapse__icon"></i>Query Results</label><div class="sphinx_collapse__content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DELETE</span> <span class="mi">17</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="exercise-9-creating-the-polygons">
<h4><a class="toc-backref" href="#id15" role="doc-backlink"><span class="section-number">3.3.2.4. </span>Exercise 9: Creating the polygons</a><a class="headerlink" href="#exercise-9-creating-the-polygons" title="Link to this heading">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">ST_MakePolygons</span></code> is used to make the polygons. This step stores the geometry of
polygons in the <code class="docutils literal notranslate"><span class="pre">poly_geom</span></code> column which was created earlier.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="k">UPDATE</span><span class="w"> </span><span class="n">buildings_ways</span>
<span class="linenos">2</span><span class="k">SET</span><span class="w"> </span><span class="n">poly_geom</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ST_MakePolygon</span><span class="p">(</span><span class="n">the_geom</span><span class="p">);</span>
</pre></div>
</div>
<div class="sphinx_collapse docutils container">
<input class="sphinx_collapse__input" id="e3a13edc-3abd-4bd9-a897-18c1b29081ea" name="e3a13edc-3abd-4bd9-a897-18c1b29081ea" type="checkbox"><label class="sphinx_collapse__label" for="e3a13edc-3abd-4bd9-a897-18c1b29081ea"><i class="sphinx_collapse__icon"></i>Query Results</label><div class="sphinx_collapse__content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">UPDATE</span> <span class="mi">1049</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="exercise-10-calculating-the-area">
<h4><a class="toc-backref" href="#id16" role="doc-backlink"><span class="section-number">3.3.2.5. </span>Exercise 10: Calculating the area</a><a class="headerlink" href="#exercise-10-calculating-the-area" title="Link to this heading">¶</a></h4>
<p>After getting the polygon geometry, next step is to find the area of the polygons.
Follow the steps given below to complete this task.</p>
<ol class="arabic simple">
<li><p>Adding a column for storing the area</p></li>
</ol>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">buildings_ways</span><span class="w"> </span><span class="k">ADD</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="n">area</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">;</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Storing the area in the new column</p></li>
</ol>
<p><code class="docutils literal notranslate"><span class="pre">ST_Area</span></code> is used to calculate area of polygons. Area is stored in the
new column</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">UPDATE</span><span class="w"> </span><span class="n">buildings_ways</span>
<span class="k">SET</span><span class="w"> </span><span class="n">area</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ST_Area</span><span class="p">(</span><span class="n">poly_geom</span><span class="p">::</span><span class="n">geography</span><span class="p">)::</span><span class="nb">INTEGER</span><span class="p">;</span>
</pre></div>
</div>
<div class="sphinx_collapse docutils container">
<input class="sphinx_collapse__input" id="c20b5991-24d8-44fa-af6c-b8f6bb058f06" name="c20b5991-24d8-44fa-af6c-b8f6bb058f06" type="checkbox"><label class="sphinx_collapse__label" for="c20b5991-24d8-44fa-af6c-b8f6bb058f06"><i class="sphinx_collapse__icon"></i>Query Results</label><div class="sphinx_collapse__content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">UPDATE</span> <span class="mi">1049</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="exercise-11-estimating-the-population">
<h4><a class="toc-backref" href="#id17" role="doc-backlink"><span class="section-number">3.3.2.6. </span>Exercise 11: Estimating the population</a><a class="headerlink" href="#exercise-11-estimating-the-population" title="Link to this heading">¶</a></h4>
<p>Due to the lack of census data, this exercise will fill up and estimate of the
population living on the buildings, based on the area of the building and the
kind of use the building gets.</p>
<p>Buildings of OpenStreetMap data are classified into various categories.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="k">DISTINCT</span><span class="w"> </span><span class="n">tag_id</span><span class="p">,</span><span class="w"> </span><span class="n">tag_value</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">buildings_ways</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">buildings</span><span class="p">.</span><span class="n">configuration</span><span class="w"> </span><span class="k">USING</span><span class="w"> </span><span class="p">(</span><span class="n">tag_id</span><span class="p">)</span>
<span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">tag_id</span><span class="p">;</span>
</pre></div>
</div>
<div class="sphinx_collapse docutils container">
<input class="sphinx_collapse__input" id="76d8a033-9062-4a58-a55d-8fd20d4ee52f" name="76d8a033-9062-4a58-a55d-8fd20d4ee52f" type="checkbox"><label class="sphinx_collapse__label" for="76d8a033-9062-4a58-a55d-8fd20d4ee52f"><i class="sphinx_collapse__icon"></i>Query Results</label><div class="sphinx_collapse__content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">tag_id</span> <span class="o">|</span>  <span class="n">tag_value</span>  
<span class="o">--------+-------------</span>
    <span class="mi">119</span> <span class="o">|</span> <span class="n">retail</span>
    <span class="mi">122</span> <span class="o">|</span> <span class="n">school</span>
    <span class="mi">124</span> <span class="o">|</span> <span class="n">commercial</span>
    <span class="mi">201</span> <span class="o">|</span> <span class="n">university</span>
    <span class="mi">314</span> <span class="o">|</span> <span class="n">hotel</span>
    <span class="mi">318</span> <span class="o">|</span> <span class="n">hospital</span>
    <span class="mi">401</span> <span class="o">|</span> <span class="n">residential</span>
    <span class="mi">402</span> <span class="o">|</span> <span class="n">yes</span>
    <span class="mi">501</span> <span class="o">|</span> <span class="n">apartments</span>
<span class="p">(</span><span class="mi">9</span> <span class="n">rows</span><span class="p">)</span>

</pre></div>
</div>
</div>
</div>
<p>For this exercise, the population will be set as follows:</p>
<ul class="simple">
<li><p>Negligible:</p>
<ul>
<li><p>People do not live in these places.</p></li>
<li><p>Population: 1 person</p>
<ul>
<li><p>There may be people guarding the place.</p></li>
</ul>
</li>
</ul>
</li>
<li><p>Very Sparse:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">retail</span></code>, <code class="docutils literal notranslate"><span class="pre">commercial</span></code>, <code class="docutils literal notranslate"><span class="pre">school</span></code></p></li>
<li><p>People do not live in these places.</p></li>
<li><p>Population: At least 2 persons.</p>
<ul>
<li><p>Because there may be people guarding the place.</p></li>
</ul>
</li>
</ul>
</li>
<li><p>Sparse:</p>
<ul>
<li><p>Buildings with low population density, like <code class="docutils literal notranslate"><span class="pre">university</span></code>.</p></li>
<li><p>Population: At least 3 persons.</p>
<ul>
<li><p>Because there may be people guarding the place.</p></li>
<li><p>Students might live there.</p></li>
</ul>
</li>
</ul>
</li>
<li><p>Moderate:</p>
<ul>
<li><p>Location where people might be living temporarly, like <code class="docutils literal notranslate"><span class="pre">hotel</span></code> and
<code class="docutils literal notranslate"><span class="pre">hospital</span></code>.</p></li>
<li><p>Population: At least 5 persons.</p></li>
</ul>
</li>
<li><p>Dense:</p>
<ul>
<li><p>A medium sized residential building.</p></li>
<li><p>Population: At least 7 persons.</p></li>
</ul>
</li>
<li><p>Very Dense:</p>
<ul>
<li><p>A large sized residential building, like <code class="docutils literal notranslate"><span class="pre">apartments</span></code>.</p></li>
<li><p>Population: At least 10 persons.</p></li>
</ul>
</li>
</ul>
<p>Reference: <a class="reference internal" href="data.html#appendix"><span class="std std-ref">Appendix</span></a></p>
<p>This class-specific factor is multiplied with the area of each building to get
the population. Follow the steps given below to complete this task.</p>
<ol class="arabic simple">
<li><p>Create a function to find population using class-specific factor and area.</p></li>
</ol>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">OR</span><span class="w"> </span><span class="k">REPLACE</span><span class="w"> </span><span class="k">FUNCTION</span><span class="w">  </span><span class="n">population</span><span class="p">(</span><span class="n">tag_id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span><span class="n">area</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">AS</span>
<span class="err">$</span><span class="n">BODY$</span>
<span class="k">DECLARE</span>
<span class="n">population</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">;</span>
<span class="k">BEGIN</span>
<span class="w">  </span><span class="k">IF</span><span class="w"> </span><span class="n">tag_id</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="n">population</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="c1">-- Negligible</span>
<span class="w">  </span><span class="k">ELSIF</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">tag_id</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">tag_id</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="k">THEN</span><span class="w">  </span><span class="n">population</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GREATEST</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">area</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">0002</span><span class="p">);</span><span class="w"> </span><span class="c1">-- Very Sparse</span>
<span class="w">  </span><span class="k">ELSIF</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">tag_id</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">tag_id</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">300</span><span class="w"> </span><span class="k">THEN</span><span class="w">  </span><span class="n">population</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GREATEST</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">area</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">002</span><span class="p">);</span><span class="w"> </span><span class="c1">-- Sparse</span>
<span class="w">  </span><span class="k">ELSIF</span><span class="w"> </span><span class="mi">300</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">tag_id</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">tag_id</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">400</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="n">population</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GREATEST</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w">  </span><span class="n">area</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">05</span><span class="p">);</span><span class="w"> </span><span class="c1">-- Moderate</span>
<span class="w">  </span><span class="k">ELSIF</span><span class="w"> </span><span class="mi">400</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">tag_id</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">tag_id</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">500</span><span class="w">  </span><span class="k">THEN</span><span class="w"> </span><span class="n">population</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GREATEST</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="n">area</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">7</span><span class="p">);</span><span class="w"> </span><span class="c1">-- Dense</span>
<span class="w">  </span><span class="k">ELSIF</span><span class="w"> </span><span class="n">tag_id</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">500</span><span class="w">  </span><span class="k">THEN</span><span class="w"> </span><span class="n">population</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GREATEST</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="n">area</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span><span class="w"> </span><span class="c1">-- Very Dense</span>
<span class="w">  </span><span class="k">ELSE</span><span class="w"> </span><span class="n">population</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">  </span><span class="k">END</span><span class="w"> </span><span class="k">IF</span><span class="p">;</span>
<span class="w">  </span><span class="k">RETURN</span><span class="w"> </span><span class="n">population</span><span class="p">;</span>
<span class="k">END</span><span class="p">;</span>
<span class="err">$</span><span class="n">BODY$</span>
<span class="k">LANGUAGE</span><span class="w"> </span><span class="n">plpgsql</span><span class="p">;</span>
</pre></div>
</div>
<div class="sphinx_collapse docutils container">
<input class="sphinx_collapse__input" id="c2b72630-a896-4946-88e9-0db55e9bc160" name="c2b72630-a896-4946-88e9-0db55e9bc160" type="checkbox"><label class="sphinx_collapse__label" for="c2b72630-a896-4946-88e9-0db55e9bc160"><i class="sphinx_collapse__icon"></i>Query Results</label><div class="sphinx_collapse__content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CREATE</span> <span class="n">FUNCTION</span>
</pre></div>
</div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All these are estimations based on this particular area. More complicated
functions can be done that consider height of the apartments but the
design of a function is going to depend on the availability of the data.
For example, using census data can achieve more accurate estimation.</p>
</div>
<ol class="arabic simple" start="2">
<li><p>Add a column for storing the population in the <code class="docutils literal notranslate"><span class="pre">buildings_ways</span></code></p></li>
</ol>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">buildings_ways</span><span class="w"> </span><span class="k">ADD</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="n">population</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">;</span>
</pre></div>
</div>
<div class="sphinx_collapse docutils container">
<input class="sphinx_collapse__input" id="3dad598d-a0b6-4626-8e05-631f5cb142c7" name="3dad598d-a0b6-4626-8e05-631f5cb142c7" type="checkbox"><label class="sphinx_collapse__label" for="3dad598d-a0b6-4626-8e05-631f5cb142c7"><i class="sphinx_collapse__icon"></i>Query Results</label><div class="sphinx_collapse__content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ALTER</span> <span class="n">TABLE</span>
</pre></div>
</div>
</div>
</div>
<p>3. Use the <code class="docutils literal notranslate"><span class="pre">population</span></code> function to store the population in the new column created
in the <code class="docutils literal notranslate"><span class="pre">building_ways</span></code>.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">UPDATE</span><span class="w"> </span><span class="n">buildings_ways</span>
<span class="k">SET</span><span class="w"> </span><span class="n">population</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">population</span><span class="p">(</span><span class="n">tag_id</span><span class="p">,</span><span class="n">area</span><span class="p">);</span>
</pre></div>
</div>
<div class="sphinx_collapse docutils container">
<input class="sphinx_collapse__input" id="19d30865-e8fb-4fb1-8fd4-49a60511afa2" name="19d30865-e8fb-4fb1-8fd4-49a60511afa2" type="checkbox"><label class="sphinx_collapse__label" for="19d30865-e8fb-4fb1-8fd4-49a60511afa2"><i class="sphinx_collapse__icon"></i>Query Results</label><div class="sphinx_collapse__content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">UPDATE</span> <span class="mi">1049</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="preprocessing-roads">
<h3><a class="toc-backref" href="#id18" role="doc-backlink"><span class="section-number">3.3.3. </span>Preprocessing Roads</a><a class="headerlink" href="#preprocessing-roads" title="Link to this heading">¶</a></h3>
<p>pgRouting algorithms are only useful when the road network belongs to a single
graph (or all the roads are connected to each other). Hence, the disconnected
roads have to be removed from their network to get appropriate results.
This image gives an example of the disconnected edges.</p>
<a class="reference internal image-reference" href="../_images/remove_disconnected_roads.png"><img alt="../_images/remove_disconnected_roads.png" class="align-center" src="../_images/remove_disconnected_roads.png" style="width: 385.8px; height: 293.4px;" />
</a>
<p>For example, in the above figure roads with label <code class="docutils literal notranslate"><span class="pre">119</span></code> are disconnected from
the network. Hence they will have same connected component number. But the count
of this number will be less count of fully connected network. All the edges
with the component number with count less than maximum count will be removed</p>
<p>Follow the steps given below to complete this task.</p>
<section id="exercise-12-remove-disconnected-components">
<h4><a class="toc-backref" href="#id19" role="doc-backlink"><span class="section-number">3.3.3.1. </span>Exercise 12: Remove disconnected components</a><a class="headerlink" href="#exercise-12-remove-disconnected-components" title="Link to this heading">¶</a></h4>
<p>To remove the disconnected components on the road network, the following
pgRouting functions, discussed on <a class="reference internal" href="../basic/graph_views.html"><span class="doc">Graph views</span></a>, will be used:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pgr_extractVertices</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pgr_connectedComponents</span></code></p></li>
</ul>
<p class="rubric">Create a vertices table.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">roads</span><span class="p">.</span><span class="n">roads_vertices</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">pgr_extractVertices</span><span class="p">(</span>
<span class="w">  </span><span class="s1">&#39;SELECT gid AS id, source, target</span>
<span class="s1">  FROM roads.roads_ways ORDER BY id&#39;</span><span class="p">);</span>
</pre></div>
</div>
<div class="sphinx_collapse docutils container">
<input class="sphinx_collapse__input" id="e3823f0b-1a22-428e-975b-5802dc426f7e" name="e3823f0b-1a22-428e-975b-5802dc426f7e" type="checkbox"><label class="sphinx_collapse__label" for="e3823f0b-1a22-428e-975b-5802dc426f7e"><i class="sphinx_collapse__icon"></i>Query Results</label><div class="sphinx_collapse__content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</div>
<p class="rubric">Fill up the <code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code> and <code class="docutils literal notranslate"><span class="pre">geom</span></code> columns.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">UPDATE</span><span class="w"> </span><span class="n">roads_vertices</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="n">geom</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ST_startPoint</span><span class="p">(</span><span class="n">the_geom</span><span class="p">)</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">roads_ways</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="k">source</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">id</span><span class="p">;</span>

<span class="k">UPDATE</span><span class="w"> </span><span class="n">roads_vertices</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="n">geom</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ST_endPoint</span><span class="p">(</span><span class="n">the_geom</span><span class="p">)</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">roads_ways</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">geom</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">target</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">id</span><span class="p">;</span>

<span class="k">UPDATE</span><span class="w"> </span><span class="n">roads_vertices</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">ST_X</span><span class="p">(</span><span class="n">geom</span><span class="p">),</span><span class="w"> </span><span class="n">ST_Y</span><span class="p">(</span><span class="n">geom</span><span class="p">));</span>
</pre></div>
</div>
<div class="sphinx_collapse docutils container">
<input class="sphinx_collapse__input" id="e8c6aea1-20be-4ab5-91fc-c6a8ac54b899" name="e8c6aea1-20be-4ab5-91fc-c6a8ac54b899" type="checkbox"><label class="sphinx_collapse__label" for="e8c6aea1-20be-4ab5-91fc-c6a8ac54b899"><i class="sphinx_collapse__icon"></i>Query Results</label><div class="sphinx_collapse__content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">UPDATE</span> <span class="mi">327</span>
<span class="n">UPDATE</span> <span class="mi">0</span>
<span class="n">UPDATE</span> <span class="mi">353</span>
</pre></div>
</div>
</div>
</div>
<p class="rubric">Add a <code class="docutils literal notranslate"><span class="pre">component</span></code> column on the edges and vertices tables.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">roads_ways</span><span class="w"> </span><span class="k">ADD</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="n">component</span><span class="w"> </span><span class="nb">BIGINT</span><span class="p">;</span>
<span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">roads_vertices</span><span class="w"> </span><span class="k">ADD</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="n">component</span><span class="w"> </span><span class="nb">BIGINT</span><span class="p">;</span>
</pre></div>
</div>
<div class="sphinx_collapse docutils container">
<input class="sphinx_collapse__input" id="53a5d530-cfec-4749-ba75-b97929a4e150" name="53a5d530-cfec-4749-ba75-b97929a4e150" type="checkbox"><label class="sphinx_collapse__label" for="53a5d530-cfec-4749-ba75-b97929a4e150"><i class="sphinx_collapse__icon"></i>Query Results</label><div class="sphinx_collapse__content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</div>
<p class="rubric">Fill up the <code class="docutils literal notranslate"><span class="pre">component</span></code> column on the vertices table.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">UPDATE</span><span class="w"> </span><span class="n">roads_vertices</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="n">component</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">c</span><span class="p">.</span><span class="n">component</span>
<span class="k">FROM</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">pgr_connectedComponents</span><span class="p">(</span>
<span class="w">  </span><span class="s1">&#39;SELECT gid as id, source, target, cost, reverse_cost FROM roads_ways&#39;</span><span class="p">)</span>
<span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="k">c</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">node</span><span class="p">;</span>
</pre></div>
</div>
<div class="sphinx_collapse docutils container">
<input class="sphinx_collapse__input" id="d51d2259-b3fc-4ac7-8f65-7a06fc582696" name="d51d2259-b3fc-4ac7-8f65-7a06fc582696" type="checkbox"><label class="sphinx_collapse__label" for="d51d2259-b3fc-4ac7-8f65-7a06fc582696"><i class="sphinx_collapse__icon"></i>Query Results</label><div class="sphinx_collapse__content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">UPDATE</span> <span class="mi">353</span>
</pre></div>
</div>
</div>
</div>
<p class="rubric">Fill up the <code class="docutils literal notranslate"><span class="pre">component</span></code> column on the edges table.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">UPDATE</span><span class="w"> </span><span class="n">roads_ways</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="n">component</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v</span><span class="p">.</span><span class="n">component</span>
<span class="k">FROM</span><span class="w"> </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">component</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">roads_vertices</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">v</span>
<span class="k">WHERE</span><span class="w"> </span><span class="k">source</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v</span><span class="p">.</span><span class="n">id</span><span class="p">;</span>
</pre></div>
</div>
<div class="sphinx_collapse docutils container">
<input class="sphinx_collapse__input" id="3e22ef53-8eec-4ab5-b83b-dde7028b2942" name="3e22ef53-8eec-4ab5-b83b-dde7028b2942" type="checkbox"><label class="sphinx_collapse__label" for="3e22ef53-8eec-4ab5-b83b-dde7028b2942"><i class="sphinx_collapse__icon"></i>Query Results</label><div class="sphinx_collapse__content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">UPDATE</span> <span class="mi">529</span>
</pre></div>
</div>
</div>
</div>
<p class="rubric">Get the component number with the most number of edges.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">WITH</span>
<span class="n">all_components</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="n">component</span><span class="p">,</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">roads_ways</span><span class="w"> </span><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">component</span><span class="p">),</span>
<span class="n">max_component</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="k">max</span><span class="p">(</span><span class="k">count</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">all_components</span><span class="p">)</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">component</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">all_components</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="k">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="k">max</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">max_component</span><span class="p">);</span>
</pre></div>
</div>
<div class="sphinx_collapse docutils container">
<input class="sphinx_collapse__input" id="f35e7da4-91e2-43c5-98f5-d1ee89959537" name="f35e7da4-91e2-43c5-98f5-d1ee89959537" type="checkbox"><label class="sphinx_collapse__label" for="f35e7da4-91e2-43c5-98f5-d1ee89959537"><i class="sphinx_collapse__icon"></i>Query Results</label><div class="sphinx_collapse__content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">component</span> 
<span class="o">-----------</span>
         <span class="mi">1</span>
<span class="p">(</span><span class="mi">1</span> <span class="n">row</span><span class="p">)</span>

</pre></div>
</div>
</div>
</div>
<p class="rubric">Delete edges not belonging to the most connected component.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">WITH</span>
<span class="n">all_components</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="n">component</span><span class="p">,</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">roads_ways</span><span class="w"> </span><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">component</span><span class="p">),</span>
<span class="n">max_component</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="k">max</span><span class="p">(</span><span class="k">count</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">all_components</span><span class="p">),</span>
<span class="n">the_component</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="n">component</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">all_components</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="k">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="k">max</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">max_component</span><span class="p">))</span>
<span class="k">DELETE</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">roads_ways</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">component</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="n">component</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">the_component</span><span class="p">);</span>
</pre></div>
</div>
<div class="sphinx_collapse docutils container">
<input class="sphinx_collapse__input" id="9b426ce3-cc27-486f-ad47-7188e06eb701" name="9b426ce3-cc27-486f-ad47-7188e06eb701" type="checkbox"><label class="sphinx_collapse__label" for="9b426ce3-cc27-486f-ad47-7188e06eb701"><i class="sphinx_collapse__icon"></i>Query Results</label><div class="sphinx_collapse__content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DELETE</span> <span class="mi">0</span>
</pre></div>
</div>
</div>
</div>
<p class="rubric">Delete vertices not belonging to the most connected component.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">WITH</span>
<span class="n">all_components</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="n">component</span><span class="p">,</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">roads_vertices</span><span class="w"> </span><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">component</span><span class="p">),</span>
<span class="n">max_component</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="k">max</span><span class="p">(</span><span class="k">count</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">all_components</span><span class="p">),</span>
<span class="n">the_component</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="n">component</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">all_components</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="k">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="k">max</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">max_component</span><span class="p">))</span>
<span class="k">DELETE</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">roads_vertices</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">component</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="n">component</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">the_component</span><span class="p">);</span>
</pre></div>
</div>
<div class="sphinx_collapse docutils container">
<input class="sphinx_collapse__input" id="aaa22f8f-f693-4e6a-95ab-91317bd00da7" name="aaa22f8f-f693-4e6a-95ab-91317bd00da7" type="checkbox"><label class="sphinx_collapse__label" for="aaa22f8f-f693-4e6a-95ab-91317bd00da7"><i class="sphinx_collapse__icon"></i>Query Results</label><div class="sphinx_collapse__content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DELETE</span> <span class="mi">0</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="find-the-roads-served-by-the-hospitals">
<h2><a class="toc-backref" href="#id20" role="doc-backlink"><span class="section-number">3.4. </span>Find the roads served by the hospitals</a><a class="headerlink" href="#find-the-roads-served-by-the-hospitals" title="Link to this heading">¶</a></h2>
<p>After pre-processing the data, next step is to find the area served by the
hospital. This area can be computed from the entrance of the hospital or from any
point on road near the hospital. In this exercise it is computed from closest
road vertex. <code class="docutils literal notranslate"><span class="pre">pgr_drivingDistance</span></code> will be used to find the roads served. The
steps to be followed are:</p>
<ul class="simple">
<li><p>Finding the closest road vertex</p></li>
<li><p>Finding the roads served</p></li>
<li><p>Generalising the roads served</p></li>
</ul>
<section id="pgr-drivingdistance">
<h3><a class="toc-backref" href="#id21" role="doc-backlink"><span class="section-number">3.4.1. </span>pgr_drivingDistance</a><a class="headerlink" href="#pgr-drivingdistance" title="Link to this heading">¶</a></h3>
<p>For the next step <code class="docutils literal notranslate"><span class="pre">pgr_drivingDistance</span></code> will be used. This returns the driving
distance from a start node. It uses the Dijkstra algorithm to extract all the nodes
that have costs less than or equal to the value distance. The edges that are extracted
conform to the corresponding spanning tree.</p>
<p class="rubric">Signatures</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="n">pgr_drivingDistance</span><span class="p">(</span><span class="n">edges_sql</span><span class="p">,</span><span class="w"> </span><span class="n">start_vid</span><span class="p">,</span><span class="w">  </span><span class="n">distance</span><span class="w"> </span><span class="p">[,</span><span class="w"> </span><span class="n">directed</span><span class="p">])</span>
<span class="n">pgr_drivingDistance</span><span class="p">(</span><span class="n">edges_sql</span><span class="p">,</span><span class="w"> </span><span class="n">start_vids</span><span class="p">,</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="p">[,</span><span class="w"> </span><span class="n">directed</span><span class="p">]</span><span class="w"> </span><span class="p">[,</span><span class="w"> </span><span class="n">equicost</span><span class="p">])</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="k">OF</span><span class="w"> </span><span class="p">(</span><span class="n">seq</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="n">start_vid</span><span class="p">,]</span><span class="w"> </span><span class="n">node</span><span class="p">,</span><span class="w"> </span><span class="n">edge</span><span class="p">,</span><span class="w"> </span><span class="n">cost</span><span class="p">,</span><span class="w"> </span><span class="n">agg_cost</span><span class="p">)</span>
</pre></div>
</div>
<p><a class="reference external" href="https://docs.pgrouting.org/3.1/en/pgr_drivingDistance">pgr_drivingDistance Documentation</a>
can be found at this link for more information.</p>
</section>
<section id="exercise-13-find-the-closest-road-vertex">
<h3><a class="toc-backref" href="#id22" role="doc-backlink"><span class="section-number">3.4.2. </span>Exercise 13: Find the closest road vertex</a><a class="headerlink" href="#exercise-13-find-the-closest-road-vertex" title="Link to this heading">¶</a></h3>
<p>There are multiple road vertices near the hospital. Create a function to find
the geographically closest road vertex. <code class="docutils literal notranslate"><span class="pre">closest_vertex</span></code> function takes geometry
of other table as input and gives the gid of the closest vertex as output by
comparing <code class="docutils literal notranslate"><span class="pre">geom</span></code> of both the tables.</p>
<a class="reference internal image-reference" href="../_images/finding_closest_vertex.png"><img alt="../_images/finding_closest_vertex.png" class="align-center" src="../_images/finding_closest_vertex.png" style="width: 404.5px; height: 300.5px;" />
</a>
<p>The following query creates a function to find the closest road vertex.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">OR</span><span class="w"> </span><span class="k">REPLACE</span><span class="w"> </span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">closest_vertex</span><span class="p">(</span><span class="n">geom</span><span class="w"> </span><span class="n">GEOMETRY</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="nb">BIGINT</span><span class="w"> </span><span class="k">AS</span>
<span class="err">$</span><span class="n">BODY$</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">roads_vertices</span><span class="w"> </span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">geom</span><span class="w"> </span><span class="o">&lt;-&gt;</span><span class="w"> </span><span class="err">$</span><span class="mi">1</span><span class="w"> </span><span class="k">LIMIT</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="err">$</span><span class="n">BODY$</span>
<span class="k">LANGUAGE</span><span class="w"> </span><span class="k">SQL</span><span class="p">;</span>
</pre></div>
</div>
<div class="sphinx_collapse docutils container">
<input class="sphinx_collapse__input" id="0ef9d9f7-d02e-4b60-9042-fc923be32a5a" name="0ef9d9f7-d02e-4b60-9042-fc923be32a5a" type="checkbox"><label class="sphinx_collapse__label" for="0ef9d9f7-d02e-4b60-9042-fc923be32a5a"><i class="sphinx_collapse__icon"></i>Query Results</label><div class="sphinx_collapse__content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CREATE</span> <span class="n">FUNCTION</span>
</pre></div>
</div>
</div>
</div>
<p>Testing the function</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="n">closest_vertex</span><span class="p">(</span><span class="n">poly_geom</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">buildings_ways</span><span class="p">;</span>
</pre></div>
</div>
<div class="sphinx_collapse docutils container">
<input class="sphinx_collapse__input" id="580c6b35-a072-45f8-813b-1676da239984" name="580c6b35-a072-45f8-813b-1676da239984" type="checkbox"><label class="sphinx_collapse__label" for="580c6b35-a072-45f8-813b-1676da239984"><i class="sphinx_collapse__icon"></i>Query Results</label><div class="sphinx_collapse__content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">closest_vertex</span> 
<span class="o">----------------</span>
            <span class="mi">293</span>
            <span class="mi">120</span>
            <span class="mi">120</span>
            <span class="mi">234</span>
            <span class="mi">112</span>
             <span class="mi">99</span>
            <span class="mi">241</span>
            <span class="mi">153</span>
            <span class="mi">360</span>
             <span class="mi">41</span>
            <span class="mi">257</span>
            <span class="mi">374</span>
            <span class="mi">206</span>
            <span class="mi">174</span>
            <span class="mi">287</span>
            <span class="mi">235</span>
            <span class="mi">235</span>
            <span class="mi">100</span>
            <span class="mi">328</span>
            <span class="mi">185</span>
            <span class="mi">328</span>
            <span class="mi">175</span>
            <span class="mi">226</span>
             <span class="mi">72</span>
            <span class="mi">224</span>
             <span class="mi">37</span>
             <span class="mi">37</span>
            <span class="mi">375</span>
            <span class="mi">375</span>
            <span class="mi">312</span>
            <span class="mi">312</span>
            <span class="mi">312</span>
            <span class="mi">312</span>
            <span class="mi">311</span>
            <span class="mi">311</span>
            <span class="mi">311</span>
            <span class="mi">311</span>
            <span class="mi">311</span>
            <span class="mi">311</span>
            <span class="mi">103</span>
            <span class="mi">183</span>
            <span class="mi">120</span>
            <span class="mi">183</span>
            <span class="mi">120</span>
            <span class="mi">183</span>
            <span class="mi">183</span>
            <span class="mi">270</span>
            <span class="mi">267</span>
            <span class="mi">120</span>
            <span class="mi">183</span>
            <span class="mi">267</span>
            <span class="mi">270</span>
            <span class="mi">267</span>
            <span class="mi">270</span>
              <span class="mi">3</span>
              <span class="mi">3</span>
            <span class="mi">175</span>
            <span class="mi">121</span>
            <span class="mi">121</span>
              <span class="mi">3</span>
            <span class="mi">141</span>
             <span class="mi">64</span>
            <span class="mi">141</span>
             <span class="mi">53</span>
            <span class="mi">276</span>
            <span class="mi">276</span>
              <span class="mi">5</span>
             <span class="mi">65</span>
             <span class="mi">50</span>
             <span class="mi">32</span>
             <span class="mi">32</span>
             <span class="mi">31</span>
             <span class="mi">49</span>
             <span class="mi">26</span>
              <span class="mi">5</span>
             <span class="mi">49</span>
             <span class="mi">31</span>
             <span class="mi">16</span>
             <span class="mi">15</span>
            <span class="mi">295</span>
             <span class="mi">31</span>
             <span class="mi">26</span>
              <span class="mi">6</span>
             <span class="mi">76</span>
             <span class="mi">30</span>
            <span class="mi">295</span>
             <span class="mi">26</span>
             <span class="mi">16</span>
            <span class="mi">295</span>
             <span class="mi">26</span>
             <span class="mi">26</span>
             <span class="mi">29</span>
             <span class="mi">75</span>
             <span class="mi">27</span>
             <span class="mi">75</span>
             <span class="mi">27</span>
             <span class="mi">28</span>
             <span class="mi">26</span>
             <span class="mi">15</span>
             <span class="mi">47</span>
             <span class="mi">26</span>
             <span class="mi">45</span>
              <span class="mi">6</span>
             <span class="mi">48</span>
             <span class="mi">75</span>
             <span class="mi">46</span>
             <span class="mi">26</span>
             <span class="mi">46</span>
             <span class="mi">43</span>
             <span class="mi">45</span>
             <span class="mi">45</span>
             <span class="mi">46</span>
             <span class="mi">45</span>
             <span class="mi">61</span>
            <span class="mi">283</span>
             <span class="mi">46</span>
             <span class="mi">15</span>
             <span class="mi">46</span>
             <span class="mi">15</span>
             <span class="mi">46</span>
             <span class="mi">45</span>
             <span class="mi">15</span>
             <span class="mi">45</span>
            <span class="mi">278</span>
            <span class="mi">278</span>
             <span class="mi">45</span>
            <span class="mi">281</span>
             <span class="mi">45</span>
             <span class="mi">15</span>
             <span class="mi">46</span>
             <span class="mi">14</span>
            <span class="mi">257</span>
             <span class="mi">62</span>
             <span class="mi">62</span>
             <span class="mi">14</span>
            <span class="mi">206</span>
             <span class="mi">84</span>
             <span class="mi">84</span>
            <span class="mi">206</span>
            <span class="mi">206</span>
             <span class="mi">84</span>
            <span class="mi">206</span>
             <span class="mi">14</span>
             <span class="mi">84</span>
             <span class="mi">84</span>
             <span class="mi">84</span>
             <span class="mi">84</span>
             <span class="mi">63</span>
             <span class="mi">16</span>
            <span class="mi">174</span>
            <span class="mi">169</span>
            <span class="mi">168</span>
            <span class="mi">167</span>
            <span class="mi">168</span>
            <span class="mi">167</span>
            <span class="mi">167</span>
            <span class="mi">168</span>
            <span class="mi">167</span>
            <span class="mi">168</span>
            <span class="mi">166</span>
            <span class="mi">167</span>
            <span class="mi">168</span>
            <span class="mi">167</span>
            <span class="mi">166</span>
            <span class="mi">165</span>
            <span class="mi">165</span>
            <span class="mi">142</span>
            <span class="mi">143</span>
            <span class="mi">144</span>
            <span class="mi">142</span>
            <span class="mi">144</span>
            <span class="mi">144</span>
            <span class="mi">143</span>
            <span class="mi">142</span>
            <span class="mi">143</span>
            <span class="mi">102</span>
            <span class="mi">110</span>
            <span class="mi">144</span>
            <span class="mi">110</span>
            <span class="mi">143</span>
            <span class="mi">102</span>
            <span class="mi">110</span>
             <span class="mi">35</span>
            <span class="mi">110</span>
            <span class="mi">144</span>
            <span class="mi">144</span>
            <span class="mi">142</span>
            <span class="mi">144</span>
            <span class="mi">142</span>
            <span class="mi">143</span>
            <span class="mi">159</span>
            <span class="mi">159</span>
            <span class="mi">159</span>
            <span class="mi">342</span>
            <span class="mi">162</span>
            <span class="mi">179</span>
            <span class="mi">159</span>
            <span class="mi">110</span>
            <span class="mi">110</span>
            <span class="mi">142</span>
            <span class="mi">143</span>
            <span class="mi">180</span>
            <span class="mi">102</span>
            <span class="mi">142</span>
             <span class="mi">35</span>
            <span class="mi">143</span>
            <span class="mi">162</span>
            <span class="mi">343</span>
            <span class="mi">146</span>
            <span class="mi">115</span>
            <span class="mi">142</span>
            <span class="mi">146</span>
            <span class="mi">159</span>
            <span class="mi">143</span>
            <span class="mi">143</span>
            <span class="mi">146</span>
            <span class="mi">104</span>
            <span class="mi">342</span>
            <span class="mi">115</span>
            <span class="mi">102</span>
            <span class="mi">142</span>
            <span class="mi">142</span>
            <span class="mi">115</span>
            <span class="mi">110</span>
            <span class="mi">342</span>
            <span class="mi">343</span>
            <span class="mi">110</span>
            <span class="mi">110</span>
            <span class="mi">343</span>
            <span class="mi">146</span>
            <span class="mi">144</span>
            <span class="mi">146</span>
            <span class="mi">143</span>
            <span class="mi">146</span>
            <span class="mi">144</span>
            <span class="mi">142</span>
            <span class="mi">146</span>
            <span class="mi">133</span>
            <span class="mi">159</span>
            <span class="mi">342</span>
            <span class="mi">186</span>
            <span class="mi">133</span>
            <span class="mi">110</span>
            <span class="mi">143</span>
            <span class="mi">143</span>
            <span class="mi">144</span>
            <span class="mi">342</span>
            <span class="mi">142</span>
             <span class="mi">99</span>
            <span class="mi">133</span>
            <span class="mi">143</span>
            <span class="mi">331</span>
            <span class="mi">133</span>
            <span class="mi">105</span>
            <span class="mi">130</span>
            <span class="mi">144</span>
            <span class="mi">342</span>
            <span class="mi">115</span>
            <span class="mi">173</span>
            <span class="mi">133</span>
            <span class="mi">143</span>
            <span class="mi">144</span>
            <span class="mi">144</span>
            <span class="mi">311</span>
            <span class="mi">133</span>
            <span class="mi">173</span>
            <span class="mi">340</span>
            <span class="mi">311</span>
            <span class="mi">311</span>
             <span class="mi">99</span>
            <span class="mi">311</span>
            <span class="mi">146</span>
            <span class="mi">145</span>
            <span class="mi">311</span>
            <span class="mi">105</span>
            <span class="mi">116</span>
            <span class="mi">186</span>
            <span class="mi">340</span>
             <span class="mi">99</span>
            <span class="mi">311</span>
            <span class="mi">133</span>
            <span class="mi">130</span>
            <span class="mi">311</span>
            <span class="mi">331</span>
             <span class="mi">99</span>
            <span class="mi">331</span>
            <span class="mi">133</span>
            <span class="mi">133</span>
            <span class="mi">129</span>
            <span class="mi">173</span>
            <span class="mi">186</span>
            <span class="mi">133</span>
            <span class="mi">133</span>
            <span class="mi">173</span>
             <span class="mi">98</span>
            <span class="mi">311</span>
            <span class="mi">311</span>
            <span class="mi">117</span>
            <span class="mi">331</span>
             <span class="mi">99</span>
            <span class="mi">311</span>
            <span class="mi">109</span>
            <span class="mi">118</span>
            <span class="mi">145</span>
            <span class="mi">133</span>
            <span class="mi">133</span>
            <span class="mi">311</span>
            <span class="mi">126</span>
            <span class="mi">238</span>
            <span class="mi">238</span>
             <span class="mi">99</span>
            <span class="mi">101</span>
            <span class="mi">130</span>
            <span class="mi">109</span>
             <span class="mi">98</span>
             <span class="mi">98</span>
            <span class="mi">118</span>
            <span class="mi">118</span>
            <span class="mi">312</span>
            <span class="mi">145</span>
             <span class="mi">99</span>
            <span class="mi">117</span>
            <span class="mi">238</span>
            <span class="mi">125</span>
            <span class="mi">109</span>
            <span class="mi">339</span>
            <span class="mi">125</span>
            <span class="mi">149</span>
            <span class="mi">109</span>
            <span class="mi">129</span>
             <span class="mi">98</span>
            <span class="mi">181</span>
            <span class="mi">152</span>
            <span class="mi">151</span>
            <span class="mi">152</span>
            <span class="mi">109</span>
             <span class="mi">98</span>
            <span class="mi">152</span>
             <span class="mi">97</span>
            <span class="mi">129</span>
             <span class="mi">99</span>
             <span class="mi">98</span>
            <span class="mi">132</span>
            <span class="mi">132</span>
             <span class="mi">99</span>
            <span class="mi">145</span>
            <span class="mi">149</span>
            <span class="mi">339</span>
             <span class="mi">99</span>
            <span class="mi">152</span>
            <span class="mi">339</span>
            <span class="mi">125</span>
            <span class="mi">109</span>
            <span class="mi">125</span>
             <span class="mi">97</span>
            <span class="mi">125</span>
            <span class="mi">101</span>
            <span class="mi">101</span>
            <span class="mi">129</span>
            <span class="mi">101</span>
            <span class="mi">152</span>
            <span class="mi">132</span>
            <span class="mi">109</span>
            <span class="mi">101</span>
            <span class="mi">151</span>
            <span class="mi">337</span>
            <span class="mi">149</span>
            <span class="mi">149</span>
            <span class="mi">151</span>
            <span class="mi">109</span>
            <span class="mi">101</span>
            <span class="mi">125</span>
            <span class="mi">132</span>
            <span class="mi">109</span>
            <span class="mi">132</span>
            <span class="mi">129</span>
            <span class="mi">337</span>
            <span class="mi">151</span>
            <span class="mi">149</span>
            <span class="mi">109</span>
            <span class="mi">129</span>
            <span class="mi">145</span>
            <span class="mi">101</span>
             <span class="mi">97</span>
            <span class="mi">132</span>
            <span class="mi">125</span>
            <span class="mi">152</span>
            <span class="mi">337</span>
            <span class="mi">337</span>
            <span class="mi">151</span>
            <span class="mi">337</span>
            <span class="mi">129</span>
            <span class="mi">109</span>
            <span class="mi">125</span>
            <span class="mi">101</span>
             <span class="mi">97</span>
            <span class="mi">293</span>
            <span class="mi">132</span>
            <span class="mi">181</span>
            <span class="mi">337</span>
            <span class="mi">337</span>
            <span class="mi">293</span>
            <span class="mi">129</span>
            <span class="mi">132</span>
            <span class="mi">293</span>
            <span class="mi">337</span>
            <span class="mi">337</span>
            <span class="mi">107</span>
            <span class="mi">129</span>
            <span class="mi">293</span>
            <span class="mi">124</span>
            <span class="mi">124</span>
            <span class="mi">103</span>
            <span class="mi">107</span>
            <span class="mi">107</span>
            <span class="mi">128</span>
            <span class="mi">148</span>
            <span class="mi">182</span>
            <span class="mi">150</span>
            <span class="mi">107</span>
            <span class="mi">337</span>
            <span class="mi">103</span>
            <span class="mi">128</span>
            <span class="mi">124</span>
            <span class="mi">293</span>
            <span class="mi">103</span>
            <span class="mi">107</span>
            <span class="mi">107</span>
            <span class="mi">150</span>
            <span class="mi">182</span>
            <span class="mi">108</span>
            <span class="mi">150</span>
            <span class="mi">108</span>
            <span class="mi">107</span>
            <span class="mi">103</span>
            <span class="mi">293</span>
            <span class="mi">107</span>
            <span class="mi">107</span>
            <span class="mi">182</span>
            <span class="mi">128</span>
            <span class="mi">107</span>
            <span class="mi">108</span>
            <span class="mi">150</span>
            <span class="mi">107</span>
            <span class="mi">124</span>
            <span class="mi">124</span>
            <span class="mi">107</span>
            <span class="mi">106</span>
            <span class="mi">103</span>
            <span class="mi">103</span>
            <span class="mi">293</span>
            <span class="mi">112</span>
            <span class="mi">128</span>
            <span class="mi">150</span>
            <span class="mi">103</span>
            <span class="mi">148</span>
            <span class="mi">108</span>
            <span class="mi">128</span>
            <span class="mi">107</span>
            <span class="mi">108</span>
            <span class="mi">139</span>
            <span class="mi">107</span>
            <span class="mi">107</span>
            <span class="mi">107</span>
            <span class="mi">112</span>
            <span class="mi">107</span>
            <span class="mi">150</span>
            <span class="mi">150</span>
            <span class="mi">128</span>
            <span class="mi">128</span>
            <span class="mi">107</span>
            <span class="mi">124</span>
            <span class="mi">128</span>
            <span class="mi">306</span>
            <span class="mi">124</span>
            <span class="mi">182</span>
            <span class="mi">148</span>
            <span class="mi">107</span>
            <span class="mi">150</span>
            <span class="mi">107</span>
            <span class="mi">306</span>
            <span class="mi">103</span>
            <span class="mi">108</span>
            <span class="mi">306</span>
            <span class="mi">150</span>
            <span class="mi">338</span>
            <span class="mi">150</span>
            <span class="mi">306</span>
            <span class="mi">128</span>
            <span class="mi">124</span>
            <span class="mi">124</span>
            <span class="mi">131</span>
            <span class="mi">333</span>
            <span class="mi">131</span>
            <span class="mi">124</span>
            <span class="mi">119</span>
            <span class="mi">131</span>
            <span class="mi">330</span>
            <span class="mi">127</span>
            <span class="mi">119</span>
            <span class="mi">127</span>
            <span class="mi">333</span>
            <span class="mi">123</span>
            <span class="mi">127</span>
            <span class="mi">127</span>
            <span class="mi">127</span>
            <span class="mi">333</span>
            <span class="mi">119</span>
            <span class="mi">123</span>
            <span class="mi">123</span>
            <span class="mi">123</span>
            <span class="mi">119</span>
            <span class="mi">270</span>
            <span class="mi">333</span>
            <span class="mi">347</span>
             <span class="mi">81</span>
            <span class="mi">267</span>
            <span class="mi">270</span>
             <span class="mi">23</span>
             <span class="mi">23</span>
             <span class="mi">23</span>
             <span class="mi">38</span>
             <span class="mi">38</span>
            <span class="mi">333</span>
             <span class="mi">23</span>
             <span class="mi">23</span>
             <span class="mi">20</span>
            <span class="mi">302</span>
            <span class="mi">302</span>
             <span class="mi">70</span>
             <span class="mi">23</span>
            <span class="mi">332</span>
             <span class="mi">34</span>
             <span class="mi">58</span>
             <span class="mi">19</span>
            <span class="mi">332</span>
             <span class="mi">70</span>
            <span class="mi">332</span>
             <span class="mi">24</span>
             <span class="mi">51</span>
             <span class="mi">58</span>
             <span class="mi">70</span>
             <span class="mi">58</span>
             <span class="mi">56</span>
             <span class="mi">58</span>
             <span class="mi">77</span>
             <span class="mi">69</span>
             <span class="mi">51</span>
             <span class="mi">74</span>
             <span class="mi">34</span>
             <span class="mi">34</span>
             <span class="mi">73</span>
             <span class="mi">69</span>
             <span class="mi">73</span>
             <span class="mi">51</span>
             <span class="mi">33</span>
             <span class="mi">77</span>
             <span class="mi">33</span>
             <span class="mi">58</span>
             <span class="mi">58</span>
             <span class="mi">33</span>
             <span class="mi">39</span>
             <span class="mi">68</span>
             <span class="mi">58</span>
             <span class="mi">33</span>
             <span class="mi">39</span>
             <span class="mi">39</span>
             <span class="mi">40</span>
             <span class="mi">40</span>
             <span class="mi">59</span>
             <span class="mi">49</span>
             <span class="mi">49</span>
             <span class="mi">49</span>
             <span class="mi">60</span>
            <span class="mi">305</span>
             <span class="mi">76</span>
             <span class="mi">60</span>
            <span class="mi">304</span>
            <span class="mi">275</span>
            <span class="mi">305</span>
            <span class="mi">363</span>
             <span class="mi">60</span>
            <span class="mi">305</span>
            <span class="mi">275</span>
            <span class="mi">305</span>
            <span class="mi">275</span>
             <span class="mi">61</span>
            <span class="mi">275</span>
            <span class="mi">274</span>
             <span class="mi">41</span>
            <span class="mi">274</span>
            <span class="mi">274</span>
            <span class="mi">274</span>
             <span class="mi">41</span>
            <span class="mi">274</span>
            <span class="mi">313</span>
            <span class="mi">274</span>
            <span class="mi">313</span>
             <span class="mi">42</span>
             <span class="mi">86</span>
             <span class="mi">41</span>
            <span class="mi">274</span>
            <span class="mi">354</span>
            <span class="mi">354</span>
            <span class="mi">272</span>
            <span class="mi">272</span>
            <span class="mi">354</span>
            <span class="mi">274</span>
             <span class="mi">42</span>
             <span class="mi">42</span>
            <span class="mi">272</span>
            <span class="mi">354</span>
            <span class="mi">354</span>
            <span class="mi">272</span>
            <span class="mi">272</span>
             <span class="mi">42</span>
            <span class="mi">269</span>
            <span class="mi">269</span>
            <span class="mi">206</span>
             <span class="mi">85</span>
            <span class="mi">218</span>
            <span class="mi">218</span>
            <span class="mi">294</span>
            <span class="mi">206</span>
            <span class="mi">206</span>
            <span class="mi">316</span>
            <span class="mi">316</span>
            <span class="mi">332</span>
            <span class="mi">260</span>
            <span class="mi">121</span>
            <span class="mi">316</span>
            <span class="mi">285</span>
             <span class="mi">78</span>
             <span class="mi">78</span>
            <span class="mi">114</span>
            <span class="mi">362</span>
            <span class="mi">260</span>
            <span class="mi">114</span>
             <span class="mi">78</span>
            <span class="mi">285</span>
            <span class="mi">326</span>
            <span class="mi">327</span>
            <span class="mi">308</span>
            <span class="mi">326</span>
            <span class="mi">162</span>
            <span class="mi">326</span>
            <span class="mi">336</span>
            <span class="mi">329</span>
            <span class="mi">239</span>
            <span class="mi">239</span>
            <span class="mi">239</span>
            <span class="mi">240</span>
            <span class="mi">240</span>
            <span class="mi">240</span>
            <span class="mi">303</span>
            <span class="mi">303</span>
            <span class="mi">288</span>
            <span class="mi">177</span>
            <span class="mi">177</span>
             <span class="mi">90</span>
            <span class="mi">326</span>
            <span class="mi">162</span>
            <span class="mi">162</span>
             <span class="mi">10</span>
            <span class="mi">162</span>
            <span class="mi">162</span>
            <span class="mi">108</span>
            <span class="mi">336</span>
            <span class="mi">147</span>
            <span class="mi">329</span>
            <span class="mi">329</span>
             <span class="mi">90</span>
            <span class="mi">356</span>
            <span class="mi">356</span>
            <span class="mi">197</span>
            <span class="mi">354</span>
            <span class="mi">354</span>
             <span class="mi">98</span>
            <span class="mi">152</span>
            <span class="mi">136</span>
            <span class="mi">204</span>
            <span class="mi">293</span>
            <span class="mi">300</span>
            <span class="mi">112</span>
            <span class="mi">148</span>
            <span class="mi">290</span>
            <span class="mi">112</span>
            <span class="mi">112</span>
            <span class="mi">336</span>
            <span class="mi">336</span>
            <span class="mi">329</span>
            <span class="mi">329</span>
            <span class="mi">330</span>
            <span class="mi">329</span>
            <span class="mi">329</span>
            <span class="mi">189</span>
             <span class="mi">81</span>
            <span class="mi">329</span>
            <span class="mi">329</span>
            <span class="mi">347</span>
            <span class="mi">347</span>
            <span class="mi">347</span>
            <span class="mi">189</span>
            <span class="mi">347</span>
            <span class="mi">189</span>
            <span class="mi">303</span>
            <span class="mi">189</span>
            <span class="mi">303</span>
            <span class="mi">346</span>
            <span class="mi">346</span>
            <span class="mi">301</span>
            <span class="mi">346</span>
             <span class="mi">34</span>
            <span class="mi">290</span>
            <span class="mi">290</span>
            <span class="mi">287</span>
            <span class="mi">287</span>
            <span class="mi">291</span>
            <span class="mi">291</span>
            <span class="mi">291</span>
            <span class="mi">286</span>
            <span class="mi">201</span>
            <span class="mi">143</span>
            <span class="mi">102</span>
             <span class="mi">82</span>
             <span class="mi">92</span>
             <span class="mi">90</span>
             <span class="mi">89</span>
             <span class="mi">89</span>
             <span class="mi">89</span>
            <span class="mi">284</span>
            <span class="mi">206</span>
            <span class="mi">206</span>
            <span class="mi">206</span>
            <span class="mi">162</span>
            <span class="mi">162</span>
             <span class="mi">64</span>
             <span class="mi">14</span>
             <span class="mi">10</span>
             <span class="mi">65</span>
             <span class="mi">10</span>
            <span class="mi">375</span>
            <span class="mi">169</span>
            <span class="mi">169</span>
            <span class="mi">168</span>
            <span class="mi">236</span>
            <span class="mi">167</span>
            <span class="mi">167</span>
            <span class="mi">167</span>
            <span class="mi">236</span>
            <span class="mi">164</span>
            <span class="mi">164</span>
            <span class="mi">177</span>
            <span class="mi">177</span>
            <span class="mi">274</span>
             <span class="mi">52</span>
             <span class="mi">52</span>
             <span class="mi">53</span>
             <span class="mi">63</span>
             <span class="mi">63</span>
             <span class="mi">53</span>
             <span class="mi">64</span>
            <span class="mi">333</span>
            <span class="mi">140</span>
            <span class="mi">122</span>
            <span class="mi">207</span>
            <span class="mi">295</span>
            <span class="mi">295</span>
             <span class="mi">88</span>
            <span class="mi">295</span>
            <span class="mi">295</span>
             <span class="mi">15</span>
            <span class="mi">282</span>
            <span class="mi">281</span>
             <span class="mi">46</span>
            <span class="mi">281</span>
            <span class="mi">282</span>
            <span class="mi">282</span>
            <span class="mi">281</span>
            <span class="mi">281</span>
            <span class="mi">281</span>
             <span class="mi">45</span>
             <span class="mi">46</span>
             <span class="mi">94</span>
            <span class="mi">280</span>
            <span class="mi">280</span>
            <span class="mi">279</span>
            <span class="mi">280</span>
            <span class="mi">279</span>
             <span class="mi">44</span>
             <span class="mi">44</span>
             <span class="mi">94</span>
             <span class="mi">94</span>
             <span class="mi">62</span>
            <span class="mi">206</span>
             <span class="mi">62</span>
            <span class="mi">131</span>
             <span class="mi">62</span>
             <span class="mi">62</span>
            <span class="mi">366</span>
            <span class="mi">317</span>
             <span class="mi">10</span>
            <span class="mi">340</span>
            <span class="mi">126</span>
            <span class="mi">238</span>
            <span class="mi">129</span>
            <span class="mi">338</span>
            <span class="mi">106</span>
            <span class="mi">124</span>
            <span class="mi">103</span>
            <span class="mi">103</span>
            <span class="mi">103</span>
            <span class="mi">103</span>
            <span class="mi">124</span>
            <span class="mi">103</span>
            <span class="mi">131</span>
            <span class="mi">128</span>
            <span class="mi">119</span>
            <span class="mi">289</span>
            <span class="mi">138</span>
             <span class="mi">23</span>
             <span class="mi">39</span>
              <span class="mi">6</span>
             <span class="mi">48</span>
             <span class="mi">15</span>
            <span class="mi">304</span>
            <span class="mi">168</span>
            <span class="mi">168</span>
            <span class="mi">166</span>
            <span class="mi">167</span>
            <span class="mi">144</span>
            <span class="mi">142</span>
            <span class="mi">142</span>
            <span class="mi">102</span>
            <span class="mi">110</span>
            <span class="mi">144</span>
            <span class="mi">110</span>
            <span class="mi">115</span>
            <span class="mi">133</span>
            <span class="mi">142</span>
            <span class="mi">311</span>
            <span class="mi">340</span>
            <span class="mi">116</span>
            <span class="mi">145</span>
            <span class="mi">145</span>
            <span class="mi">145</span>
            <span class="mi">118</span>
             <span class="mi">99</span>
            <span class="mi">125</span>
            <span class="mi">129</span>
            <span class="mi">145</span>
            <span class="mi">145</span>
             <span class="mi">98</span>
            <span class="mi">151</span>
            <span class="mi">145</span>
            <span class="mi">337</span>
            <span class="mi">145</span>
            <span class="mi">101</span>
            <span class="mi">181</span>
            <span class="mi">181</span>
            <span class="mi">148</span>
            <span class="mi">148</span>
            <span class="mi">107</span>
            <span class="mi">182</span>
            <span class="mi">306</span>
            <span class="mi">306</span>
            <span class="mi">148</span>
            <span class="mi">119</span>
            <span class="mi">270</span>
            <span class="mi">123</span>
            <span class="mi">123</span>
            <span class="mi">270</span>
            <span class="mi">270</span>
            <span class="mi">123</span>
            <span class="mi">270</span>
            <span class="mi">270</span>
            <span class="mi">138</span>
             <span class="mi">16</span>
             <span class="mi">22</span>
            <span class="mi">222</span>
            <span class="mi">371</span>
            <span class="mi">371</span>
             <span class="mi">13</span>
             <span class="mi">39</span>
            <span class="mi">249</span>
             <span class="mi">42</span>
             <span class="mi">14</span>
            <span class="mi">341</span>
             <span class="mi">63</span>
            <span class="mi">359</span>
             <span class="mi">74</span>
            <span class="mi">120</span>
             <span class="mi">19</span>
             <span class="mi">69</span>
             <span class="mi">73</span>
            <span class="mi">276</span>
            <span class="mi">282</span>
            <span class="mi">282</span>
            <span class="mi">282</span>
            <span class="mi">282</span>
            <span class="mi">282</span>
             <span class="mi">15</span>
             <span class="mi">44</span>
             <span class="mi">44</span>
             <span class="mi">64</span>
             <span class="mi">67</span>
            <span class="mi">267</span>
            <span class="mi">120</span>
            <span class="mi">120</span>
            <span class="mi">120</span>
            <span class="mi">120</span>
            <span class="mi">106</span>
            <span class="mi">103</span>
            <span class="mi">103</span>
            <span class="mi">106</span>
            <span class="mi">106</span>
            <span class="mi">106</span>
            <span class="mi">112</span>
            <span class="mi">112</span>
            <span class="mi">293</span>
            <span class="mi">293</span>
            <span class="mi">293</span>
            <span class="mi">109</span>
            <span class="mi">145</span>
            <span class="mi">145</span>
            <span class="mi">109</span>
            <span class="mi">109</span>
             <span class="mi">99</span>
            <span class="mi">145</span>
            <span class="mi">142</span>
            <span class="mi">145</span>
            <span class="mi">145</span>
            <span class="mi">132</span>
            <span class="mi">145</span>
             <span class="mi">99</span>
             <span class="mi">99</span>
             <span class="mi">99</span>
             <span class="mi">99</span>
             <span class="mi">98</span>
             <span class="mi">98</span>
            <span class="mi">142</span>
             <span class="mi">98</span>
            <span class="mi">311</span>
            <span class="mi">312</span>
             <span class="mi">36</span>
             <span class="mi">35</span>
            <span class="mi">142</span>
            <span class="mi">142</span>
            <span class="mi">101</span>
             <span class="mi">35</span>
             <span class="mi">35</span>
             <span class="mi">35</span>
            <span class="mi">159</span>
            <span class="mi">155</span>
            <span class="mi">153</span>
            <span class="mi">168</span>
            <span class="mi">169</span>
            <span class="mi">168</span>
            <span class="mi">167</span>
            <span class="mi">164</span>
            <span class="mi">177</span>
            <span class="mi">177</span>
            <span class="mi">126</span>
            <span class="mi">126</span>
            <span class="mi">105</span>
            <span class="mi">126</span>
            <span class="mi">126</span>
            <span class="mi">101</span>
            <span class="mi">101</span>
            <span class="mi">101</span>
            <span class="mi">101</span>
             <span class="mi">26</span>
             <span class="mi">26</span>
            <span class="mi">148</span>
             <span class="mi">64</span>
            <span class="mi">125</span>
             <span class="mi">65</span>
             <span class="mi">64</span>
             <span class="mi">65</span>
             <span class="mi">75</span>
             <span class="mi">52</span>
            <span class="mi">207</span>
            <span class="mi">207</span>
            <span class="mi">295</span>
            <span class="mi">207</span>
            <span class="mi">183</span>
              <span class="mi">3</span>
            <span class="mi">270</span>
            <span class="mi">270</span>
            <span class="mi">183</span>
            <span class="mi">182</span>
            <span class="mi">182</span>
            <span class="mi">115</span>
            <span class="mi">115</span>
            <span class="mi">103</span>
            <span class="mi">125</span>
            <span class="mi">125</span>
            <span class="mi">101</span>
            <span class="mi">101</span>
            <span class="mi">125</span>
             <span class="mi">97</span>
            <span class="mi">125</span>
            <span class="mi">124</span>
            <span class="mi">128</span>
            <span class="mi">306</span>
            <span class="mi">131</span>
            <span class="mi">131</span>
            <span class="mi">128</span>
            <span class="mi">128</span>
            <span class="mi">132</span>
            <span class="mi">132</span>
            <span class="mi">129</span>
            <span class="mi">132</span>
            <span class="mi">129</span>
            <span class="mi">132</span>
            <span class="mi">133</span>
            <span class="mi">133</span>
            <span class="mi">133</span>
            <span class="mi">144</span>
            <span class="mi">143</span>
             <span class="mi">97</span>
            <span class="mi">106</span>
            <span class="mi">106</span>
            <span class="mi">103</span>
            <span class="mi">103</span>
            <span class="mi">103</span>
            <span class="mi">128</span>
            <span class="mi">127</span>
            <span class="mi">127</span>
            <span class="mi">124</span>
            <span class="mi">124</span>
            <span class="mi">129</span>
            <span class="mi">129</span>
            <span class="mi">129</span>
            <span class="mi">125</span>
            <span class="mi">132</span>
            <span class="mi">109</span>
            <span class="mi">109</span>
            <span class="mi">130</span>
            <span class="mi">130</span>
            <span class="mi">130</span>
            <span class="mi">130</span>
            <span class="mi">133</span>
             <span class="mi">84</span>
             <span class="mi">84</span>
            <span class="mi">206</span>
            <span class="mi">206</span>
            <span class="mi">326</span>
            <span class="mi">168</span>
<span class="p">(</span><span class="mi">1049</span> <span class="n">rows</span><span class="p">)</span>

</pre></div>
</div>
</div>
</div>
</section>
<section id="exercise-14-finding-the-served-roads-using-pgr-drivingdistance">
<h3><a class="toc-backref" href="#id23" role="doc-backlink"><span class="section-number">3.4.3. </span>Exercise 14: Finding the served roads using pgr_drivingDistance</a><a class="headerlink" href="#exercise-14-finding-the-served-roads-using-pgr-drivingdistance" title="Link to this heading">¶</a></h3>
<p class="rubric">Problem</p>
<p>Find the roads within 10 minutes walking distance from the hospitals. Use <code class="docutils literal notranslate"><span class="pre">1</span>
<span class="pre">m/s</span></code> as walking speed.</p>
<p class="rubric">Solution</p>
<p>In this exercise, the roads served are calculated based on a walking time of <code class="docutils literal notranslate"><span class="pre">1</span>
<span class="pre">m/s</span></code>, by using <code class="docutils literal notranslate"><span class="pre">pgrdrivingDistance</span></code> function from pgRouting extension.</p>
<ul class="simple">
<li><p>Time in minutes is considered as <code class="docutils literal notranslate"><span class="pre">cost</span></code>.</p></li>
<li><p>the graph is undirected.</p></li>
</ul>
<p>Preparing a query</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">PREPARE</span><span class="w"> </span><span class="n">edges</span><span class="w"> </span><span class="k">AS</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">gid</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="k">source</span><span class="p">,</span><span class="n">target</span><span class="p">,</span><span class="w"> </span><span class="n">length_m</span><span class="o">/</span><span class="mi">60</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">cost</span><span class="p">,</span><span class="n">length_m</span><span class="o">/</span><span class="mi">60</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">reverse_cost</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">roads</span><span class="p">.</span><span class="n">roads_ways</span><span class="p">;</span>

<span class="err">\</span><span class="n">o</span><span class="w"> </span><span class="n">exercise_15</span><span class="p">.</span><span class="n">txt</span>

<span class="k">SELECT</span><span class="w"> </span><span class="n">gid</span><span class="p">,</span><span class="w"> </span><span class="k">source</span><span class="p">,</span><span class="w"> </span><span class="n">target</span><span class="p">,</span><span class="w"> </span><span class="n">agg_cost</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">minutes</span><span class="p">,</span><span class="w"> </span><span class="n">the_geom</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">pgr_drivingDistance</span><span class="p">(</span>
<span class="w">  </span><span class="s1">&#39;edges&#39;</span><span class="p">,</span><span class="w"> </span><span class="c1">-- the prepared statement</span>
<span class="w">  </span><span class="p">(</span>
<span class="w">    </span><span class="k">SELECT</span><span class="w"> </span><span class="n">closest_vertex</span><span class="p">(</span><span class="n">poly_geom</span><span class="p">)</span>
<span class="w">    </span><span class="k">FROM</span><span class="w"> </span><span class="n">buildings</span><span class="p">.</span><span class="n">buildings_ways</span>
<span class="w">    </span><span class="k">WHERE</span><span class="w"> </span><span class="n">tag_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;318&#39;</span>
<span class="w">  </span><span class="p">),</span><span class="w"> </span><span class="c1">-- the starting vertex</span>
<span class="w">  </span><span class="mi">10</span><span class="p">,</span><span class="w">  </span><span class="c1">-- 10 minutes</span>
<span class="w">  </span><span class="k">false</span><span class="w"> </span><span class="c1">-- graph is undirected</span>
<span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">results</span>
<span class="k">JOIN</span><span class="w"> </span><span class="n">roads</span><span class="p">.</span><span class="n">roads_ways</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="p">(</span><span class="n">edge</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">gid</span><span class="p">);</span>
</pre></div>
</div>
<div class="sphinx_collapse docutils container">
<input class="sphinx_collapse__input" id="6e93ff41-da79-447b-b664-ba56c5564cb5" name="6e93ff41-da79-447b-b664-ba56c5564cb5" type="checkbox"><label class="sphinx_collapse__label" for="6e93ff41-da79-447b-b664-ba56c5564cb5"><i class="sphinx_collapse__icon"></i>Query Results</label><div class="sphinx_collapse__content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PREPARE</span>
</pre></div>
</div>
</div>
</div>
<p>For the following query,</p>
<ul class="simple">
<li><p>The prepared statement is used.</p></li>
<li><p>Pedestrian speed is set to be <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">m/s</span></code>.</p>
<ul>
<li><p>As <code class="docutils literal notranslate"><span class="pre">time</span></code> = <code class="docutils literal notranslate"><span class="pre">distance/speed</span></code>, <code class="docutils literal notranslate"><span class="pre">length_m</span></code> / <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">m/s</span></code> / <code class="docutils literal notranslate"><span class="pre">60</span></code> gives
the time in minutes.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">tag_id</span> <span class="pre">=</span> <span class="pre">'318'</span></code> as 318 is the value for hospital in the configuration
table of the buildings.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">10</span></code> for 10 minutes, which is a threshold for <code class="docutils literal notranslate"><span class="pre">agg_cost</span></code></p></li>
</ul>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="n">gid</span><span class="p">,</span><span class="w"> </span><span class="k">source</span><span class="p">,</span><span class="w"> </span><span class="n">target</span><span class="p">,</span><span class="w"> </span><span class="n">agg_cost</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">minutes</span><span class="p">,</span><span class="w"> </span><span class="n">the_geom</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">pgr_drivingDistance</span><span class="p">(</span>
<span class="w">  </span><span class="s1">&#39;edges&#39;</span><span class="p">,</span><span class="w"> </span><span class="c1">-- the prepared statement</span>
<span class="w">  </span><span class="p">(</span>
<span class="w">    </span><span class="k">SELECT</span><span class="w"> </span><span class="n">closest_vertex</span><span class="p">(</span><span class="n">poly_geom</span><span class="p">)</span>
<span class="w">    </span><span class="k">FROM</span><span class="w"> </span><span class="n">buildings</span><span class="p">.</span><span class="n">buildings_ways</span>
<span class="w">    </span><span class="k">WHERE</span><span class="w"> </span><span class="n">tag_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;318&#39;</span>
<span class="w">  </span><span class="p">),</span><span class="w"> </span><span class="c1">-- the starting vertex</span>
<span class="w">  </span><span class="mi">10</span><span class="p">,</span><span class="w">  </span><span class="c1">-- 10 minutes</span>
<span class="w">  </span><span class="k">false</span><span class="w"> </span><span class="c1">-- graph is undirected</span>
<span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">results</span>
<span class="k">JOIN</span><span class="w"> </span><span class="n">roads</span><span class="p">.</span><span class="n">roads_ways</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="p">(</span><span class="n">edge</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">gid</span><span class="p">);</span>
</pre></div>
</div>
<div class="sphinx_collapse docutils container">
<input class="sphinx_collapse__input" id="71953849-feea-4cfe-9fcd-9f46cb5f0bae" name="71953849-feea-4cfe-9fcd-9f46cb5f0bae" type="checkbox"><label class="sphinx_collapse__label" for="71953849-feea-4cfe-9fcd-9f46cb5f0bae"><i class="sphinx_collapse__icon"></i>Query Results</label><div class="sphinx_collapse__content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">gid</span> <span class="o">|</span> <span class="n">source</span> <span class="o">|</span> <span class="n">target</span> <span class="o">|</span>      <span class="n">minutes</span>       <span class="o">|</span>                                                                                                          <span class="n">the_geom</span>                                                                                                          
<span class="o">-----+--------+--------+--------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
 <span class="mi">164</span> <span class="o">|</span>     <span class="mi">98</span> <span class="o">|</span>     <span class="mi">99</span> <span class="o">|</span> <span class="mf">1.2794927512370855</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000064</span><span class="n">A82FF0813552409540EF32681B334047FF70FC7535524030EB0FDE681B3340</span>
 <span class="mi">163</span> <span class="o">|</span>     <span class="mi">36</span> <span class="o">|</span>     <span class="mi">98</span> <span class="o">|</span> <span class="mf">1.3290329100878828</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000004636</span><span class="n">A15A8E355240838D4699681B334064A82FF0813552409540EF32681B3340</span>
  <span class="mi">60</span> <span class="o">|</span>    <span class="mi">158</span> <span class="o">|</span>     <span class="mi">36</span> <span class="o">|</span> <span class="mf">1.4493409579441923</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000051</span><span class="n">C719798F3552409540EF32681B33404636A15A8E355240838D4699681B3340</span>
 <span class="mi">473</span> <span class="o">|</span>    <span class="mi">158</span> <span class="o">|</span>    <span class="mi">312</span> <span class="o">|</span>  <span class="mf">2.235454572765966</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000051</span><span class="n">C719798F3552409540EF32681B33408D83A6808F355240FDAF29464C1B3340</span>
 <span class="mi">238</span> <span class="o">|</span>     <span class="mi">99</span> <span class="o">|</span>    <span class="mi">145</span> <span class="o">|</span>  <span class="mf">2.427530387055349</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000047</span><span class="n">FF70FC7535524030EB0FDE681B33406499D9426B3552407D40A033691B3340</span>
 <span class="mi">471</span> <span class="o">|</span>    <span class="mi">312</span> <span class="o">|</span>    <span class="mi">311</span> <span class="o">|</span>  <span class="mf">2.791877105220287</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000008</span><span class="n">D83A6808F355240FDAF29464C1B33400A01AF858F3552400D8D2782381B3340</span>
  <span class="mi">20</span> <span class="o">|</span>     <span class="mi">36</span> <span class="o">|</span>     <span class="mi">13</span> <span class="o">|</span>  <span class="mf">3.904719927544691</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000004636</span><span class="n">A15A8E355240838D4699681B3340E63B9DD0903552402B22799DC31B3340</span>
 <span class="mi">181</span> <span class="o">|</span>    <span class="mi">145</span> <span class="o">|</span>    <span class="mi">109</span> <span class="o">|</span>  <span class="mf">3.970347591636453</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000006499</span><span class="n">D9426B3552407D40A033691B3340A7EA1ED95C3552408E07B6A5691B3340</span>
 <span class="mi">260</span> <span class="o">|</span>    <span class="mi">157</span> <span class="o">|</span>    <span class="mi">158</span> <span class="o">|</span>  <span class="mf">4.022391725856522</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">F716201B923552402B6A300DC31B334051C719798F3552409540EF32681B3340</span>
 <span class="mi">237</span> <span class="o">|</span>    <span class="mi">293</span> <span class="o">|</span>    <span class="mi">145</span> <span class="o">|</span>  <span class="mf">4.742001982159778</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000005</span><span class="n">E21BDF26A3552405F3AF768BB1B33406499D9426B3552407D40A033691B3340</span>
 <span class="mi">231</span> <span class="o">|</span>     <span class="mi">98</span> <span class="o">|</span>    <span class="mi">142</span> <span class="o">|</span>  <span class="mf">4.748852358591146</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000064</span><span class="n">A82FF0813552409540EF32681B3340C9C9C4AD823552402DEC6987BF1A3340</span>
 <span class="mi">214</span> <span class="o">|</span>    <span class="mi">109</span> <span class="o">|</span>    <span class="mi">132</span> <span class="o">|</span>  <span class="mf">5.419338196723229</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">A7EA1ED95C3552408E07B6A5691B3340EF6BC94F4F3552402351C3126A1B3340</span>
 <span class="mi">342</span> <span class="o">|</span>    <span class="mi">157</span> <span class="o">|</span>    <span class="mi">213</span> <span class="o">|</span>  <span class="mf">5.745772843183961</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">F716201B923552402B6A300DC31B33406CE22E0CA235524018320D79BA1B3340</span>
 <span class="mi">258</span> <span class="o">|</span>    <span class="mi">373</span> <span class="o">|</span>    <span class="mi">157</span> <span class="o">|</span>  <span class="mf">5.847982266772537</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000008</span><span class="n">F2A265933552404BA544B7031C3340F716201B923552402B6A300DC31B3340</span>
 <span class="mi">550</span> <span class="o">|</span>    <span class="mi">371</span> <span class="o">|</span>    <span class="mi">373</span> <span class="o">|</span>  <span class="mf">5.883682975657497</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000505</span><span class="n">CE9109335524063B9008F031C334008F2A265933552404BA544B7031C3340</span>
 <span class="mi">541</span> <span class="o">|</span>    <span class="mi">213</span> <span class="o">|</span>    <span class="mi">364</span> <span class="o">|</span>  <span class="mf">5.920892571153665</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000006</span><span class="n">CE22E0CA235524018320D79BA1B33409472ADACA3355240D18547D1B91B3340</span>
 <span class="mi">232</span> <span class="o">|</span>     <span class="mi">35</span> <span class="o">|</span>    <span class="mi">142</span> <span class="o">|</span> <span class="mf">5.9654226216040325</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000040</span><span class="n">BE840A8E3552403E6BC889C01A3340C9C9C4AD823552402DEC6987BF1A3340</span>
 <span class="mi">233</span> <span class="o">|</span>    <span class="mi">142</span> <span class="o">|</span>    <span class="mi">143</span> <span class="o">|</span>  <span class="mf">6.032675642646609</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">C9C9C4AD823552402DEC6987BF1A33407C8560B0763552405D00755EBE1A3340</span>
  <span class="mi">63</span> <span class="o">|</span>     <span class="mi">13</span> <span class="o">|</span>     <span class="mi">37</span> <span class="o">|</span> <span class="mf">6.1003822505499805</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">E63B9DD0903552402B22799DC31B334074942820923552407ACAC573111C3340</span>
  <span class="mi">58</span> <span class="o">|</span>    <span class="mi">159</span> <span class="o">|</span>     <span class="mi">35</span> <span class="o">|</span>  <span class="mf">6.144599533793317</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">B73066A68F3552409E4B27C8BE1A334040BE840A8E3552403E6BC889C01A3340</span>
  <span class="mi">62</span> <span class="o">|</span>     <span class="mi">93</span> <span class="o">|</span>     <span class="mi">37</span> <span class="o">|</span>  <span class="mf">6.304422409275661</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000003</span><span class="n">D0565BF933552400D648742151C334074942820923552407ACAC573111C3340</span>
 <span class="mi">444</span> <span class="o">|</span>    <span class="mi">112</span> <span class="o">|</span>    <span class="mi">293</span> <span class="o">|</span>  <span class="mf">6.308663595709409</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000947</span><span class="n">C36BC6A35524084F57F0EF31B33405E21BDF26A3552405F3AF768BB1B3340</span>
 <span class="mi">209</span> <span class="o">|</span>    <span class="mi">132</span> <span class="o">|</span>    <span class="mi">129</span> <span class="o">|</span>  <span class="mf">6.548259057855224</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">EF6BC94F4F3552402351C3126A1B33403CCFE9C3443552404727A6666A1B3340</span>
 <span class="mi">552</span> <span class="o">|</span>    <span class="mi">373</span> <span class="o">|</span>    <span class="mi">374</span> <span class="o">|</span>   <span class="mf">6.84446984590517</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000008</span><span class="n">F2A265933552404BA544B7031C334062D68BA19C35524020E6DC37081C3340</span>
 <span class="mi">352</span> <span class="o">|</span>     <span class="mi">37</span> <span class="o">|</span>    <span class="mi">223</span> <span class="o">|</span>  <span class="mf">7.045889619296911</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000074942820923552407</span><span class="n">ACAC573111C33409162804493355240B62BF4C1321C3340</span>
 <span class="mi">154</span> <span class="o">|</span>    <span class="mi">227</span> <span class="o">|</span>     <span class="mi">93</span> <span class="o">|</span>  <span class="mf">7.135132752331723</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000000</span><span class="n">DAC3EB2943552408146448C321C33403D0565BF933552400D648742151C3340</span>
 <span class="mi">235</span> <span class="o">|</span>    <span class="mi">145</span> <span class="o">|</span>    <span class="mi">144</span> <span class="o">|</span>  <span class="mf">7.238631814440762</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000006499</span><span class="n">D9426B3552407D40A033691B33402EF944436B3552409389004CBE1A3340</span>
 <span class="mi">549</span> <span class="o">|</span>    <span class="mi">374</span> <span class="o">|</span>    <span class="mi">372</span> <span class="o">|</span>  <span class="mf">7.303451912672058</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000062</span><span class="n">D68BA19C35524020E6DC37081C3340073763E2A035524090DD054A0A1C3340</span>
 <span class="mi">155</span> <span class="o">|</span>    <span class="mi">111</span> <span class="o">|</span>     <span class="mi">93</span> <span class="o">|</span>  <span class="mf">7.447294838371644</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000004489963</span><span class="n">C9E3552408C9A54D91C1C33403D0565BF933552400D648742151C3340</span>
 <span class="mi">353</span> <span class="o">|</span>    <span class="mi">223</span> <span class="o">|</span>    <span class="mi">224</span> <span class="o">|</span>  <span class="mf">7.564428934555067</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000009162804493355240</span><span class="n">B62BF4C1321C334067B224E593355240608EC305451C3340</span>
 <span class="mi">356</span> <span class="o">|</span>    <span class="mi">228</span> <span class="o">|</span>    <span class="mi">227</span> <span class="o">|</span>  <span class="mf">7.675480664240274</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000005</span><span class="n">A5DF34F95355240B3446799451C33400DAC3EB2943552408146448C321C3340</span>
 <span class="mi">203</span> <span class="o">|</span>    <span class="mi">129</span> <span class="o">|</span>    <span class="mi">125</span> <span class="o">|</span>  <span class="mf">7.696121163974513</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000003</span><span class="n">CCFE9C3443552404727A6666A1B334024C9BD0A3A355240947C36BC6A1B3340</span>
 <span class="mi">216</span> <span class="o">|</span>    <span class="mi">132</span> <span class="o">|</span>    <span class="mi">133</span> <span class="o">|</span> <span class="mf">7.8661007266761604</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">EF6BC94F4F3552402351C3126A1B33401FC253234F35524061B0D128131B3340</span>
 <span class="mi">281</span> <span class="o">|</span>    <span class="mi">142</span> <span class="o">|</span>    <span class="mi">169</span> <span class="o">|</span>    <span class="mf">7.9353372537217</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">C9C9C4AD823552402DEC6987BF1A334099A14CFE82355240D8E77B574E1A3340</span>
 <span class="mi">463</span> <span class="o">|</span>    <span class="mi">112</span> <span class="o">|</span>    <span class="mi">306</span> <span class="o">|</span>  <span class="mf">8.086671350735413</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000947</span><span class="n">C36BC6A35524084F57F0EF31B334036D6B4415C3552407A820E04121C3340</span>
  <span class="mi">64</span> <span class="o">|</span>    <span class="mi">224</span> <span class="o">|</span>     <span class="mi">38</span> <span class="o">|</span>  <span class="mf">8.137454092472144</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000067</span><span class="n">B224E593355240608EC305451C3340139A249694355240BB7B2535591C3340</span>
 <span class="mi">357</span> <span class="o">|</span>     <span class="mi">82</span> <span class="o">|</span>    <span class="mi">228</span> <span class="o">|</span>  <span class="mf">8.306556003352037</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000420180089635524054</span><span class="n">AA44D95B1C33405A5DF34F95355240B3446799451C3340</span>
 <span class="mi">256</span> <span class="o">|</span>    <span class="mi">169</span> <span class="o">|</span>    <span class="mi">156</span> <span class="o">|</span>   <span class="mf">8.58959315335783</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000099</span><span class="n">A14CFE82355240D8E77B574E1A3340BA79F4D0883552405F6EE646471A3340</span>
 <span class="mi">184</span> <span class="o">|</span>    <span class="mi">144</span> <span class="o">|</span>    <span class="mi">110</span> <span class="o">|</span>  <span class="mf">8.762659091477754</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000002</span><span class="n">EF944436B3552409389004CBE1A33400C546B065D3552404B958334BE1A3340</span>
  <span class="mi">59</span> <span class="o">|</span>    <span class="mi">155</span> <span class="o">|</span>     <span class="mi">35</span> <span class="o">|</span>  <span class="mf">8.764606484713976</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">E13F82878E355240E807BF1E5D1A334040BE840A8E3552403E6BC889C01A3340</span>
 <span class="mi">215</span> <span class="o">|</span>    <span class="mi">107</span> <span class="o">|</span>    <span class="mi">132</span> <span class="o">|</span>  <span class="mf">8.789683360449464</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000001</span><span class="n">F4F26C94E3552406F9406C8E11B3340EF6BC94F4F3552402351C3126A1B3340</span>
   <span class="mi">1</span> <span class="o">|</span>    <span class="mi">374</span> <span class="o">|</span>    <span class="mi">375</span> <span class="o">|</span>   <span class="mf">8.79495518042191</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000062</span><span class="n">D68BA19C35524020E6DC37081C33409F81470A9B355240C0571932C31B3340</span>
 <span class="mi">129</span> <span class="o">|</span>    <span class="mi">306</span> <span class="o">|</span>     <span class="mi">79</span> <span class="o">|</span>  <span class="mf">8.821989181019118</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000036</span><span class="n">D6B4415C3552407A820E04121C3340066685225D355240EF1417EC2B1C3340</span>
 <span class="mi">279</span> <span class="o">|</span>    <span class="mi">143</span> <span class="o">|</span>    <span class="mi">168</span> <span class="o">|</span>  <span class="mf">8.843362432173562</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000007</span><span class="n">C8560B0763552405D00755EBE1A3340ABD84E4A773552401950148D5A1A3340</span>
 <span class="mi">252</span> <span class="o">|</span>    <span class="mi">159</span> <span class="o">|</span>    <span class="mi">153</span> <span class="o">|</span>  <span class="mf">8.969520574761862</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">B73066A68F3552409E4B27C8BE1A33403982AF4390355240D25B97755A1A3340</span>
 <span class="mi">211</span> <span class="o">|</span>    <span class="mi">129</span> <span class="o">|</span>    <span class="mi">130</span> <span class="o">|</span>  <span class="mf">8.985428444539977</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000003</span><span class="n">CCFE9C3443552404727A6666A1B33406C25749744355240FC5AF2D3131B3340</span>
 <span class="mi">167</span> <span class="o">|</span>    <span class="mi">125</span> <span class="o">|</span>    <span class="mi">101</span> <span class="o">|</span>  <span class="mf">9.125993464704955</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000024</span><span class="n">C9BD0A3A355240947C36BC6A1B33409C1320AF2C355240D5C7E8256B1B3340</span>
  <span class="mi">39</span> <span class="o">|</span>     <span class="mi">38</span> <span class="o">|</span>     <span class="mi">24</span> <span class="o">|</span>   <span class="mf">9.24489420855162</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000139</span><span class="n">A249694355240BB7B2535591C3340AE896077953552404D6C9967801C3340</span>
 <span class="mi">282</span> <span class="o">|</span>    <span class="mi">156</span> <span class="o">|</span>    <span class="mi">170</span> <span class="o">|</span>   <span class="mf">9.24563628712511</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">BA79F4D0883552405F6EE646471A3340346CEFAE8E35524009CB338A401A3340</span>
 <span class="mi">130</span> <span class="o">|</span>     <span class="mi">79</span> <span class="o">|</span>     <span class="mi">80</span> <span class="o">|</span>   <span class="mf">9.30869841715778</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000066685225</span><span class="n">D355240EF1417EC2B1C334070E591E45E355240F99FFCDD3B1C3340</span>
 <span class="mi">133</span> <span class="o">|</span>     <span class="mi">92</span> <span class="o">|</span>     <span class="mi">82</span> <span class="o">|</span>  <span class="mf">9.405641379586184</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">C5C5F6FF96355240C3C4D5B7821C3340420180089635524054AA44D95B1C3340</span>
 <span class="mi">283</span> <span class="o">|</span>     <span class="mi">11</span> <span class="o">|</span>    <span class="mi">170</span> <span class="o">|</span>  <span class="mf">9.411980337025426</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000064</span><span class="n">C279828E3552402FB9F6AA3A1A3340346CEFAE8E35524009CB338A401A3340</span>
 <span class="mi">262</span> <span class="o">|</span>    <span class="mi">170</span> <span class="o">|</span>    <span class="mi">160</span> <span class="o">|</span>  <span class="mf">9.451766455246934</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000346</span><span class="n">CEFAE8E35524009CB338A401A33409EEBFB7090355240CF48298D3D1A3340</span>
 <span class="mi">397</span> <span class="o">|</span>     <span class="mi">82</span> <span class="o">|</span>    <span class="mi">260</span> <span class="o">|</span>  <span class="mf">9.601885897573753</span> <span class="o">|</span> <span class="mf">0102000020E610000006000000420180089635524054</span><span class="n">AA44D95B1C334059E1F148973552408E88731E5F1C3340B7F75F9D99355240ABC9F89C601C334027005A4E9D355240742090F0621C33401F20A9CF9F35524056777643641C3340CB8E43B3A1355240C00D8C17661C3340</span>
 <span class="mi">534</span> <span class="o">|</span>    <span class="mi">160</span> <span class="o">|</span>    <span class="mi">359</span> <span class="o">|</span>  <span class="mf">9.602713754619254</span> <span class="o">|</span> <span class="mf">0102000020E6100000030000009</span><span class="n">EEBFB7090355240CF48298D3D1A3340F8D73C5890355240E868554B3A1A33409EBDE94C903552404EF27E37381A3340</span>
 <span class="mi">213</span> <span class="o">|</span>    <span class="mi">306</span> <span class="o">|</span>    <span class="mi">131</span> <span class="o">|</span>  <span class="mf">9.680181862851645</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000036</span><span class="n">D6B4415C3552407A820E04121C334037ED180D4F355240A277CF262C1C3340</span>
 <span class="mi">277</span> <span class="o">|</span>    <span class="mi">144</span> <span class="o">|</span>    <span class="mi">167</span> <span class="o">|</span>  <span class="mf">9.741611163118138</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000002</span><span class="n">EF944436B3552409389004CBE1A334016139B8F6B35524055E70764651A3340</span>
 <span class="mi">210</span> <span class="o">|</span>    <span class="mi">128</span> <span class="o">|</span>    <span class="mi">129</span> <span class="o">|</span>  <span class="mf">9.892410474579446</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000006</span><span class="n">CB2463D4435524075E1AC2DE11B33403CCFE9C3443552404727A6666A1B3340</span>
<span class="p">(</span><span class="mi">58</span> <span class="n">rows</span><span class="p">)</span>

</pre></div>
</div>
</div>
</div>
<p>Following figure shows the visualised output of the above query. The lines
highlighted by red colour show the area from where the hospital can be reached
within 10 minutes of walking at the speed of <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">m/s</span></code>.</p>
<p>It is noticable from the output figure that some of the roads which are near to
the hospital are not highlighted. For example, to roads in the north of the
hospital. This is because the only one edge per road vertex was selected by the
query.</p>
<a class="reference internal image-reference" href="../_images/service_area.png"><img alt="../_images/service_area.png" class="align-center" src="../_images/service_area.png" style="width: 377.5px; height: 373.0px;" />
</a>
</section>
<section id="exercise-15-generalising-the-served-roads">
<h3><a class="toc-backref" href="#id24" role="doc-backlink"><span class="section-number">3.4.4. </span>Exercise 15: Generalising the served roads</a><a class="headerlink" href="#exercise-15-generalising-the-served-roads" title="Link to this heading">¶</a></h3>
<p>The edges which are near to to hospital should also be selected in the roads served
as the hospital also serves those buildings. The following query takes the query
from previous section as a <code class="docutils literal notranslate"><span class="pre">subquery</span></code> and selects all the edges from <code class="docutils literal notranslate"><span class="pre">roads_ways</span></code>
that have the same <code class="docutils literal notranslate"><span class="pre">source</span></code> and <code class="docutils literal notranslate"><span class="pre">target</span></code> to that of <code class="docutils literal notranslate"><span class="pre">subquery</span></code> (Line 14).</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">WITH</span>
<span class="n">subquery</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="k">SELECT</span><span class="w"> </span><span class="n">edge</span><span class="p">,</span><span class="w"> </span><span class="k">source</span><span class="p">,</span><span class="w"> </span><span class="n">target</span><span class="p">,</span><span class="w"> </span><span class="n">agg_cost</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">minutes</span><span class="p">,</span><span class="w"> </span><span class="n">the_geom</span>
<span class="w">  </span><span class="k">FROM</span><span class="w"> </span><span class="n">pgr_drivingDistance</span><span class="p">(</span>
<span class="w">    </span><span class="s1">&#39;edges&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="p">(</span>
<span class="w">      </span><span class="k">SELECT</span><span class="w"> </span><span class="n">closest_vertex</span><span class="p">(</span><span class="n">poly_geom</span><span class="p">)</span>
<span class="w">      </span><span class="k">FROM</span><span class="w"> </span><span class="n">buildings</span><span class="p">.</span><span class="n">buildings_ways</span>
<span class="w">      </span><span class="k">WHERE</span><span class="w"> </span><span class="n">tag_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;318&#39;</span>
<span class="w">    </span><span class="p">),</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="k">FALSE</span>
<span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">results</span>
<span class="w">  </span><span class="k">JOIN</span><span class="w"> </span><span class="n">roads</span><span class="p">.</span><span class="n">roads_ways</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="p">(</span><span class="n">edge</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">gid</span><span class="p">)</span>
<span class="p">),</span>
<span class="n">connected_edges</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="k">SELECT</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">gid</span><span class="p">,</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="k">source</span><span class="p">,</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">target</span><span class="p">,</span><span class="w"> </span><span class="n">length_m</span><span class="o">/</span><span class="mi">60</span><span class="p">,</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">the_geom</span>
<span class="w">  </span><span class="k">FROM</span><span class="w"> </span><span class="n">subquery</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">roads</span><span class="p">.</span><span class="n">roads_ways</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">r</span>
<span class="w">  </span><span class="k">ON</span><span class="w"> </span><span class="p">((</span><span class="n">s</span><span class="p">.</span><span class="k">source</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="k">source</span><span class="w"> </span><span class="k">OR</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="k">source</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">target</span><span class="p">))</span>
<span class="p">)</span>
<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">subquery</span>
<span class="k">UNION</span><span class="w"> </span><span class="k">ALL</span>
<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">connected_edges</span><span class="p">;</span>
</pre></div>
</div>
<div class="sphinx_collapse docutils container">
<input class="sphinx_collapse__input" id="a93335f5-205f-4aed-909c-3eb67a9c0b6d" name="a93335f5-205f-4aed-909c-3eb67a9c0b6d" type="checkbox"><label class="sphinx_collapse__label" for="a93335f5-205f-4aed-909c-3eb67a9c0b6d"><i class="sphinx_collapse__icon"></i>Query Results</label><div class="sphinx_collapse__content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">edge</span> <span class="o">|</span> <span class="n">source</span> <span class="o">|</span> <span class="n">target</span> <span class="o">|</span>       <span class="n">minutes</span>        <span class="o">|</span>                                                                                                          <span class="n">the_geom</span>                                                                                                          
<span class="o">------+--------+--------+----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
  <span class="mi">164</span> <span class="o">|</span>     <span class="mi">98</span> <span class="o">|</span>     <span class="mi">99</span> <span class="o">|</span>   <span class="mf">1.2794927512370855</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000064</span><span class="n">A82FF0813552409540EF32681B334047FF70FC7535524030EB0FDE681B3340</span>
  <span class="mi">163</span> <span class="o">|</span>     <span class="mi">36</span> <span class="o">|</span>     <span class="mi">98</span> <span class="o">|</span>   <span class="mf">1.3290329100878828</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000004636</span><span class="n">A15A8E355240838D4699681B334064A82FF0813552409540EF32681B3340</span>
   <span class="mi">60</span> <span class="o">|</span>    <span class="mi">158</span> <span class="o">|</span>     <span class="mi">36</span> <span class="o">|</span>   <span class="mf">1.4493409579441923</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000051</span><span class="n">C719798F3552409540EF32681B33404636A15A8E355240838D4699681B3340</span>
  <span class="mi">473</span> <span class="o">|</span>    <span class="mi">158</span> <span class="o">|</span>    <span class="mi">312</span> <span class="o">|</span>    <span class="mf">2.235454572765966</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000051</span><span class="n">C719798F3552409540EF32681B33408D83A6808F355240FDAF29464C1B3340</span>
  <span class="mi">238</span> <span class="o">|</span>     <span class="mi">99</span> <span class="o">|</span>    <span class="mi">145</span> <span class="o">|</span>    <span class="mf">2.427530387055349</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000047</span><span class="n">FF70FC7535524030EB0FDE681B33406499D9426B3552407D40A033691B3340</span>
  <span class="mi">471</span> <span class="o">|</span>    <span class="mi">312</span> <span class="o">|</span>    <span class="mi">311</span> <span class="o">|</span>    <span class="mf">2.791877105220287</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000008</span><span class="n">D83A6808F355240FDAF29464C1B33400A01AF858F3552400D8D2782381B3340</span>
   <span class="mi">20</span> <span class="o">|</span>     <span class="mi">36</span> <span class="o">|</span>     <span class="mi">13</span> <span class="o">|</span>    <span class="mf">3.904719927544691</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000004636</span><span class="n">A15A8E355240838D4699681B3340E63B9DD0903552402B22799DC31B3340</span>
  <span class="mi">181</span> <span class="o">|</span>    <span class="mi">145</span> <span class="o">|</span>    <span class="mi">109</span> <span class="o">|</span>    <span class="mf">3.970347591636453</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000006499</span><span class="n">D9426B3552407D40A033691B3340A7EA1ED95C3552408E07B6A5691B3340</span>
  <span class="mi">260</span> <span class="o">|</span>    <span class="mi">157</span> <span class="o">|</span>    <span class="mi">158</span> <span class="o">|</span>    <span class="mf">4.022391725856522</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">F716201B923552402B6A300DC31B334051C719798F3552409540EF32681B3340</span>
  <span class="mi">237</span> <span class="o">|</span>    <span class="mi">293</span> <span class="o">|</span>    <span class="mi">145</span> <span class="o">|</span>    <span class="mf">4.742001982159778</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000005</span><span class="n">E21BDF26A3552405F3AF768BB1B33406499D9426B3552407D40A033691B3340</span>
  <span class="mi">231</span> <span class="o">|</span>     <span class="mi">98</span> <span class="o">|</span>    <span class="mi">142</span> <span class="o">|</span>    <span class="mf">4.748852358591146</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000064</span><span class="n">A82FF0813552409540EF32681B3340C9C9C4AD823552402DEC6987BF1A3340</span>
  <span class="mi">214</span> <span class="o">|</span>    <span class="mi">109</span> <span class="o">|</span>    <span class="mi">132</span> <span class="o">|</span>    <span class="mf">5.419338196723229</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">A7EA1ED95C3552408E07B6A5691B3340EF6BC94F4F3552402351C3126A1B3340</span>
  <span class="mi">342</span> <span class="o">|</span>    <span class="mi">157</span> <span class="o">|</span>    <span class="mi">213</span> <span class="o">|</span>    <span class="mf">5.745772843183961</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">F716201B923552402B6A300DC31B33406CE22E0CA235524018320D79BA1B3340</span>
  <span class="mi">258</span> <span class="o">|</span>    <span class="mi">373</span> <span class="o">|</span>    <span class="mi">157</span> <span class="o">|</span>    <span class="mf">5.847982266772537</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000008</span><span class="n">F2A265933552404BA544B7031C3340F716201B923552402B6A300DC31B3340</span>
  <span class="mi">550</span> <span class="o">|</span>    <span class="mi">371</span> <span class="o">|</span>    <span class="mi">373</span> <span class="o">|</span>    <span class="mf">5.883682975657497</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000505</span><span class="n">CE9109335524063B9008F031C334008F2A265933552404BA544B7031C3340</span>
  <span class="mi">541</span> <span class="o">|</span>    <span class="mi">213</span> <span class="o">|</span>    <span class="mi">364</span> <span class="o">|</span>    <span class="mf">5.920892571153665</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000006</span><span class="n">CE22E0CA235524018320D79BA1B33409472ADACA3355240D18547D1B91B3340</span>
  <span class="mi">232</span> <span class="o">|</span>     <span class="mi">35</span> <span class="o">|</span>    <span class="mi">142</span> <span class="o">|</span>   <span class="mf">5.9654226216040325</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000040</span><span class="n">BE840A8E3552403E6BC889C01A3340C9C9C4AD823552402DEC6987BF1A3340</span>
  <span class="mi">233</span> <span class="o">|</span>    <span class="mi">142</span> <span class="o">|</span>    <span class="mi">143</span> <span class="o">|</span>    <span class="mf">6.032675642646609</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">C9C9C4AD823552402DEC6987BF1A33407C8560B0763552405D00755EBE1A3340</span>
   <span class="mi">63</span> <span class="o">|</span>     <span class="mi">13</span> <span class="o">|</span>     <span class="mi">37</span> <span class="o">|</span>   <span class="mf">6.1003822505499805</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">E63B9DD0903552402B22799DC31B334074942820923552407ACAC573111C3340</span>
   <span class="mi">58</span> <span class="o">|</span>    <span class="mi">159</span> <span class="o">|</span>     <span class="mi">35</span> <span class="o">|</span>    <span class="mf">6.144599533793317</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">B73066A68F3552409E4B27C8BE1A334040BE840A8E3552403E6BC889C01A3340</span>
   <span class="mi">62</span> <span class="o">|</span>     <span class="mi">93</span> <span class="o">|</span>     <span class="mi">37</span> <span class="o">|</span>    <span class="mf">6.304422409275661</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000003</span><span class="n">D0565BF933552400D648742151C334074942820923552407ACAC573111C3340</span>
  <span class="mi">444</span> <span class="o">|</span>    <span class="mi">112</span> <span class="o">|</span>    <span class="mi">293</span> <span class="o">|</span>    <span class="mf">6.308663595709409</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000947</span><span class="n">C36BC6A35524084F57F0EF31B33405E21BDF26A3552405F3AF768BB1B3340</span>
  <span class="mi">209</span> <span class="o">|</span>    <span class="mi">132</span> <span class="o">|</span>    <span class="mi">129</span> <span class="o">|</span>    <span class="mf">6.548259057855224</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">EF6BC94F4F3552402351C3126A1B33403CCFE9C3443552404727A6666A1B3340</span>
  <span class="mi">552</span> <span class="o">|</span>    <span class="mi">373</span> <span class="o">|</span>    <span class="mi">374</span> <span class="o">|</span>     <span class="mf">6.84446984590517</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000008</span><span class="n">F2A265933552404BA544B7031C334062D68BA19C35524020E6DC37081C3340</span>
  <span class="mi">352</span> <span class="o">|</span>     <span class="mi">37</span> <span class="o">|</span>    <span class="mi">223</span> <span class="o">|</span>    <span class="mf">7.045889619296911</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000074942820923552407</span><span class="n">ACAC573111C33409162804493355240B62BF4C1321C3340</span>
  <span class="mi">154</span> <span class="o">|</span>    <span class="mi">227</span> <span class="o">|</span>     <span class="mi">93</span> <span class="o">|</span>    <span class="mf">7.135132752331723</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000000</span><span class="n">DAC3EB2943552408146448C321C33403D0565BF933552400D648742151C3340</span>
  <span class="mi">235</span> <span class="o">|</span>    <span class="mi">145</span> <span class="o">|</span>    <span class="mi">144</span> <span class="o">|</span>    <span class="mf">7.238631814440762</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000006499</span><span class="n">D9426B3552407D40A033691B33402EF944436B3552409389004CBE1A3340</span>
  <span class="mi">549</span> <span class="o">|</span>    <span class="mi">374</span> <span class="o">|</span>    <span class="mi">372</span> <span class="o">|</span>    <span class="mf">7.303451912672058</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000062</span><span class="n">D68BA19C35524020E6DC37081C3340073763E2A035524090DD054A0A1C3340</span>
  <span class="mi">155</span> <span class="o">|</span>    <span class="mi">111</span> <span class="o">|</span>     <span class="mi">93</span> <span class="o">|</span>    <span class="mf">7.447294838371644</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000004489963</span><span class="n">C9E3552408C9A54D91C1C33403D0565BF933552400D648742151C3340</span>
  <span class="mi">353</span> <span class="o">|</span>    <span class="mi">223</span> <span class="o">|</span>    <span class="mi">224</span> <span class="o">|</span>    <span class="mf">7.564428934555067</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000009162804493355240</span><span class="n">B62BF4C1321C334067B224E593355240608EC305451C3340</span>
  <span class="mi">356</span> <span class="o">|</span>    <span class="mi">228</span> <span class="o">|</span>    <span class="mi">227</span> <span class="o">|</span>    <span class="mf">7.675480664240274</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000005</span><span class="n">A5DF34F95355240B3446799451C33400DAC3EB2943552408146448C321C3340</span>
  <span class="mi">203</span> <span class="o">|</span>    <span class="mi">129</span> <span class="o">|</span>    <span class="mi">125</span> <span class="o">|</span>    <span class="mf">7.696121163974513</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000003</span><span class="n">CCFE9C3443552404727A6666A1B334024C9BD0A3A355240947C36BC6A1B3340</span>
  <span class="mi">216</span> <span class="o">|</span>    <span class="mi">132</span> <span class="o">|</span>    <span class="mi">133</span> <span class="o">|</span>   <span class="mf">7.8661007266761604</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">EF6BC94F4F3552402351C3126A1B33401FC253234F35524061B0D128131B3340</span>
  <span class="mi">281</span> <span class="o">|</span>    <span class="mi">142</span> <span class="o">|</span>    <span class="mi">169</span> <span class="o">|</span>      <span class="mf">7.9353372537217</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">C9C9C4AD823552402DEC6987BF1A334099A14CFE82355240D8E77B574E1A3340</span>
  <span class="mi">463</span> <span class="o">|</span>    <span class="mi">112</span> <span class="o">|</span>    <span class="mi">306</span> <span class="o">|</span>    <span class="mf">8.086671350735413</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000947</span><span class="n">C36BC6A35524084F57F0EF31B334036D6B4415C3552407A820E04121C3340</span>
   <span class="mi">64</span> <span class="o">|</span>    <span class="mi">224</span> <span class="o">|</span>     <span class="mi">38</span> <span class="o">|</span>    <span class="mf">8.137454092472144</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000067</span><span class="n">B224E593355240608EC305451C3340139A249694355240BB7B2535591C3340</span>
  <span class="mi">357</span> <span class="o">|</span>     <span class="mi">82</span> <span class="o">|</span>    <span class="mi">228</span> <span class="o">|</span>    <span class="mf">8.306556003352037</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000420180089635524054</span><span class="n">AA44D95B1C33405A5DF34F95355240B3446799451C3340</span>
  <span class="mi">256</span> <span class="o">|</span>    <span class="mi">169</span> <span class="o">|</span>    <span class="mi">156</span> <span class="o">|</span>     <span class="mf">8.58959315335783</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000099</span><span class="n">A14CFE82355240D8E77B574E1A3340BA79F4D0883552405F6EE646471A3340</span>
  <span class="mi">184</span> <span class="o">|</span>    <span class="mi">144</span> <span class="o">|</span>    <span class="mi">110</span> <span class="o">|</span>    <span class="mf">8.762659091477754</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000002</span><span class="n">EF944436B3552409389004CBE1A33400C546B065D3552404B958334BE1A3340</span>
   <span class="mi">59</span> <span class="o">|</span>    <span class="mi">155</span> <span class="o">|</span>     <span class="mi">35</span> <span class="o">|</span>    <span class="mf">8.764606484713976</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">E13F82878E355240E807BF1E5D1A334040BE840A8E3552403E6BC889C01A3340</span>
  <span class="mi">215</span> <span class="o">|</span>    <span class="mi">107</span> <span class="o">|</span>    <span class="mi">132</span> <span class="o">|</span>    <span class="mf">8.789683360449464</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000001</span><span class="n">F4F26C94E3552406F9406C8E11B3340EF6BC94F4F3552402351C3126A1B3340</span>
    <span class="mi">1</span> <span class="o">|</span>    <span class="mi">374</span> <span class="o">|</span>    <span class="mi">375</span> <span class="o">|</span>     <span class="mf">8.79495518042191</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000062</span><span class="n">D68BA19C35524020E6DC37081C33409F81470A9B355240C0571932C31B3340</span>
  <span class="mi">129</span> <span class="o">|</span>    <span class="mi">306</span> <span class="o">|</span>     <span class="mi">79</span> <span class="o">|</span>    <span class="mf">8.821989181019118</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000036</span><span class="n">D6B4415C3552407A820E04121C3340066685225D355240EF1417EC2B1C3340</span>
  <span class="mi">279</span> <span class="o">|</span>    <span class="mi">143</span> <span class="o">|</span>    <span class="mi">168</span> <span class="o">|</span>    <span class="mf">8.843362432173562</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000007</span><span class="n">C8560B0763552405D00755EBE1A3340ABD84E4A773552401950148D5A1A3340</span>
  <span class="mi">252</span> <span class="o">|</span>    <span class="mi">159</span> <span class="o">|</span>    <span class="mi">153</span> <span class="o">|</span>    <span class="mf">8.969520574761862</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">B73066A68F3552409E4B27C8BE1A33403982AF4390355240D25B97755A1A3340</span>
  <span class="mi">211</span> <span class="o">|</span>    <span class="mi">129</span> <span class="o">|</span>    <span class="mi">130</span> <span class="o">|</span>    <span class="mf">8.985428444539977</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000003</span><span class="n">CCFE9C3443552404727A6666A1B33406C25749744355240FC5AF2D3131B3340</span>
  <span class="mi">167</span> <span class="o">|</span>    <span class="mi">125</span> <span class="o">|</span>    <span class="mi">101</span> <span class="o">|</span>    <span class="mf">9.125993464704955</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000024</span><span class="n">C9BD0A3A355240947C36BC6A1B33409C1320AF2C355240D5C7E8256B1B3340</span>
   <span class="mi">39</span> <span class="o">|</span>     <span class="mi">38</span> <span class="o">|</span>     <span class="mi">24</span> <span class="o">|</span>     <span class="mf">9.24489420855162</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000139</span><span class="n">A249694355240BB7B2535591C3340AE896077953552404D6C9967801C3340</span>
  <span class="mi">282</span> <span class="o">|</span>    <span class="mi">156</span> <span class="o">|</span>    <span class="mi">170</span> <span class="o">|</span>     <span class="mf">9.24563628712511</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">BA79F4D0883552405F6EE646471A3340346CEFAE8E35524009CB338A401A3340</span>
  <span class="mi">130</span> <span class="o">|</span>     <span class="mi">79</span> <span class="o">|</span>     <span class="mi">80</span> <span class="o">|</span>     <span class="mf">9.30869841715778</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000066685225</span><span class="n">D355240EF1417EC2B1C334070E591E45E355240F99FFCDD3B1C3340</span>
  <span class="mi">133</span> <span class="o">|</span>     <span class="mi">92</span> <span class="o">|</span>     <span class="mi">82</span> <span class="o">|</span>    <span class="mf">9.405641379586184</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">C5C5F6FF96355240C3C4D5B7821C3340420180089635524054AA44D95B1C3340</span>
  <span class="mi">283</span> <span class="o">|</span>     <span class="mi">11</span> <span class="o">|</span>    <span class="mi">170</span> <span class="o">|</span>    <span class="mf">9.411980337025426</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000064</span><span class="n">C279828E3552402FB9F6AA3A1A3340346CEFAE8E35524009CB338A401A3340</span>
  <span class="mi">262</span> <span class="o">|</span>    <span class="mi">170</span> <span class="o">|</span>    <span class="mi">160</span> <span class="o">|</span>    <span class="mf">9.451766455246934</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000346</span><span class="n">CEFAE8E35524009CB338A401A33409EEBFB7090355240CF48298D3D1A3340</span>
  <span class="mi">397</span> <span class="o">|</span>     <span class="mi">82</span> <span class="o">|</span>    <span class="mi">260</span> <span class="o">|</span>    <span class="mf">9.601885897573753</span> <span class="o">|</span> <span class="mf">0102000020E610000006000000420180089635524054</span><span class="n">AA44D95B1C334059E1F148973552408E88731E5F1C3340B7F75F9D99355240ABC9F89C601C334027005A4E9D355240742090F0621C33401F20A9CF9F35524056777643641C3340CB8E43B3A1355240C00D8C17661C3340</span>
  <span class="mi">534</span> <span class="o">|</span>    <span class="mi">160</span> <span class="o">|</span>    <span class="mi">359</span> <span class="o">|</span>    <span class="mf">9.602713754619254</span> <span class="o">|</span> <span class="mf">0102000020E6100000030000009</span><span class="n">EEBFB7090355240CF48298D3D1A3340F8D73C5890355240E868554B3A1A33409EBDE94C903552404EF27E37381A3340</span>
  <span class="mi">213</span> <span class="o">|</span>    <span class="mi">306</span> <span class="o">|</span>    <span class="mi">131</span> <span class="o">|</span>    <span class="mf">9.680181862851645</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000036</span><span class="n">D6B4415C3552407A820E04121C334037ED180D4F355240A277CF262C1C3340</span>
  <span class="mi">277</span> <span class="o">|</span>    <span class="mi">144</span> <span class="o">|</span>    <span class="mi">167</span> <span class="o">|</span>    <span class="mf">9.741611163118138</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000002</span><span class="n">EF944436B3552409389004CBE1A334016139B8F6B35524055E70764651A3340</span>
  <span class="mi">210</span> <span class="o">|</span>    <span class="mi">128</span> <span class="o">|</span>    <span class="mi">129</span> <span class="o">|</span>    <span class="mf">9.892410474579446</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000006</span><span class="n">CB2463D4435524075E1AC2DE11B33403CCFE9C3443552404727A6666A1B3340</span>
  <span class="mi">163</span> <span class="o">|</span>     <span class="mi">36</span> <span class="o">|</span>     <span class="mi">98</span> <span class="o">|</span>   <span class="mf">1.3290329100878828</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000004636</span><span class="n">A15A8E355240838D4699681B334064A82FF0813552409540EF32681B3340</span>
  <span class="mi">231</span> <span class="o">|</span>     <span class="mi">98</span> <span class="o">|</span>    <span class="mi">142</span> <span class="o">|</span>    <span class="mf">4.748852358591146</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000064</span><span class="n">A82FF0813552409540EF32681B3340C9C9C4AD823552402DEC6987BF1A3340</span>
  <span class="mi">164</span> <span class="o">|</span>     <span class="mi">98</span> <span class="o">|</span>     <span class="mi">99</span> <span class="o">|</span>   <span class="mf">1.2794927512370855</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000064</span><span class="n">A82FF0813552409540EF32681B334047FF70FC7535524030EB0FDE681B3340</span>
   <span class="mi">61</span> <span class="o">|</span>     <span class="mi">35</span> <span class="o">|</span>     <span class="mi">36</span> <span class="o">|</span>      <span class="mf">4.7311518302823</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000040</span><span class="n">BE840A8E3552403E6BC889C01A33404636A15A8E355240838D4699681B3340</span>
  <span class="mi">163</span> <span class="o">|</span>     <span class="mi">36</span> <span class="o">|</span>     <span class="mi">98</span> <span class="o">|</span>   <span class="mf">1.3290329100878828</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000004636</span><span class="n">A15A8E355240838D4699681B334064A82FF0813552409540EF32681B3340</span>
   <span class="mi">20</span> <span class="o">|</span>     <span class="mi">36</span> <span class="o">|</span>     <span class="mi">13</span> <span class="o">|</span>   <span class="mf">2.5756870174568083</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000004636</span><span class="n">A15A8E355240838D4699681B3340E63B9DD0903552402B22799DC31B3340</span>
   <span class="mi">60</span> <span class="o">|</span>    <span class="mi">158</span> <span class="o">|</span>     <span class="mi">36</span> <span class="o">|</span>   <span class="mf">0.1203080478563094</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000051</span><span class="n">C719798F3552409540EF32681B33404636A15A8E355240838D4699681B3340</span>
  <span class="mi">260</span> <span class="o">|</span>    <span class="mi">157</span> <span class="o">|</span>    <span class="mi">158</span> <span class="o">|</span>   <span class="mf">2.5730507679123296</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">F716201B923552402B6A300DC31B334051C719798F3552409540EF32681B3340</span>
  <span class="mi">473</span> <span class="o">|</span>    <span class="mi">158</span> <span class="o">|</span>    <span class="mi">312</span> <span class="o">|</span>    <span class="mf">0.786113614821774</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000051</span><span class="n">C719798F3552409540EF32681B33408D83A6808F355240FDAF29464C1B3340</span>
   <span class="mi">60</span> <span class="o">|</span>    <span class="mi">158</span> <span class="o">|</span>     <span class="mi">36</span> <span class="o">|</span>   <span class="mf">0.1203080478563094</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000051</span><span class="n">C719798F3552409540EF32681B33404636A15A8E355240838D4699681B3340</span>
  <span class="mi">260</span> <span class="o">|</span>    <span class="mi">157</span> <span class="o">|</span>    <span class="mi">158</span> <span class="o">|</span>   <span class="mf">2.5730507679123296</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">F716201B923552402B6A300DC31B334051C719798F3552409540EF32681B3340</span>
  <span class="mi">473</span> <span class="o">|</span>    <span class="mi">158</span> <span class="o">|</span>    <span class="mi">312</span> <span class="o">|</span>    <span class="mf">0.786113614821774</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000051</span><span class="n">C719798F3552409540EF32681B33408D83A6808F355240FDAF29464C1B3340</span>
   <span class="mi">60</span> <span class="o">|</span>    <span class="mi">158</span> <span class="o">|</span>     <span class="mi">36</span> <span class="o">|</span>   <span class="mf">0.1203080478563094</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000051</span><span class="n">C719798F3552409540EF32681B33404636A15A8E355240838D4699681B3340</span>
  <span class="mi">164</span> <span class="o">|</span>     <span class="mi">98</span> <span class="o">|</span>     <span class="mi">99</span> <span class="o">|</span>   <span class="mf">1.2794927512370855</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000064</span><span class="n">A82FF0813552409540EF32681B334047FF70FC7535524030EB0FDE681B3340</span>
  <span class="mi">238</span> <span class="o">|</span>     <span class="mi">99</span> <span class="o">|</span>    <span class="mi">145</span> <span class="o">|</span>   <span class="mf">1.1480376358182636</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000047</span><span class="n">FF70FC7535524030EB0FDE681B33406499D9426B3552407D40A033691B3340</span>
  <span class="mi">234</span> <span class="o">|</span>     <span class="mi">99</span> <span class="o">|</span>    <span class="mi">143</span> <span class="o">|</span>    <span class="mf">4.800252749039815</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000047</span><span class="n">FF70FC7535524030EB0FDE681B33407C8560B0763552405D00755EBE1A3340</span>
  <span class="mi">473</span> <span class="o">|</span>    <span class="mi">158</span> <span class="o">|</span>    <span class="mi">312</span> <span class="o">|</span>    <span class="mf">0.786113614821774</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000051</span><span class="n">C719798F3552409540EF32681B33408D83A6808F355240FDAF29464C1B3340</span>
  <span class="mi">472</span> <span class="o">|</span>    <span class="mi">312</span> <span class="o">|</span>    <span class="mi">311</span> <span class="o">|</span>   <span class="mf">2.7411680621005954</span> <span class="o">|</span> <span class="mf">0102000020E6100000060000008</span><span class="n">D83A6808F355240FDAF29464C1B33400A80F10C9A3552401A25F95B4C1B334022ABB6F699355240407AD4A93C1B334022ABB6F69935524076EFF2BE3B1B33408E1C8E5399355240AD985B6B391B33400A01AF858F3552400D8D2782381B3340</span>
  <span class="mi">471</span> <span class="o">|</span>    <span class="mi">312</span> <span class="o">|</span>    <span class="mi">311</span> <span class="o">|</span>   <span class="mf">0.5564225324543212</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000008</span><span class="n">D83A6808F355240FDAF29464C1B33400A01AF858F3552400D8D2782381B3340</span>
   <span class="mi">61</span> <span class="o">|</span>     <span class="mi">35</span> <span class="o">|</span>     <span class="mi">36</span> <span class="o">|</span>      <span class="mf">4.7311518302823</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000040</span><span class="n">BE840A8E3552403E6BC889C01A33404636A15A8E355240838D4699681B3340</span>
  <span class="mi">163</span> <span class="o">|</span>     <span class="mi">36</span> <span class="o">|</span>     <span class="mi">98</span> <span class="o">|</span>   <span class="mf">1.3290329100878828</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000004636</span><span class="n">A15A8E355240838D4699681B334064A82FF0813552409540EF32681B3340</span>
   <span class="mi">20</span> <span class="o">|</span>     <span class="mi">36</span> <span class="o">|</span>     <span class="mi">13</span> <span class="o">|</span>   <span class="mf">2.5756870174568083</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000004636</span><span class="n">A15A8E355240838D4699681B3340E63B9DD0903552402B22799DC31B3340</span>
   <span class="mi">60</span> <span class="o">|</span>    <span class="mi">158</span> <span class="o">|</span>     <span class="mi">36</span> <span class="o">|</span>   <span class="mf">0.1203080478563094</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000051</span><span class="n">C719798F3552409540EF32681B33404636A15A8E355240838D4699681B3340</span>
  <span class="mi">238</span> <span class="o">|</span>     <span class="mi">99</span> <span class="o">|</span>    <span class="mi">145</span> <span class="o">|</span>   <span class="mf">1.1480376358182636</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000047</span><span class="n">FF70FC7535524030EB0FDE681B33406499D9426B3552407D40A033691B3340</span>
  <span class="mi">235</span> <span class="o">|</span>    <span class="mi">145</span> <span class="o">|</span>    <span class="mi">144</span> <span class="o">|</span>    <span class="mf">4.811101427385413</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000006499</span><span class="n">D9426B3552407D40A033691B33402EF944436B3552409389004CBE1A3340</span>
  <span class="mi">181</span> <span class="o">|</span>    <span class="mi">145</span> <span class="o">|</span>    <span class="mi">109</span> <span class="o">|</span>   <span class="mf">1.5428172045811037</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000006499</span><span class="n">D9426B3552407D40A033691B3340A7EA1ED95C3552408E07B6A5691B3340</span>
  <span class="mi">237</span> <span class="o">|</span>    <span class="mi">293</span> <span class="o">|</span>    <span class="mi">145</span> <span class="o">|</span>   <span class="mf">2.3144715951044286</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000005</span><span class="n">E21BDF26A3552405F3AF768BB1B33406499D9426B3552407D40A033691B3340</span>
  <span class="mi">259</span> <span class="o">|</span>     <span class="mi">13</span> <span class="o">|</span>    <span class="mi">157</span> <span class="o">|</span>  <span class="mf">0.13910148366610456</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">E63B9DD0903552402B22799DC31B3340F716201B923552402B6A300DC31B3340</span>
  <span class="mi">342</span> <span class="o">|</span>    <span class="mi">157</span> <span class="o">|</span>    <span class="mi">213</span> <span class="o">|</span>    <span class="mf">1.723381117327439</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">F716201B923552402B6A300DC31B33406CE22E0CA235524018320D79BA1B3340</span>
  <span class="mi">260</span> <span class="o">|</span>    <span class="mi">157</span> <span class="o">|</span>    <span class="mi">158</span> <span class="o">|</span>   <span class="mf">2.5730507679123296</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">F716201B923552402B6A300DC31B334051C719798F3552409540EF32681B3340</span>
  <span class="mi">258</span> <span class="o">|</span>    <span class="mi">373</span> <span class="o">|</span>    <span class="mi">157</span> <span class="o">|</span>   <span class="mf">1.8255905409160154</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000008</span><span class="n">F2A265933552404BA544B7031C3340F716201B923552402B6A300DC31B3340</span>
  <span class="mi">444</span> <span class="o">|</span>    <span class="mi">112</span> <span class="o">|</span>    <span class="mi">293</span> <span class="o">|</span>   <span class="mf">1.5666616135496316</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000947</span><span class="n">C36BC6A35524084F57F0EF31B33405E21BDF26A3552405F3AF768BB1B3340</span>
  <span class="mi">237</span> <span class="o">|</span>    <span class="mi">293</span> <span class="o">|</span>    <span class="mi">145</span> <span class="o">|</span>   <span class="mf">2.3144715951044286</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000005</span><span class="n">E21BDF26A3552405F3AF768BB1B33406499D9426B3552407D40A033691B3340</span>
   <span class="mi">19</span> <span class="o">|</span>    <span class="mi">293</span> <span class="o">|</span>     <span class="mi">13</span> <span class="o">|</span>    <span class="mf">4.065869900604024</span> <span class="o">|</span> <span class="mf">0102000020E6100000040000005</span><span class="n">E21BDF26A3552405F3AF768BB1B3340F3CF679B76355240B3C8C04BBA1B33406AAD1EE681355240C2DF8A1FBE1B3340E63B9DD0903552402B22799DC31B3340</span>
  <span class="mi">163</span> <span class="o">|</span>     <span class="mi">36</span> <span class="o">|</span>     <span class="mi">98</span> <span class="o">|</span>   <span class="mf">1.3290329100878828</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000004636</span><span class="n">A15A8E355240838D4699681B334064A82FF0813552409540EF32681B3340</span>
  <span class="mi">231</span> <span class="o">|</span>     <span class="mi">98</span> <span class="o">|</span>    <span class="mi">142</span> <span class="o">|</span>    <span class="mf">4.748852358591146</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000064</span><span class="n">A82FF0813552409540EF32681B3340C9C9C4AD823552402DEC6987BF1A3340</span>
  <span class="mi">164</span> <span class="o">|</span>     <span class="mi">98</span> <span class="o">|</span>     <span class="mi">99</span> <span class="o">|</span>   <span class="mf">1.2794927512370855</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000064</span><span class="n">A82FF0813552409540EF32681B334047FF70FC7535524030EB0FDE681B3340</span>
  <span class="mi">464</span> <span class="o">|</span>    <span class="mi">109</span> <span class="o">|</span>    <span class="mi">306</span> <span class="o">|</span>    <span class="mf">4.740167131311484</span> <span class="o">|</span> <span class="mf">0102000020E610000003000000</span><span class="n">A7EA1ED95C3552408E07B6A5691B33403649E29B5C3552409558631A971B334036D6B4415C3552407A820E04121C3340</span>
  <span class="mi">214</span> <span class="o">|</span>    <span class="mi">109</span> <span class="o">|</span>    <span class="mi">132</span> <span class="o">|</span>   <span class="mf">1.4489906050867754</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">A7EA1ED95C3552408E07B6A5691B3340EF6BC94F4F3552402351C3126A1B3340</span>
  <span class="mi">182</span> <span class="o">|</span>    <span class="mi">110</span> <span class="o">|</span>    <span class="mi">109</span> <span class="o">|</span>    <span class="mf">4.826266681040104</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000000</span><span class="n">C546B065D3552404B958334BE1A3340A7EA1ED95C3552408E07B6A5691B3340</span>
  <span class="mi">181</span> <span class="o">|</span>    <span class="mi">145</span> <span class="o">|</span>    <span class="mi">109</span> <span class="o">|</span>   <span class="mf">1.5428172045811037</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000006499</span><span class="n">D9426B3552407D40A033691B3340A7EA1ED95C3552408E07B6A5691B3340</span>
  <span class="mi">259</span> <span class="o">|</span>     <span class="mi">13</span> <span class="o">|</span>    <span class="mi">157</span> <span class="o">|</span>  <span class="mf">0.13910148366610456</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">E63B9DD0903552402B22799DC31B3340F716201B923552402B6A300DC31B3340</span>
  <span class="mi">342</span> <span class="o">|</span>    <span class="mi">157</span> <span class="o">|</span>    <span class="mi">213</span> <span class="o">|</span>    <span class="mf">1.723381117327439</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">F716201B923552402B6A300DC31B33406CE22E0CA235524018320D79BA1B3340</span>
  <span class="mi">260</span> <span class="o">|</span>    <span class="mi">157</span> <span class="o">|</span>    <span class="mi">158</span> <span class="o">|</span>   <span class="mf">2.5730507679123296</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">F716201B923552402B6A300DC31B334051C719798F3552409540EF32681B3340</span>
  <span class="mi">258</span> <span class="o">|</span>    <span class="mi">373</span> <span class="o">|</span>    <span class="mi">157</span> <span class="o">|</span>   <span class="mf">1.8255905409160154</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000008</span><span class="n">F2A265933552404BA544B7031C3340F716201B923552402B6A300DC31B3340</span>
  <span class="mi">551</span> <span class="o">|</span>     <span class="mi">93</span> <span class="o">|</span>    <span class="mi">373</span> <span class="o">|</span>  <span class="mf">0.49530085030973936</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000003</span><span class="n">D0565BF933552400D648742151C334008F2A265933552404BA544B7031C3340</span>
  <span class="mi">550</span> <span class="o">|</span>    <span class="mi">371</span> <span class="o">|</span>    <span class="mi">373</span> <span class="o">|</span> <span class="mf">0.035700708884960096</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000505</span><span class="n">CE9109335524063B9008F031C334008F2A265933552404BA544B7031C3340</span>
  <span class="mi">552</span> <span class="o">|</span>    <span class="mi">373</span> <span class="o">|</span>    <span class="mi">374</span> <span class="o">|</span>   <span class="mf">0.9964875791326322</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000008</span><span class="n">F2A265933552404BA544B7031C334062D68BA19C35524020E6DC37081C3340</span>
  <span class="mi">258</span> <span class="o">|</span>    <span class="mi">373</span> <span class="o">|</span>    <span class="mi">157</span> <span class="o">|</span>   <span class="mf">1.8255905409160154</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000008</span><span class="n">F2A265933552404BA544B7031C3340F716201B923552402B6A300DC31B3340</span>
  <span class="mi">550</span> <span class="o">|</span>    <span class="mi">371</span> <span class="o">|</span>    <span class="mi">373</span> <span class="o">|</span> <span class="mf">0.035700708884960096</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000505</span><span class="n">CE9109335524063B9008F031C334008F2A265933552404BA544B7031C3340</span>
  <span class="mi">342</span> <span class="o">|</span>    <span class="mi">157</span> <span class="o">|</span>    <span class="mi">213</span> <span class="o">|</span>    <span class="mf">1.723381117327439</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">F716201B923552402B6A300DC31B33406CE22E0CA235524018320D79BA1B3340</span>
  <span class="mi">541</span> <span class="o">|</span>    <span class="mi">213</span> <span class="o">|</span>    <span class="mi">364</span> <span class="o">|</span>   <span class="mf">0.1751197279697037</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000006</span><span class="n">CE22E0CA235524018320D79BA1B33409472ADACA3355240D18547D1B91B3340</span>
  <span class="mi">340</span> <span class="o">|</span>    <span class="mi">213</span> <span class="o">|</span>    <span class="mi">212</span> <span class="o">|</span>   <span class="mf">11.632818723864188</span> <span class="o">|</span> <span class="mf">0102000020E6100000060000006</span><span class="n">CE22E0CA235524018320D79BA1B3340F89B9A159B355240853474FDCC1A33408DFF4CCE9A35524034B511F4BC1A33404A35FD239D3552402301593E811A3340CC69053C9F3552401CA732D6481A33408A181B5FA035524090EFF730201A3340</span>
  <span class="mi">232</span> <span class="o">|</span>     <span class="mi">35</span> <span class="o">|</span>    <span class="mi">142</span> <span class="o">|</span>   <span class="mf">1.2165702630128858</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000040</span><span class="n">BE840A8E3552403E6BC889C01A3340C9C9C4AD823552402DEC6987BF1A3340</span>
   <span class="mi">61</span> <span class="o">|</span>     <span class="mi">35</span> <span class="o">|</span>     <span class="mi">36</span> <span class="o">|</span>      <span class="mf">4.7311518302823</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000040</span><span class="n">BE840A8E3552403E6BC889C01A33404636A15A8E355240838D4699681B3340</span>
   <span class="mi">59</span> <span class="o">|</span>    <span class="mi">155</span> <span class="o">|</span>     <span class="mi">35</span> <span class="o">|</span>   <span class="mf">2.7991838631099433</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">E13F82878E355240E807BF1E5D1A334040BE840A8E3552403E6BC889C01A3340</span>
   <span class="mi">58</span> <span class="o">|</span>    <span class="mi">159</span> <span class="o">|</span>     <span class="mi">35</span> <span class="o">|</span>  <span class="mf">0.17917691218928386</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">B73066A68F3552409E4B27C8BE1A334040BE840A8E3552403E6BC889C01A3340</span>
  <span class="mi">232</span> <span class="o">|</span>     <span class="mi">35</span> <span class="o">|</span>    <span class="mi">142</span> <span class="o">|</span>   <span class="mf">1.2165702630128858</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000040</span><span class="n">BE840A8E3552403E6BC889C01A3340C9C9C4AD823552402DEC6987BF1A3340</span>
  <span class="mi">231</span> <span class="o">|</span>     <span class="mi">98</span> <span class="o">|</span>    <span class="mi">142</span> <span class="o">|</span>    <span class="mf">4.748852358591146</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000064</span><span class="n">A82FF0813552409540EF32681B3340C9C9C4AD823552402DEC6987BF1A3340</span>
  <span class="mi">281</span> <span class="o">|</span>    <span class="mi">142</span> <span class="o">|</span>    <span class="mi">169</span> <span class="o">|</span>   <span class="mf">3.1864848951305538</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">C9C9C4AD823552402DEC6987BF1A334099A14CFE82355240D8E77B574E1A3340</span>
  <span class="mi">233</span> <span class="o">|</span>    <span class="mi">142</span> <span class="o">|</span>    <span class="mi">143</span> <span class="o">|</span>   <span class="mf">1.2838232840554622</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">C9C9C4AD823552402DEC6987BF1A33407C8560B0763552405D00755EBE1A3340</span>
  <span class="mi">259</span> <span class="o">|</span>     <span class="mi">13</span> <span class="o">|</span>    <span class="mi">157</span> <span class="o">|</span>  <span class="mf">0.13910148366610456</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">E63B9DD0903552402B22799DC31B3340F716201B923552402B6A300DC31B3340</span>
   <span class="mi">63</span> <span class="o">|</span>     <span class="mi">13</span> <span class="o">|</span>     <span class="mi">37</span> <span class="o">|</span>     <span class="mf">2.19566232300529</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">E63B9DD0903552402B22799DC31B334074942820923552407ACAC573111C3340</span>
   <span class="mi">20</span> <span class="o">|</span>     <span class="mi">36</span> <span class="o">|</span>     <span class="mi">13</span> <span class="o">|</span>   <span class="mf">2.5756870174568083</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000004636</span><span class="n">A15A8E355240838D4699681B3340E63B9DD0903552402B22799DC31B3340</span>
   <span class="mi">19</span> <span class="o">|</span>    <span class="mi">293</span> <span class="o">|</span>     <span class="mi">13</span> <span class="o">|</span>    <span class="mf">4.065869900604024</span> <span class="o">|</span> <span class="mf">0102000020E6100000040000005</span><span class="n">E21BDF26A3552405F3AF768BB1B3340F3CF679B76355240B3C8C04BBA1B33406AAD1EE681355240C2DF8A1FBE1B3340E63B9DD0903552402B22799DC31B3340</span>
  <span class="mi">252</span> <span class="o">|</span>    <span class="mi">159</span> <span class="o">|</span>    <span class="mi">153</span> <span class="o">|</span>   <span class="mf">2.8249210409685466</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">B73066A68F3552409E4B27C8BE1A33403982AF4390355240D25B97755A1A3340</span>
   <span class="mi">58</span> <span class="o">|</span>    <span class="mi">159</span> <span class="o">|</span>     <span class="mi">35</span> <span class="o">|</span>  <span class="mf">0.17917691218928386</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">B73066A68F3552409E4B27C8BE1A334040BE840A8E3552403E6BC889C01A3340</span>
  <span class="mi">261</span> <span class="o">|</span>    <span class="mi">311</span> <span class="o">|</span>    <span class="mi">159</span> <span class="o">|</span>   <span class="mf">3.4267239172165445</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000000</span><span class="n">A01AF858F3552400D8D2782381B3340B73066A68F3552409E4B27C8BE1A3340</span>
  <span class="mi">551</span> <span class="o">|</span>     <span class="mi">93</span> <span class="o">|</span>    <span class="mi">373</span> <span class="o">|</span>  <span class="mf">0.49530085030973936</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000003</span><span class="n">D0565BF933552400D648742151C334008F2A265933552404BA544B7031C3340</span>
   <span class="mi">62</span> <span class="o">|</span>     <span class="mi">93</span> <span class="o">|</span>     <span class="mi">37</span> <span class="o">|</span>   <span class="mf">0.2040401587256805</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000003</span><span class="n">D0565BF933552400D648742151C334074942820923552407ACAC573111C3340</span>
  <span class="mi">155</span> <span class="o">|</span>    <span class="mi">111</span> <span class="o">|</span>     <span class="mi">93</span> <span class="o">|</span>    <span class="mf">1.142872429095983</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000004489963</span><span class="n">C9E3552408C9A54D91C1C33403D0565BF933552400D648742151C3340</span>
  <span class="mi">154</span> <span class="o">|</span>    <span class="mi">227</span> <span class="o">|</span>     <span class="mi">93</span> <span class="o">|</span>   <span class="mf">0.8307103430560616</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000000</span><span class="n">DAC3EB2943552408146448C321C33403D0565BF933552400D648742151C3340</span>
  <span class="mi">185</span> <span class="o">|</span>     <span class="mi">37</span> <span class="o">|</span>    <span class="mi">112</span> <span class="o">|</span>    <span class="mf">4.302234144936451</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000074942820923552407</span><span class="n">ACAC573111C3340947C36BC6A35524084F57F0EF31B3340</span>
  <span class="mi">463</span> <span class="o">|</span>    <span class="mi">112</span> <span class="o">|</span>    <span class="mi">306</span> <span class="o">|</span>   <span class="mf">1.7780077550260047</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000947</span><span class="n">C36BC6A35524084F57F0EF31B334036D6B4415C3552407A820E04121C3340</span>
  <span class="mi">444</span> <span class="o">|</span>    <span class="mi">112</span> <span class="o">|</span>    <span class="mi">293</span> <span class="o">|</span>   <span class="mf">1.5666616135496316</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000947</span><span class="n">C36BC6A35524084F57F0EF31B33405E21BDF26A3552405F3AF768BB1B3340</span>
  <span class="mi">215</span> <span class="o">|</span>    <span class="mi">107</span> <span class="o">|</span>    <span class="mi">132</span> <span class="o">|</span>    <span class="mf">3.370345163726236</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000001</span><span class="n">F4F26C94E3552406F9406C8E11B3340EF6BC94F4F3552402351C3126A1B3340</span>
  <span class="mi">214</span> <span class="o">|</span>    <span class="mi">109</span> <span class="o">|</span>    <span class="mi">132</span> <span class="o">|</span>   <span class="mf">1.4489906050867754</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">A7EA1ED95C3552408E07B6A5691B3340EF6BC94F4F3552402351C3126A1B3340</span>
  <span class="mi">216</span> <span class="o">|</span>    <span class="mi">132</span> <span class="o">|</span>    <span class="mi">133</span> <span class="o">|</span>    <span class="mf">2.446762529952932</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">EF6BC94F4F3552402351C3126A1B33401FC253234F35524061B0D128131B3340</span>
  <span class="mi">209</span> <span class="o">|</span>    <span class="mi">132</span> <span class="o">|</span>    <span class="mi">129</span> <span class="o">|</span>   <span class="mf">1.1289208611319963</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">EF6BC94F4F3552402351C3126A1B33403CCFE9C3443552404727A6666A1B3340</span>
  <span class="mi">551</span> <span class="o">|</span>     <span class="mi">93</span> <span class="o">|</span>    <span class="mi">373</span> <span class="o">|</span>  <span class="mf">0.49530085030973936</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000003</span><span class="n">D0565BF933552400D648742151C334008F2A265933552404BA544B7031C3340</span>
  <span class="mi">550</span> <span class="o">|</span>    <span class="mi">371</span> <span class="o">|</span>    <span class="mi">373</span> <span class="o">|</span> <span class="mf">0.035700708884960096</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000505</span><span class="n">CE9109335524063B9008F031C334008F2A265933552404BA544B7031C3340</span>
  <span class="mi">552</span> <span class="o">|</span>    <span class="mi">373</span> <span class="o">|</span>    <span class="mi">374</span> <span class="o">|</span>   <span class="mf">0.9964875791326322</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000008</span><span class="n">F2A265933552404BA544B7031C334062D68BA19C35524020E6DC37081C3340</span>
  <span class="mi">258</span> <span class="o">|</span>    <span class="mi">373</span> <span class="o">|</span>    <span class="mi">157</span> <span class="o">|</span>   <span class="mf">1.8255905409160154</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000008</span><span class="n">F2A265933552404BA544B7031C3340F716201B923552402B6A300DC31B3340</span>
   <span class="mi">63</span> <span class="o">|</span>     <span class="mi">13</span> <span class="o">|</span>     <span class="mi">37</span> <span class="o">|</span>     <span class="mf">2.19566232300529</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">E63B9DD0903552402B22799DC31B334074942820923552407ACAC573111C3340</span>
  <span class="mi">352</span> <span class="o">|</span>     <span class="mi">37</span> <span class="o">|</span>    <span class="mi">223</span> <span class="o">|</span>   <span class="mf">0.9455073687469304</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000074942820923552407</span><span class="n">ACAC573111C33409162804493355240B62BF4C1321C3340</span>
  <span class="mi">185</span> <span class="o">|</span>     <span class="mi">37</span> <span class="o">|</span>    <span class="mi">112</span> <span class="o">|</span>    <span class="mf">4.302234144936451</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000074942820923552407</span><span class="n">ACAC573111C3340947C36BC6A35524084F57F0EF31B3340</span>
   <span class="mi">62</span> <span class="o">|</span>     <span class="mi">93</span> <span class="o">|</span>     <span class="mi">37</span> <span class="o">|</span>   <span class="mf">0.2040401587256805</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000003</span><span class="n">D0565BF933552400D648742151C334074942820923552407ACAC573111C3340</span>
  <span class="mi">154</span> <span class="o">|</span>    <span class="mi">227</span> <span class="o">|</span>     <span class="mi">93</span> <span class="o">|</span>   <span class="mf">0.8307103430560616</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000000</span><span class="n">DAC3EB2943552408146448C321C33403D0565BF933552400D648742151C3340</span>
  <span class="mi">356</span> <span class="o">|</span>    <span class="mi">228</span> <span class="o">|</span>    <span class="mi">227</span> <span class="o">|</span>   <span class="mf">0.5403479119085514</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000005</span><span class="n">A5DF34F95355240B3446799451C33400DAC3EB2943552408146448C321C3340</span>
  <span class="mi">238</span> <span class="o">|</span>     <span class="mi">99</span> <span class="o">|</span>    <span class="mi">145</span> <span class="o">|</span>   <span class="mf">1.1480376358182636</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000047</span><span class="n">FF70FC7535524030EB0FDE681B33406499D9426B3552407D40A033691B3340</span>
  <span class="mi">235</span> <span class="o">|</span>    <span class="mi">145</span> <span class="o">|</span>    <span class="mi">144</span> <span class="o">|</span>    <span class="mf">4.811101427385413</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000006499</span><span class="n">D9426B3552407D40A033691B33402EF944436B3552409389004CBE1A3340</span>
  <span class="mi">181</span> <span class="o">|</span>    <span class="mi">145</span> <span class="o">|</span>    <span class="mi">109</span> <span class="o">|</span>   <span class="mf">1.5428172045811037</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000006499</span><span class="n">D9426B3552407D40A033691B3340A7EA1ED95C3552408E07B6A5691B3340</span>
  <span class="mi">237</span> <span class="o">|</span>    <span class="mi">293</span> <span class="o">|</span>    <span class="mi">145</span> <span class="o">|</span>   <span class="mf">2.3144715951044286</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000005</span><span class="n">E21BDF26A3552405F3AF768BB1B33406499D9426B3552407D40A033691B3340</span>
  <span class="mi">552</span> <span class="o">|</span>    <span class="mi">373</span> <span class="o">|</span>    <span class="mi">374</span> <span class="o">|</span>   <span class="mf">0.9964875791326322</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000008</span><span class="n">F2A265933552404BA544B7031C334062D68BA19C35524020E6DC37081C3340</span>
  <span class="mi">549</span> <span class="o">|</span>    <span class="mi">374</span> <span class="o">|</span>    <span class="mi">372</span> <span class="o">|</span>  <span class="mf">0.45898206676688796</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000062</span><span class="n">D68BA19C35524020E6DC37081C3340073763E2A035524090DD054A0A1C3340</span>
    <span class="mi">1</span> <span class="o">|</span>    <span class="mi">374</span> <span class="o">|</span>    <span class="mi">375</span> <span class="o">|</span>   <span class="mf">1.9504853345167399</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000062</span><span class="n">D68BA19C35524020E6DC37081C33409F81470A9B355240C0571932C31B3340</span>
  <span class="mi">155</span> <span class="o">|</span>    <span class="mi">111</span> <span class="o">|</span>     <span class="mi">93</span> <span class="o">|</span>    <span class="mf">1.142872429095983</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000004489963</span><span class="n">C9E3552408C9A54D91C1C33403D0565BF933552400D648742151C3340</span>
  <span class="mi">352</span> <span class="o">|</span>     <span class="mi">37</span> <span class="o">|</span>    <span class="mi">223</span> <span class="o">|</span>   <span class="mf">0.9455073687469304</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000074942820923552407</span><span class="n">ACAC573111C33409162804493355240B62BF4C1321C3340</span>
  <span class="mi">353</span> <span class="o">|</span>    <span class="mi">223</span> <span class="o">|</span>    <span class="mi">224</span> <span class="o">|</span>    <span class="mf">0.518539315258155</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000009162804493355240</span><span class="n">B62BF4C1321C334067B224E593355240608EC305451C3340</span>
  <span class="mi">357</span> <span class="o">|</span>     <span class="mi">82</span> <span class="o">|</span>    <span class="mi">228</span> <span class="o">|</span>   <span class="mf">0.6310753391117633</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000420180089635524054</span><span class="n">AA44D95B1C33405A5DF34F95355240B3446799451C3340</span>
  <span class="mi">356</span> <span class="o">|</span>    <span class="mi">228</span> <span class="o">|</span>    <span class="mi">227</span> <span class="o">|</span>   <span class="mf">0.5403479119085514</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000005</span><span class="n">A5DF34F95355240B3446799451C33400DAC3EB2943552408146448C321C3340</span>
  <span class="mi">210</span> <span class="o">|</span>    <span class="mi">128</span> <span class="o">|</span>    <span class="mi">129</span> <span class="o">|</span>   <span class="mf">3.3441514167242206</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000006</span><span class="n">CB2463D4435524075E1AC2DE11B33403CCFE9C3443552404727A6666A1B3340</span>
  <span class="mi">211</span> <span class="o">|</span>    <span class="mi">129</span> <span class="o">|</span>    <span class="mi">130</span> <span class="o">|</span>   <span class="mf">2.4371693866847517</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000003</span><span class="n">CCFE9C3443552404727A6666A1B33406C25749744355240FC5AF2D3131B3340</span>
  <span class="mi">203</span> <span class="o">|</span>    <span class="mi">129</span> <span class="o">|</span>    <span class="mi">125</span> <span class="o">|</span>   <span class="mf">1.1478621061192884</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000003</span><span class="n">CCFE9C3443552404727A6666A1B334024C9BD0A3A355240947C36BC6A1B3340</span>
  <span class="mi">209</span> <span class="o">|</span>    <span class="mi">132</span> <span class="o">|</span>    <span class="mi">129</span> <span class="o">|</span>   <span class="mf">1.1289208611319963</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">EF6BC94F4F3552402351C3126A1B33403CCFE9C3443552404727A6666A1B3340</span>
  <span class="mi">215</span> <span class="o">|</span>    <span class="mi">107</span> <span class="o">|</span>    <span class="mi">132</span> <span class="o">|</span>    <span class="mf">3.370345163726236</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000001</span><span class="n">F4F26C94E3552406F9406C8E11B3340EF6BC94F4F3552402351C3126A1B3340</span>
  <span class="mi">214</span> <span class="o">|</span>    <span class="mi">109</span> <span class="o">|</span>    <span class="mi">132</span> <span class="o">|</span>   <span class="mf">1.4489906050867754</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">A7EA1ED95C3552408E07B6A5691B3340EF6BC94F4F3552402351C3126A1B3340</span>
  <span class="mi">216</span> <span class="o">|</span>    <span class="mi">132</span> <span class="o">|</span>    <span class="mi">133</span> <span class="o">|</span>    <span class="mf">2.446762529952932</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">EF6BC94F4F3552402351C3126A1B33401FC253234F35524061B0D128131B3340</span>
  <span class="mi">209</span> <span class="o">|</span>    <span class="mi">132</span> <span class="o">|</span>    <span class="mi">129</span> <span class="o">|</span>   <span class="mf">1.1289208611319963</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">EF6BC94F4F3552402351C3126A1B33403CCFE9C3443552404727A6666A1B3340</span>
  <span class="mi">232</span> <span class="o">|</span>     <span class="mi">35</span> <span class="o">|</span>    <span class="mi">142</span> <span class="o">|</span>   <span class="mf">1.2165702630128858</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000040</span><span class="n">BE840A8E3552403E6BC889C01A3340C9C9C4AD823552402DEC6987BF1A3340</span>
  <span class="mi">231</span> <span class="o">|</span>     <span class="mi">98</span> <span class="o">|</span>    <span class="mi">142</span> <span class="o">|</span>    <span class="mf">4.748852358591146</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000064</span><span class="n">A82FF0813552409540EF32681B3340C9C9C4AD823552402DEC6987BF1A3340</span>
  <span class="mi">281</span> <span class="o">|</span>    <span class="mi">142</span> <span class="o">|</span>    <span class="mi">169</span> <span class="o">|</span>   <span class="mf">3.1864848951305538</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">C9C9C4AD823552402DEC6987BF1A334099A14CFE82355240D8E77B574E1A3340</span>
  <span class="mi">233</span> <span class="o">|</span>    <span class="mi">142</span> <span class="o">|</span>    <span class="mi">143</span> <span class="o">|</span>   <span class="mf">1.2838232840554622</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">C9C9C4AD823552402DEC6987BF1A33407C8560B0763552405D00755EBE1A3340</span>
  <span class="mi">185</span> <span class="o">|</span>     <span class="mi">37</span> <span class="o">|</span>    <span class="mi">112</span> <span class="o">|</span>    <span class="mf">4.302234144936451</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000074942820923552407</span><span class="n">ACAC573111C3340947C36BC6A35524084F57F0EF31B3340</span>
  <span class="mi">463</span> <span class="o">|</span>    <span class="mi">112</span> <span class="o">|</span>    <span class="mi">306</span> <span class="o">|</span>   <span class="mf">1.7780077550260047</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000947</span><span class="n">C36BC6A35524084F57F0EF31B334036D6B4415C3552407A820E04121C3340</span>
  <span class="mi">444</span> <span class="o">|</span>    <span class="mi">112</span> <span class="o">|</span>    <span class="mi">293</span> <span class="o">|</span>   <span class="mf">1.5666616135496316</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000947</span><span class="n">C36BC6A35524084F57F0EF31B33405E21BDF26A3552405F3AF768BB1B3340</span>
  <span class="mi">353</span> <span class="o">|</span>    <span class="mi">223</span> <span class="o">|</span>    <span class="mi">224</span> <span class="o">|</span>    <span class="mf">0.518539315258155</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000009162804493355240</span><span class="n">B62BF4C1321C334067B224E593355240608EC305451C3340</span>
   <span class="mi">64</span> <span class="o">|</span>    <span class="mi">224</span> <span class="o">|</span>     <span class="mi">38</span> <span class="o">|</span>    <span class="mf">0.573025157917078</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000067</span><span class="n">B224E593355240608EC305451C3340139A249694355240BB7B2535591C3340</span>
  <span class="mi">397</span> <span class="o">|</span>     <span class="mi">82</span> <span class="o">|</span>    <span class="mi">260</span> <span class="o">|</span>   <span class="mf">1.2953298942217164</span> <span class="o">|</span> <span class="mf">0102000020E610000006000000420180089635524054</span><span class="n">AA44D95B1C334059E1F148973552408E88731E5F1C3340B7F75F9D99355240ABC9F89C601C334027005A4E9D355240742090F0621C33401F20A9CF9F35524056777643641C3340CB8E43B3A1355240C00D8C17661C3340</span>
  <span class="mi">357</span> <span class="o">|</span>     <span class="mi">82</span> <span class="o">|</span>    <span class="mi">228</span> <span class="o">|</span>   <span class="mf">0.6310753391117633</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000420180089635524054</span><span class="n">AA44D95B1C33405A5DF34F95355240B3446799451C3340</span>
   <span class="mi">65</span> <span class="o">|</span>     <span class="mi">82</span> <span class="o">|</span>     <span class="mi">38</span> <span class="o">|</span>  <span class="mf">0.17177573693744302</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000420180089635524054</span><span class="n">AA44D95B1C3340139A249694355240BB7B2535591C3340</span>
  <span class="mi">133</span> <span class="o">|</span>     <span class="mi">92</span> <span class="o">|</span>     <span class="mi">82</span> <span class="o">|</span>   <span class="mf">1.0990853762341473</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">C5C5F6FF96355240C3C4D5B7821C3340420180089635524054AA44D95B1C3340</span>
  <span class="mi">281</span> <span class="o">|</span>    <span class="mi">142</span> <span class="o">|</span>    <span class="mi">169</span> <span class="o">|</span>   <span class="mf">3.1864848951305538</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">C9C9C4AD823552402DEC6987BF1A334099A14CFE82355240D8E77B574E1A3340</span>
  <span class="mi">280</span> <span class="o">|</span>    <span class="mi">168</span> <span class="o">|</span>    <span class="mi">169</span> <span class="o">|</span>   <span class="mf">1.2990234855081648</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">ABD84E4A773552401950148D5A1A334099A14CFE82355240D8E77B574E1A3340</span>
  <span class="mi">256</span> <span class="o">|</span>    <span class="mi">169</span> <span class="o">|</span>    <span class="mi">156</span> <span class="o">|</span>     <span class="mf">0.65425589963613</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000099</span><span class="n">A14CFE82355240D8E77B574E1A3340BA79F4D0883552405F6EE646471A3340</span>
  <span class="mi">236</span> <span class="o">|</span>    <span class="mi">143</span> <span class="o">|</span>    <span class="mi">144</span> <span class="o">|</span>   <span class="mf">1.2230800365242556</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000007</span><span class="n">C8560B0763552405D00755EBE1A33402EF944436B3552409389004CBE1A3340</span>
  <span class="mi">277</span> <span class="o">|</span>    <span class="mi">144</span> <span class="o">|</span>    <span class="mi">167</span> <span class="o">|</span>   <span class="mf">2.5029793486773766</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000002</span><span class="n">EF944436B3552409389004CBE1A334016139B8F6B35524055E70764651A3340</span>
  <span class="mi">184</span> <span class="o">|</span>    <span class="mi">144</span> <span class="o">|</span>    <span class="mi">110</span> <span class="o">|</span>   <span class="mf">1.5240272770369918</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000002</span><span class="n">EF944436B3552409389004CBE1A33400C546B065D3552404B958334BE1A3340</span>
  <span class="mi">235</span> <span class="o">|</span>    <span class="mi">145</span> <span class="o">|</span>    <span class="mi">144</span> <span class="o">|</span>    <span class="mf">4.811101427385413</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000006499</span><span class="n">D9426B3552407D40A033691B33402EF944436B3552409389004CBE1A3340</span>
  <span class="mi">257</span> <span class="o">|</span>    <span class="mi">155</span> <span class="o">|</span>    <span class="mi">156</span> <span class="o">|</span>   <span class="mf">0.9381669123114619</span> <span class="o">|</span> <span class="mf">0102000020E610000005000000</span><span class="n">E13F82878E355240E807BF1E5D1A33404C3E2C8A8D3552401E2CADD0511A33407D3B2E4F8C3552401A530B804C1A334012BC218D8A355240937B702D491A3340BA79F4D0883552405F6EE646471A3340</span>
   <span class="mi">59</span> <span class="o">|</span>    <span class="mi">155</span> <span class="o">|</span>     <span class="mi">35</span> <span class="o">|</span>   <span class="mf">2.7991838631099433</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">E13F82878E355240E807BF1E5D1A334040BE840A8E3552403E6BC889C01A3340</span>
  <span class="mi">255</span> <span class="o">|</span>    <span class="mi">170</span> <span class="o">|</span>    <span class="mi">155</span> <span class="o">|</span>   <span class="mf">0.8047246919827096</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000346</span><span class="n">CEFAE8E35524009CB338A401A3340E13F82878E355240E807BF1E5D1A3340</span>
  <span class="mi">208</span> <span class="o">|</span>    <span class="mi">107</span> <span class="o">|</span>    <span class="mi">128</span> <span class="o">|</span>   <span class="mf">1.1289984189827782</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000001</span><span class="n">F4F26C94E3552406F9406C8E11B33406CB2463D4435524075E1AC2DE11B3340</span>
  <span class="mi">215</span> <span class="o">|</span>    <span class="mi">107</span> <span class="o">|</span>    <span class="mi">132</span> <span class="o">|</span>    <span class="mf">3.370345163726236</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000001</span><span class="n">F4F26C94E3552406F9406C8E11B3340EF6BC94F4F3552402351C3126A1B3340</span>
  <span class="mi">178</span> <span class="o">|</span>    <span class="mi">131</span> <span class="o">|</span>    <span class="mi">107</span> <span class="o">|</span>   <span class="mf">2.0937735887027458</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000037</span><span class="n">ED180D4F355240A277CF262C1C33401F4F26C94E3552406F9406C8E11B3340</span>
  <span class="mi">552</span> <span class="o">|</span>    <span class="mi">373</span> <span class="o">|</span>    <span class="mi">374</span> <span class="o">|</span>   <span class="mf">0.9964875791326322</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000008</span><span class="n">F2A265933552404BA544B7031C334062D68BA19C35524020E6DC37081C3340</span>
  <span class="mi">549</span> <span class="o">|</span>    <span class="mi">374</span> <span class="o">|</span>    <span class="mi">372</span> <span class="o">|</span>  <span class="mf">0.45898206676688796</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000062</span><span class="n">D68BA19C35524020E6DC37081C3340073763E2A035524090DD054A0A1C3340</span>
    <span class="mi">1</span> <span class="o">|</span>    <span class="mi">374</span> <span class="o">|</span>    <span class="mi">375</span> <span class="o">|</span>   <span class="mf">1.9504853345167399</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000062</span><span class="n">D68BA19C35524020E6DC37081C33409F81470A9B355240C0571932C31B3340</span>
  <span class="mi">464</span> <span class="o">|</span>    <span class="mi">109</span> <span class="o">|</span>    <span class="mi">306</span> <span class="o">|</span>    <span class="mf">4.740167131311484</span> <span class="o">|</span> <span class="mf">0102000020E610000003000000</span><span class="n">A7EA1ED95C3552408E07B6A5691B33403649E29B5C3552409558631A971B334036D6B4415C3552407A820E04121C3340</span>
  <span class="mi">463</span> <span class="o">|</span>    <span class="mi">112</span> <span class="o">|</span>    <span class="mi">306</span> <span class="o">|</span>   <span class="mf">1.7780077550260047</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000947</span><span class="n">C36BC6A35524084F57F0EF31B334036D6B4415C3552407A820E04121C3340</span>
  <span class="mi">213</span> <span class="o">|</span>    <span class="mi">306</span> <span class="o">|</span>    <span class="mi">131</span> <span class="o">|</span>   <span class="mf">1.5935105121162316</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000036</span><span class="n">D6B4415C3552407A820E04121C334037ED180D4F355240A277CF262C1C3340</span>
  <span class="mi">129</span> <span class="o">|</span>    <span class="mi">306</span> <span class="o">|</span>     <span class="mi">79</span> <span class="o">|</span>   <span class="mf">0.7353178302837047</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000036</span><span class="n">D6B4415C3552407A820E04121C3340066685225D355240EF1417EC2B1C3340</span>
  <span class="mi">234</span> <span class="o">|</span>     <span class="mi">99</span> <span class="o">|</span>    <span class="mi">143</span> <span class="o">|</span>    <span class="mf">4.800252749039815</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000047</span><span class="n">FF70FC7535524030EB0FDE681B33407C8560B0763552405D00755EBE1A3340</span>
  <span class="mi">233</span> <span class="o">|</span>    <span class="mi">142</span> <span class="o">|</span>    <span class="mi">143</span> <span class="o">|</span>   <span class="mf">1.2838232840554622</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">C9C9C4AD823552402DEC6987BF1A33407C8560B0763552405D00755EBE1A3340</span>
  <span class="mi">279</span> <span class="o">|</span>    <span class="mi">143</span> <span class="o">|</span>    <span class="mi">168</span> <span class="o">|</span>    <span class="mf">2.810686789526953</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000007</span><span class="n">C8560B0763552405D00755EBE1A3340ABD84E4A773552401950148D5A1A3340</span>
  <span class="mi">236</span> <span class="o">|</span>    <span class="mi">143</span> <span class="o">|</span>    <span class="mi">144</span> <span class="o">|</span>   <span class="mf">1.2230800365242556</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000007</span><span class="n">C8560B0763552405D00755EBE1A33402EF944436B3552409389004CBE1A3340</span>
  <span class="mi">252</span> <span class="o">|</span>    <span class="mi">159</span> <span class="o">|</span>    <span class="mi">153</span> <span class="o">|</span>   <span class="mf">2.8249210409685466</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">B73066A68F3552409E4B27C8BE1A33403982AF4390355240D25B97755A1A3340</span>
   <span class="mi">58</span> <span class="o">|</span>    <span class="mi">159</span> <span class="o">|</span>     <span class="mi">35</span> <span class="o">|</span>  <span class="mf">0.17917691218928386</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">B73066A68F3552409E4B27C8BE1A334040BE840A8E3552403E6BC889C01A3340</span>
  <span class="mi">261</span> <span class="o">|</span>    <span class="mi">311</span> <span class="o">|</span>    <span class="mi">159</span> <span class="o">|</span>   <span class="mf">3.4267239172165445</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000000</span><span class="n">A01AF858F3552400D8D2782381B3340B73066A68F3552409E4B27C8BE1A3340</span>
  <span class="mi">210</span> <span class="o">|</span>    <span class="mi">128</span> <span class="o">|</span>    <span class="mi">129</span> <span class="o">|</span>   <span class="mf">3.3441514167242206</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000006</span><span class="n">CB2463D4435524075E1AC2DE11B33403CCFE9C3443552404727A6666A1B3340</span>
  <span class="mi">211</span> <span class="o">|</span>    <span class="mi">129</span> <span class="o">|</span>    <span class="mi">130</span> <span class="o">|</span>   <span class="mf">2.4371693866847517</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000003</span><span class="n">CCFE9C3443552404727A6666A1B33406C25749744355240FC5AF2D3131B3340</span>
  <span class="mi">203</span> <span class="o">|</span>    <span class="mi">129</span> <span class="o">|</span>    <span class="mi">125</span> <span class="o">|</span>   <span class="mf">1.1478621061192884</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000003</span><span class="n">CCFE9C3443552404727A6666A1B334024C9BD0A3A355240947C36BC6A1B3340</span>
  <span class="mi">209</span> <span class="o">|</span>    <span class="mi">132</span> <span class="o">|</span>    <span class="mi">129</span> <span class="o">|</span>   <span class="mf">1.1289208611319963</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">EF6BC94F4F3552402351C3126A1B33403CCFE9C3443552404727A6666A1B3340</span>
  <span class="mi">204</span> <span class="o">|</span>    <span class="mi">124</span> <span class="o">|</span>    <span class="mi">125</span> <span class="o">|</span>    <span class="mf">3.317664655932036</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000083</span><span class="n">E8FF0B3A355240CF2CAE96E01B334024C9BD0A3A355240947C36BC6A1B3340</span>
  <span class="mi">205</span> <span class="o">|</span>    <span class="mi">125</span> <span class="o">|</span>    <span class="mi">126</span> <span class="o">|</span>    <span class="mf">2.427949297893071</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000024</span><span class="n">C9BD0A3A355240947C36BC6A1B3340539275383A3552406D86657D141B3340</span>
  <span class="mi">167</span> <span class="o">|</span>    <span class="mi">125</span> <span class="o">|</span>    <span class="mi">101</span> <span class="o">|</span>    <span class="mf">1.429872300730441</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000024</span><span class="n">C9BD0A3A355240947C36BC6A1B33409C1320AF2C355240D5C7E8256B1B3340</span>
  <span class="mi">203</span> <span class="o">|</span>    <span class="mi">129</span> <span class="o">|</span>    <span class="mi">125</span> <span class="o">|</span>   <span class="mf">1.1478621061192884</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000003</span><span class="n">CCFE9C3443552404727A6666A1B334024C9BD0A3A355240947C36BC6A1B3340</span>
  <span class="mi">131</span> <span class="o">|</span>     <span class="mi">38</span> <span class="o">|</span>     <span class="mi">81</span> <span class="o">|</span>    <span class="mf">3.219256987972808</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000139</span><span class="n">A249694355240BB7B2535591C3340DB00C7F9763552401EFB592C451C3340</span>
   <span class="mi">39</span> <span class="o">|</span>     <span class="mi">38</span> <span class="o">|</span>     <span class="mi">24</span> <span class="o">|</span>   <span class="mf">1.1074401160794767</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000139</span><span class="n">A249694355240BB7B2535591C3340AE896077953552404D6C9967801C3340</span>
   <span class="mi">65</span> <span class="o">|</span>     <span class="mi">82</span> <span class="o">|</span>     <span class="mi">38</span> <span class="o">|</span>  <span class="mf">0.17177573693744302</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000420180089635524054</span><span class="n">AA44D95B1C3340139A249694355240BB7B2535591C3340</span>
   <span class="mi">64</span> <span class="o">|</span>    <span class="mi">224</span> <span class="o">|</span>     <span class="mi">38</span> <span class="o">|</span>    <span class="mf">0.573025157917078</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000067</span><span class="n">B224E593355240608EC305451C3340139A249694355240BB7B2535591C3340</span>
  <span class="mi">257</span> <span class="o">|</span>    <span class="mi">155</span> <span class="o">|</span>    <span class="mi">156</span> <span class="o">|</span>   <span class="mf">0.9381669123114619</span> <span class="o">|</span> <span class="mf">0102000020E610000005000000</span><span class="n">E13F82878E355240E807BF1E5D1A33404C3E2C8A8D3552401E2CADD0511A33407D3B2E4F8C3552401A530B804C1A334012BC218D8A355240937B702D491A3340BA79F4D0883552405F6EE646471A3340</span>
  <span class="mi">282</span> <span class="o">|</span>    <span class="mi">156</span> <span class="o">|</span>    <span class="mi">170</span> <span class="o">|</span>   <span class="mf">0.6560431337672807</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">BA79F4D0883552405F6EE646471A3340346CEFAE8E35524009CB338A401A3340</span>
  <span class="mi">256</span> <span class="o">|</span>    <span class="mi">169</span> <span class="o">|</span>    <span class="mi">156</span> <span class="o">|</span>     <span class="mf">0.65425589963613</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000099</span><span class="n">A14CFE82355240D8E77B574E1A3340BA79F4D0883552405F6EE646471A3340</span>
  <span class="mi">130</span> <span class="o">|</span>     <span class="mi">79</span> <span class="o">|</span>     <span class="mi">80</span> <span class="o">|</span>   <span class="mf">0.4867092361386616</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000066685225</span><span class="n">D355240EF1417EC2B1C334070E591E45E355240F99FFCDD3B1C3340</span>
  <span class="mi">129</span> <span class="o">|</span>    <span class="mi">306</span> <span class="o">|</span>     <span class="mi">79</span> <span class="o">|</span>   <span class="mf">0.7353178302837047</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000036</span><span class="n">D6B4415C3552407A820E04121C3340066685225D355240EF1417EC2B1C3340</span>
  <span class="mi">153</span> <span class="o">|</span>     <span class="mi">24</span> <span class="o">|</span>     <span class="mi">92</span> <span class="o">|</span>  <span class="mf">0.17659307505962935</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">AE896077953552404D6C9967801C3340C5C5F6FF96355240C3C4D5B7821C3340</span>
  <span class="mi">152</span> <span class="o">|</span>     <span class="mi">91</span> <span class="o">|</span>     <span class="mi">92</span> <span class="o">|</span>   <span class="mf">1.3139255848998028</span> <span class="o">|</span> <span class="mf">0102000020E610000004000000</span><span class="n">F48EAE2D97355240EDFFD258B11C3340C438245A97355240BD72BD6DA61C334012047E4397355240F83F76CD9A1C3340C5C5F6FF96355240C3C4D5B7821C3340</span>
  <span class="mi">480</span> <span class="o">|</span>     <span class="mi">92</span> <span class="o">|</span>    <span class="mi">316</span> <span class="o">|</span>    <span class="mf">0.960106691178696</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">C5C5F6FF96355240C3C4D5B7821C3340DE8C3FF69F355240168FE623841C3340</span>
  <span class="mi">133</span> <span class="o">|</span>     <span class="mi">92</span> <span class="o">|</span>     <span class="mi">82</span> <span class="o">|</span>   <span class="mf">1.0990853762341473</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">C5C5F6FF96355240C3C4D5B7821C3340420180089635524054AA44D95B1C3340</span>
  <span class="mi">366</span> <span class="o">|</span>     <span class="mi">11</span> <span class="o">|</span>    <span class="mi">236</span> <span class="o">|</span>    <span class="mf">5.513763409806261</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000064</span><span class="n">C279828E3552402FB9F6AA3A1A3340711C78B55C355240FE405EB46C1A3340</span>
  <span class="mi">283</span> <span class="o">|</span>     <span class="mi">11</span> <span class="o">|</span>    <span class="mi">170</span> <span class="o">|</span>  <span class="mf">0.16634404990031487</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000064</span><span class="n">C279828E3552402FB9F6AA3A1A3340346CEFAE8E35524009CB338A401A3340</span>
   <span class="mi">17</span> <span class="o">|</span>    <span class="mi">359</span> <span class="o">|</span>     <span class="mi">11</span> <span class="o">|</span>   <span class="mf">0.2037292601140293</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000009</span><span class="n">EBDE94C903552404EF27E37381A334064C279828E3552402FB9F6AA3A1A3340</span>
  <span class="mi">283</span> <span class="o">|</span>     <span class="mi">11</span> <span class="o">|</span>    <span class="mi">170</span> <span class="o">|</span>  <span class="mf">0.16634404990031487</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000064</span><span class="n">C279828E3552402FB9F6AA3A1A3340346CEFAE8E35524009CB338A401A3340</span>
  <span class="mi">282</span> <span class="o">|</span>    <span class="mi">156</span> <span class="o">|</span>    <span class="mi">170</span> <span class="o">|</span>   <span class="mf">0.6560431337672807</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">BA79F4D0883552405F6EE646471A3340346CEFAE8E35524009CB338A401A3340</span>
  <span class="mi">262</span> <span class="o">|</span>    <span class="mi">170</span> <span class="o">|</span>    <span class="mi">160</span> <span class="o">|</span>   <span class="mf">0.2061301681218233</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000346</span><span class="n">CEFAE8E35524009CB338A401A33409EEBFB7090355240CF48298D3D1A3340</span>
  <span class="mi">255</span> <span class="o">|</span>    <span class="mi">170</span> <span class="o">|</span>    <span class="mi">155</span> <span class="o">|</span>   <span class="mf">0.8047246919827096</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000346</span><span class="n">CEFAE8E35524009CB338A401A3340E13F82878E355240E807BF1E5D1A3340</span>
  <span class="mi">397</span> <span class="o">|</span>     <span class="mi">82</span> <span class="o">|</span>    <span class="mi">260</span> <span class="o">|</span>   <span class="mf">1.2953298942217164</span> <span class="o">|</span> <span class="mf">0102000020E610000006000000420180089635524054</span><span class="n">AA44D95B1C334059E1F148973552408E88731E5F1C3340B7F75F9D99355240ABC9F89C601C334027005A4E9D355240742090F0621C33401F20A9CF9F35524056777643641C3340CB8E43B3A1355240C00D8C17661C3340</span>
  <span class="mi">357</span> <span class="o">|</span>     <span class="mi">82</span> <span class="o">|</span>    <span class="mi">228</span> <span class="o">|</span>   <span class="mf">0.6310753391117633</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000420180089635524054</span><span class="n">AA44D95B1C33405A5DF34F95355240B3446799451C3340</span>
   <span class="mi">65</span> <span class="o">|</span>     <span class="mi">82</span> <span class="o">|</span>     <span class="mi">38</span> <span class="o">|</span>  <span class="mf">0.17177573693744302</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000420180089635524054</span><span class="n">AA44D95B1C3340139A249694355240BB7B2535591C3340</span>
  <span class="mi">133</span> <span class="o">|</span>     <span class="mi">92</span> <span class="o">|</span>     <span class="mi">82</span> <span class="o">|</span>   <span class="mf">1.0990853762341473</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">C5C5F6FF96355240C3C4D5B7821C3340420180089635524054AA44D95B1C3340</span>
  <span class="mi">263</span> <span class="o">|</span>    <span class="mi">153</span> <span class="o">|</span>    <span class="mi">160</span> <span class="o">|</span>   <span class="mf">0.8140006470576503</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000003982</span><span class="n">AF4390355240D25B97755A1A33409EEBFB7090355240CF48298D3D1A3340</span>
  <span class="mi">534</span> <span class="o">|</span>    <span class="mi">160</span> <span class="o">|</span>    <span class="mi">359</span> <span class="o">|</span>  <span class="mf">0.15094729937231907</span> <span class="o">|</span> <span class="mf">0102000020E6100000030000009</span><span class="n">EEBFB7090355240CF48298D3D1A3340F8D73C5890355240E868554B3A1A33409EBDE94C903552404EF27E37381A3340</span>
  <span class="mi">253</span> <span class="o">|</span>    <span class="mi">160</span> <span class="o">|</span>    <span class="mi">154</span> <span class="o">|</span>   <span class="mf">0.6184639371754016</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000009</span><span class="n">EEBFB7090355240CF48298D3D1A3340EF8FF7AA953552403375B22F341A3340</span>
  <span class="mi">262</span> <span class="o">|</span>    <span class="mi">170</span> <span class="o">|</span>    <span class="mi">160</span> <span class="o">|</span>   <span class="mf">0.2061301681218233</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000346</span><span class="n">CEFAE8E35524009CB338A401A33409EEBFB7090355240CF48298D3D1A3340</span>
  <span class="mi">464</span> <span class="o">|</span>    <span class="mi">109</span> <span class="o">|</span>    <span class="mi">306</span> <span class="o">|</span>    <span class="mf">4.740167131311484</span> <span class="o">|</span> <span class="mf">0102000020E610000003000000</span><span class="n">A7EA1ED95C3552408E07B6A5691B33403649E29B5C3552409558631A971B334036D6B4415C3552407A820E04121C3340</span>
  <span class="mi">463</span> <span class="o">|</span>    <span class="mi">112</span> <span class="o">|</span>    <span class="mi">306</span> <span class="o">|</span>   <span class="mf">1.7780077550260047</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000947</span><span class="n">C36BC6A35524084F57F0EF31B334036D6B4415C3552407A820E04121C3340</span>
  <span class="mi">213</span> <span class="o">|</span>    <span class="mi">306</span> <span class="o">|</span>    <span class="mi">131</span> <span class="o">|</span>   <span class="mf">1.5935105121162316</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000036</span><span class="n">D6B4415C3552407A820E04121C334037ED180D4F355240A277CF262C1C3340</span>
  <span class="mi">129</span> <span class="o">|</span>    <span class="mi">306</span> <span class="o">|</span>     <span class="mi">79</span> <span class="o">|</span>   <span class="mf">0.7353178302837047</span> <span class="o">|</span> <span class="mf">0102000020E61000000200000036</span><span class="n">D6B4415C3552407A820E04121C3340066685225D355240EF1417EC2B1C3340</span>
  <span class="mi">236</span> <span class="o">|</span>    <span class="mi">143</span> <span class="o">|</span>    <span class="mi">144</span> <span class="o">|</span>   <span class="mf">1.2230800365242556</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000007</span><span class="n">C8560B0763552405D00755EBE1A33402EF944436B3552409389004CBE1A3340</span>
  <span class="mi">277</span> <span class="o">|</span>    <span class="mi">144</span> <span class="o">|</span>    <span class="mi">167</span> <span class="o">|</span>   <span class="mf">2.5029793486773766</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000002</span><span class="n">EF944436B3552409389004CBE1A334016139B8F6B35524055E70764651A3340</span>
  <span class="mi">184</span> <span class="o">|</span>    <span class="mi">144</span> <span class="o">|</span>    <span class="mi">110</span> <span class="o">|</span>   <span class="mf">1.5240272770369918</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000002</span><span class="n">EF944436B3552409389004CBE1A33400C546B065D3552404B958334BE1A3340</span>
  <span class="mi">235</span> <span class="o">|</span>    <span class="mi">145</span> <span class="o">|</span>    <span class="mi">144</span> <span class="o">|</span>    <span class="mf">4.811101427385413</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000006499</span><span class="n">D9426B3552407D40A033691B33402EF944436B3552409389004CBE1A3340</span>
  <span class="mi">208</span> <span class="o">|</span>    <span class="mi">107</span> <span class="o">|</span>    <span class="mi">128</span> <span class="o">|</span>   <span class="mf">1.1289984189827782</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000001</span><span class="n">F4F26C94E3552406F9406C8E11B33406CB2463D4435524075E1AC2DE11B3340</span>
  <span class="mi">207</span> <span class="o">|</span>    <span class="mi">127</span> <span class="o">|</span>    <span class="mi">128</span> <span class="o">|</span>    <span class="mf">2.752701179837276</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">D1915CFE43355240191648F5421C33406CB2463D4435524075E1AC2DE11B3340</span>
  <span class="mi">210</span> <span class="o">|</span>    <span class="mi">128</span> <span class="o">|</span>    <span class="mi">129</span> <span class="o">|</span>   <span class="mf">3.3441514167242206</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000006</span><span class="n">CB2463D4435524075E1AC2DE11B33403CCFE9C3443552404727A6666A1B3340</span>
  <span class="mi">201</span> <span class="o">|</span>    <span class="mi">128</span> <span class="o">|</span>    <span class="mi">124</span> <span class="o">|</span>    <span class="mf">1.091116836520284</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000006</span><span class="n">CB2463D4435524075E1AC2DE11B334083E8FF0B3A355240CF2CAE96E01B3340</span>
<span class="p">(</span><span class="mi">255</span> <span class="n">rows</span><span class="p">)</span>

</pre></div>
</div>
</div>
</div>
<p>Following figure shows the visualised output of the above query. Lines
highlighted in <code class="docutils literal notranslate"><span class="pre">yellow</span></code> show the <cite>generalised the roads served</cite>. This gives a better
estimate of the areas from where the hospital can be reached by a particular speed.</p>
<a class="reference internal image-reference" href="../_images/generalised_service_area.png"><img alt="../_images/generalised_service_area.png" class="align-center" src="../_images/generalised_service_area.png" style="width: 351.0px; height: 392.0px;" />
</a>
</section>
</section>
<section id="calculating-the-total-population-served-by-the-hospital">
<h2><a class="toc-backref" href="#id25" role="doc-backlink"><span class="section-number">3.5. </span>Calculating the total population served by the hospital</a><a class="headerlink" href="#calculating-the-total-population-served-by-the-hospital" title="Link to this heading">¶</a></h2>
<p>Now the next step is to estimate the dependant population. Official source of
population is Census conducted by the government. But for this exercise, population
will be estimated from the <code class="docutils literal notranslate"><span class="pre">area</span></code> as well as the <code class="docutils literal notranslate"><span class="pre">category</span></code> of the building.
This area will be stored in the nearest roads. Following steps explain this
process in detail.</p>
<section id="exercise-16-finding-the-nearest-roads-of-the-buildings">
<h3><a class="toc-backref" href="#id26" role="doc-backlink"><span class="section-number">3.5.1. </span>Exercise 16: Finding the nearest roads of the buildings</a><a class="headerlink" href="#exercise-16-finding-the-nearest-roads-of-the-buildings" title="Link to this heading">¶</a></h3>
<p>To store the population of buildings in the roads, nearest road to a building
is to be found. Follow the steps given below to complete this task.</p>
<ol class="arabic simple">
<li><p>Create Function for finding the closest edge.</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span>
<span class="linenos">2</span>CREATE OR REPLACE FUNCTION closest_edge(geom GEOMETRY)
<span class="linenos">3</span>RETURNS BIGINT AS
<span class="linenos">4</span>$BODY$
<span class="linenos">5</span>  SELECT gid FROM roads_ways ORDER BY geom &lt;-&gt; the_geom LIMIT 1;
<span class="linenos">6</span>$BODY$
<span class="linenos">7</span>LANGUAGE SQL;
<span class="linenos">8</span>
</pre></div>
</div>
<div class="sphinx_collapse docutils container">
<input class="sphinx_collapse__input" id="c4e050d1-f386-4cfb-96cd-3c1798b5d2b9" name="c4e050d1-f386-4cfb-96cd-3c1798b5d2b9" type="checkbox"><label class="sphinx_collapse__label" for="c4e050d1-f386-4cfb-96cd-3c1798b5d2b9"><i class="sphinx_collapse__icon"></i>Query Results</label><div class="sphinx_collapse__content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CREATE</span> <span class="n">FUNCTION</span>
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="2">
<li><p>Add a column in <code class="docutils literal notranslate"><span class="pre">buildings_ways</span></code> for storing the id of closest edge</p></li>
</ol>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">buildings_ways</span>
<span class="linenos">2</span><span class="k">ADD</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="n">edge_id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">;</span>
</pre></div>
</div>
<div class="sphinx_collapse docutils container">
<input class="sphinx_collapse__input" id="c3711dfb-8294-4d5c-b8f5-3cc6abc6b97c" name="c3711dfb-8294-4d5c-b8f5-3cc6abc6b97c" type="checkbox"><label class="sphinx_collapse__label" for="c3711dfb-8294-4d5c-b8f5-3cc6abc6b97c"><i class="sphinx_collapse__icon"></i>Query Results</label><div class="sphinx_collapse__content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ALTER</span> <span class="n">TABLE</span>
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="3">
<li><p>Store the edge id of the closest edge in the new column of <code class="docutils literal notranslate"><span class="pre">buildings_ways</span></code></p></li>
</ol>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="k">UPDATE</span><span class="w"> </span><span class="n">buildings_ways</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="n">edge_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">closest_edge</span><span class="p">(</span><span class="n">poly_geom</span><span class="p">);</span>
</pre></div>
</div>
<div class="sphinx_collapse docutils container">
<input class="sphinx_collapse__input" id="63cd08fd-54d7-4e2b-a835-98dc6c2f4d5b" name="63cd08fd-54d7-4e2b-a835-98dc6c2f4d5b" type="checkbox"><label class="sphinx_collapse__label" for="63cd08fd-54d7-4e2b-a835-98dc6c2f4d5b"><i class="sphinx_collapse__icon"></i>Query Results</label><div class="sphinx_collapse__content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">UPDATE</span> <span class="mi">1049</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="exercise-17-storing-the-population-in-the-roads">
<h3><a class="toc-backref" href="#id27" role="doc-backlink"><span class="section-number">3.5.2. </span>Exercise 17: Storing the population in the roads</a><a class="headerlink" href="#exercise-17-storing-the-population-in-the-roads" title="Link to this heading">¶</a></h3>
<p>After finding the nearest road, the sum of population of all the nearest
buildings is stored in the population column of the roads table. Following image
shows the visualised output where the blue colour labels shows the population
stored in roads.</p>
<a class="reference internal image-reference" href="../_images/road_population.png"><img alt="../_images/road_population.png" class="align-center" src="../_images/road_population.png" style="width: 307.5px; height: 316.5px;" />
</a>
<p>Follow the steps given below to complete this task.</p>
<ol class="arabic simple">
<li><p>Add a column in <code class="docutils literal notranslate"><span class="pre">roads_ways</span></code> for storing population</p></li>
</ol>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">roads_ways</span><span class="w"> </span><span class="k">ADD</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="n">population</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">;</span>
</pre></div>
</div>
<div class="sphinx_collapse docutils container">
<input class="sphinx_collapse__input" id="b8b834b5-00d7-4b0e-bcdb-8c58c75e6197" name="b8b834b5-00d7-4b0e-bcdb-8c58c75e6197" type="checkbox"><label class="sphinx_collapse__label" for="b8b834b5-00d7-4b0e-bcdb-8c58c75e6197"><i class="sphinx_collapse__icon"></i>Query Results</label><div class="sphinx_collapse__content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ALTER</span> <span class="n">TABLE</span>
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="2">
<li><p>Update the roads with the sum of population of buildings closest to it</p></li>
</ol>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="k">UPDATE</span><span class="w"> </span><span class="n">roads_ways</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="n">population</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">SUM</span>
<span class="linenos">2</span><span class="k">FROM</span><span class="w"> </span><span class="p">(</span>
<span class="linenos">3</span><span class="w">	</span><span class="k">SELECT</span><span class="w"> </span><span class="n">edge_id</span><span class="p">,</span><span class="w"> </span><span class="k">SUM</span><span class="p">(</span><span class="n">population</span><span class="p">)</span>
<span class="linenos">4</span><span class="w">	</span><span class="k">FROM</span><span class="w"> </span><span class="n">buildings_ways</span><span class="w"> </span><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">edge_id</span>
<span class="linenos">5</span><span class="w">	</span><span class="p">)</span>
<span class="linenos">6</span><span class="k">AS</span><span class="w"> </span><span class="n">subquery</span>
<span class="linenos">7</span><span class="k">WHERE</span><span class="w"> </span><span class="n">gid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">edge_id</span><span class="p">;</span>
</pre></div>
</div>
<div class="sphinx_collapse docutils container">
<input class="sphinx_collapse__input" id="b715d20f-c6bc-452b-abf5-0d25f196e10b" name="b715d20f-c6bc-452b-abf5-0d25f196e10b" type="checkbox"><label class="sphinx_collapse__label" for="b715d20f-c6bc-452b-abf5-0d25f196e10b"><i class="sphinx_collapse__icon"></i>Query Results</label><div class="sphinx_collapse__content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">UPDATE</span> <span class="mi">265</span>
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="3">
<li><p>Verify is the population is stored using the following query.</p></li>
</ol>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="k">SELECT</span><span class="w"> </span><span class="n">population</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">roads_ways</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">gid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">441</span><span class="p">;</span>
</pre></div>
</div>
<div class="sphinx_collapse docutils container">
<input class="sphinx_collapse__input" id="9a573b24-ecdd-4578-b9e4-9dd7d1ddf23e" name="9a573b24-ecdd-4578-b9e4-9dd7d1ddf23e" type="checkbox"><label class="sphinx_collapse__label" for="9a573b24-ecdd-4578-b9e4-9dd7d1ddf23e"><i class="sphinx_collapse__icon"></i>Query Results</label><div class="sphinx_collapse__content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">population</span> 
<span class="o">------------</span>
           
<span class="p">(</span><span class="mi">1</span> <span class="n">row</span><span class="p">)</span>

</pre></div>
</div>
</div>
</div>
</section>
<section id="exercise-18-find-total-population-served-by-the-hospital">
<h3><a class="toc-backref" href="#id28" role="doc-backlink"><span class="section-number">3.5.3. </span>Exercise 18: Find total population served by the hospital</a><a class="headerlink" href="#exercise-18-find-total-population-served-by-the-hospital" title="Link to this heading">¶</a></h3>
<p>Final step is to find the total population served by the hospital based on
travel time.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">WITH</span>
<span class="n">subquery</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="k">SELECT</span><span class="w"> </span><span class="k">source</span><span class="p">,</span><span class="w"> </span><span class="n">target</span>
<span class="w">  </span><span class="k">FROM</span><span class="w"> </span><span class="n">pgr_drivingDistance</span><span class="p">(</span>
<span class="w">    </span><span class="s1">&#39;edges&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="p">(</span>
<span class="w">      </span><span class="k">SELECT</span><span class="w"> </span><span class="n">closest_vertex</span><span class="p">(</span><span class="n">poly_geom</span><span class="p">)</span>
<span class="w">      </span><span class="k">FROM</span><span class="w"> </span><span class="n">buildings</span><span class="p">.</span><span class="n">buildings_ways</span>
<span class="w">      </span><span class="k">WHERE</span><span class="w"> </span><span class="n">tag_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;318&#39;</span>
<span class="w">    </span><span class="p">),</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="k">FALSE</span>
<span class="w">  </span><span class="p">)</span>
<span class="w">  </span><span class="k">AS</span><span class="w"> </span><span class="n">results</span>
<span class="w">  </span><span class="k">JOIN</span><span class="w"> </span><span class="n">roads</span><span class="p">.</span><span class="n">roads_ways</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="p">(</span><span class="n">edge</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">gid</span><span class="p">)</span>
<span class="p">),</span>
<span class="n">connected_edges</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="k">SELECT</span><span class="w"> </span><span class="k">DISTINCT</span><span class="w"> </span><span class="n">gid</span><span class="p">,</span><span class="w"> </span><span class="n">population</span>
<span class="w">  </span><span class="k">FROM</span><span class="w"> </span><span class="n">subquery</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">roads</span><span class="p">.</span><span class="n">roads_ways</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">r</span>
<span class="w">  </span><span class="k">ON</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="k">source</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="k">source</span><span class="w"> </span><span class="k">OR</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="k">source</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">target</span><span class="p">)</span><span class="w"> </span><span class="k">OR</span>
<span class="w">    </span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">target</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="k">source</span><span class="w"> </span><span class="k">OR</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">target</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">target</span><span class="p">)</span>
<span class="w">  </span><span class="p">)</span>
<span class="p">)</span>
<span class="k">SELECT</span><span class="w"> </span><span class="k">SUM</span><span class="p">(</span><span class="n">population</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">connected_edges</span><span class="p">;</span>
</pre></div>
</div>
<div class="sphinx_collapse docutils container">
<input class="sphinx_collapse__input" id="7b274760-a8ad-486b-b8c8-fcc800e7479c" name="7b274760-a8ad-486b-b8c8-fcc800e7479c" type="checkbox"><label class="sphinx_collapse__label" for="7b274760-a8ad-486b-b8c8-fcc800e7479c"><i class="sphinx_collapse__icon"></i>Query Results</label><div class="sphinx_collapse__content docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  <span class="nb">sum</span>   
<span class="o">--------</span>
 <span class="mi">109194</span>
<span class="p">(</span><span class="mi">1</span> <span class="n">row</span><span class="p">)</span>

</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2010-2024 pgRouting Developers.<br/>
      Last updated on Sep 24, 2025.<br/>
    </p>
  </div>
</footer>
  </body>
</html>