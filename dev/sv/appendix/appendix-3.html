<!DOCTYPE html>

<html lang="sv" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>2. Bilaga: Importverktyg för osm2pgrouting &#8212; Workshop - FOSS4G Belém - Routing with pgRouting</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css?v=5a695559" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx_collapse.css?v=226d88b4" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=fa3951f0" />
    <script src="../_static/documentation_options.js?v=0fb5d3f4"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/translations.js?v=55d7b627"></script>
    <link rel="icon" href="../_static/favicon.ico"/>
    <link rel="search" title="Sök" href="../search.html" />
    <link rel="next" title="3. Videohandledningar för workshop" href="appendix-4.html" />
    <link rel="prev" title="1. Bilaga: Installation" href="appendix-2.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="../_static/bootstrap-2.3.2/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>

  </head><body>

  <div id="navbar" class="navbar navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>

        <a class="brand" href="../index.html">
          Workshop FOSS4G Belém</a>
        <span class="navbar-text pull-left"><b>3.0</b></span>

        <div class="nav-collapse">
          <ul class="nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://docs.pgrouting.org/latest/en/index.html">Documentation</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Chapters <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../general-intro/introduction.html">1. Introduktion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general-intro/osgeolive.html">2. OSGeoLive-installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general-intro/overview.html">3. Översikt över programvara och data</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../basic/data.html">1. Förbereda data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basic/pedestrian.html">2. Routning av fotgängare</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basic/vehicle.html">3. Routning av fordon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basic/graph_views.html">4. Diagramvyer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basic/sql_function.html">5. SQL-funktion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basic/plpgsql_function.html">6. pl/pgsql-funktion</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../un_sdg/data.html">1. Data för målen för hållbar utveckling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../un_sdg/introduction.html">2. Uppnå målen för hållbar utveckling med pgRouting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../un_sdg/sdg3-health.html">3. God hälsa och välbefinnande</a></li>
<li class="toctree-l1"><a class="reference internal" href="../un_sdg/sdg7-energy.html">4. Prisvärd och ren energi</a></li>
<li class="toctree-l1"><a class="reference internal" href="../un_sdg/sdg11-cities.html">5. Hållbara städer och samhällen</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../interactions/chapter-9.html">1. Använda Qgis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../interactions/chapter-10.html">2. WMS-server med GeoServer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../interactions/chapter-11.html">3. OpenLayers-baserat gränssnitt för routning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced/chapter-12.html">4. Skapa en nätverkstopologi</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../examples/boost_dijkstra.html">1. Dijkstra-exempel med Boost</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/hanoslav.html">2. Exempel från internet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/wiki_example.html">3. Dijkstra-exempel från Wikipedia</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="appendix-2.html">1. Bilaga: Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">2. Bilaga: Importverktyg för osm2pgrouting</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendix-4.html">3. Videohandledningar för workshop</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">2. Bilaga: Importverktyg för osm2pgrouting</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="appendix-2.html" title="Previous Chapter: 1. Bilaga: Installation"><span class="icon-chevron-left visible-tablet"></span><span class="hidden-sm hidden-tablet">&laquo; 1. Bilaga: In...</span>
    </a>
  </li>
  <li>
    <a href="appendix-4.html" title="Next Chapter: 3. Videohandledningar för workshop"><span class="icon-chevron-right visible-tablet"></span><span class="hidden-sm hidden-tablet">3. Videohandl... &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
      </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="body span12 content" role="main">
      
  <section id="appendix-osm2pgrouting-import-tool">
<span id="osm2pgrouting"></span><h1><span class="section-number">2. </span>Bilaga: Importverktyg för osm2pgrouting<a class="headerlink" href="#appendix-osm2pgrouting-import-tool" title="Link to this heading">¶</a></h1>
<p><strong>osm2pgrouting</strong> är ett kommandoradsverktyg som gör det möjligt att importera OpenStreetMap-data till en pgRouting-databas. Det bygger upp topologin för routningsnätverket automatiskt och skapar tabeller för objekttyper och vägklasser.</p>
<ul class="simple">
<li><p>Webbsida: <a class="reference external" href="https://pgrouting.org/docs/tools/osm2pgrouting.html">https://pgrouting.org/docs/tools/osm2pgrouting.html</a></p></li>
<li><p>Dokumentation: <a class="reference external" href="https://github.com/pgRouting/osm2pgrouting/wiki/Documentation-for-osm2pgrouting-v2.2">https://github.com/pgRouting/osm2pgrouting/wiki/Documentation-for-osm2pgrouting-v2.2</a></p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Observera</p>
<p>Det finns vissa begränsningar, särskilt när det gäller nätverksstorleken. Sättet att hantera stora datamängder är att den nuvarande versionen av osm2pgrouting måste ladda alla data i minnet, vilket gör det snabbt men också kräver mycket minne för stora datamängder. Ett alternativt verktyg till osm2pgrouting utan begränsning av nätverksstorleken är <strong>osm2po</strong> (<a class="reference external" href="https://osm2po.de">https://osm2po.de</a>). Det är tillgängligt under ”Freeware License”.</p>
</div>
<p>Rå OpenStreetMap-data innehåller mycket mer funktioner och information än vad som behövs för routing. Formatet är inte heller lämpligt för pgRouting out-of-the-box. En XML-fil av typen <code class="docutils literal notranslate"><span class="pre">.osm</span></code> består av tre huvudtyper av funktioner:</p>
<ul class="simple">
<li><p>noder</p></li>
<li><p>vägar</p></li>
<li><p>relationer</p></li>
</ul>
<p class="rubric">Version och hjälpalternativ</p>
<p>Denna workshop använder osm2pgrouting-versionen 2.3</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>osm2pgrouting<span class="w"> </span>-v
osm2pgrouting<span class="w"> </span>--help
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>osm2pgrouting<span class="w"> </span>--version
This<span class="w"> </span>is<span class="w"> </span>osm2pgrouting<span class="w"> </span>Version<span class="w"> </span><span class="m">2</span>.3.3



$<span class="w"> </span>osm2pgrouting<span class="w"> </span>--help
Allowed<span class="w"> </span>options:

Help:
<span class="w">  </span>--help<span class="w">                                </span>Produce<span class="w"> </span><span class="nb">help</span><span class="w"> </span>message<span class="w"> </span><span class="k">for</span><span class="w"> </span>this<span class="w"> </span>version.
<span class="w">  </span>-v<span class="w"> </span><span class="o">[</span><span class="w"> </span>--version<span class="w"> </span><span class="o">]</span><span class="w">                      </span>Print<span class="w"> </span>version<span class="w"> </span>string

General:
<span class="w">  </span>-f<span class="w"> </span><span class="o">[</span><span class="w"> </span>--file<span class="w"> </span><span class="o">]</span><span class="w"> </span>arg<span class="w">                     </span>REQUIRED:<span class="w"> </span>Name<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>osm<span class="w"> </span>file.
<span class="w">  </span>-c<span class="w"> </span><span class="o">[</span><span class="w"> </span>--conf<span class="w"> </span><span class="o">]</span><span class="w"> </span>arg<span class="w"> </span><span class="o">(=</span>/usr/share/osm2pgrouting/mapconfig.xml<span class="o">)</span>
<span class="w">                                        </span>Name<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>configuration<span class="w"> </span>xml<span class="w"> </span>file.
<span class="w">  </span>--schema<span class="w"> </span>arg<span class="w">                          </span>Database<span class="w"> </span>schema<span class="w"> </span>to<span class="w"> </span>put<span class="w"> </span>tables.
<span class="w">                                          </span>blank:<span class="w"> </span>defaults<span class="w"> </span>to<span class="w"> </span>default<span class="w"> </span>schema
<span class="w">                                                </span>dictated<span class="w"> </span>by<span class="w"> </span>PostgreSQL
<span class="w">                                                </span>search_path.
<span class="w">  </span>--prefix<span class="w"> </span>arg<span class="w">                          </span>Prefix<span class="w"> </span>added<span class="w"> </span>at<span class="w"> </span>the<span class="w"> </span>beginning<span class="w"> </span>of<span class="w"> </span>the
<span class="w">                                        </span>table<span class="w"> </span>names.
<span class="w">  </span>--suffix<span class="w"> </span>arg<span class="w">                          </span>Suffix<span class="w"> </span>added<span class="w"> </span>at<span class="w"> </span>the<span class="w"> </span>end<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>table
<span class="w">                                        </span>names.
<span class="w">  </span>--addnodes<span class="w">                            </span>Import<span class="w"> </span>the<span class="w"> </span>osm_nodes,<span class="w"> </span>osm_ways<span class="w"> </span><span class="p">&amp;</span>
<span class="w">                                        </span>osm_relations<span class="w"> </span>tables.
<span class="w">  </span>--attributes<span class="w">                          </span>Include<span class="w"> </span>attributes<span class="w"> </span>information.
<span class="w">  </span>--tags<span class="w">                                </span>Include<span class="w"> </span>tag<span class="w"> </span>information.
<span class="w">  </span>--chunk<span class="w"> </span>arg<span class="w"> </span><span class="o">(=</span><span class="m">20000</span><span class="o">)</span><span class="w">                  </span>Exporting<span class="w"> </span>chunk<span class="w"> </span>size.
<span class="w">  </span>--clean<span class="w">                               </span>Drop<span class="w"> </span>previously<span class="w"> </span>created<span class="w"> </span>tables.
<span class="w">  </span>--no-index<span class="w">                            </span>Do<span class="w"> </span>not<span class="w"> </span>create<span class="w"> </span>indexes<span class="w"> </span><span class="o">(</span>Use<span class="w"> </span>when<span class="w"> </span>indexes
<span class="w">                                        </span>are<span class="w"> </span>already<span class="w"> </span>created<span class="o">)</span>

Database<span class="w"> </span>options:
<span class="w">  </span>-d<span class="w"> </span><span class="o">[</span><span class="w"> </span>--dbname<span class="w"> </span><span class="o">]</span><span class="w"> </span>arg<span class="w">                   </span>Name<span class="w"> </span>of<span class="w"> </span>your<span class="w"> </span>database<span class="w"> </span><span class="o">(</span>Required<span class="o">)</span>.
<span class="w">  </span>-U<span class="w"> </span><span class="o">[</span><span class="w"> </span>--username<span class="w"> </span><span class="o">]</span><span class="w"> </span>arg<span class="w">                 </span>Name<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>user,<span class="w"> </span>which<span class="w"> </span>have<span class="w"> </span>write
<span class="w">                                        </span>access<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>database.
<span class="w">  </span>-h<span class="w"> </span><span class="o">[</span><span class="w"> </span>--host<span class="w"> </span><span class="o">]</span><span class="w"> </span>arg<span class="w"> </span><span class="o">(=</span>localhost<span class="o">)</span><span class="w">        </span>Host<span class="w"> </span>of<span class="w"> </span>your<span class="w"> </span>postgresql<span class="w"> </span>database.
<span class="w">  </span>-p<span class="w"> </span><span class="o">[</span><span class="w"> </span>--port<span class="w"> </span><span class="o">]</span><span class="w"> </span>arg<span class="w"> </span><span class="o">(=</span><span class="m">5432</span><span class="o">)</span><span class="w">             </span>db_port<span class="w"> </span>of<span class="w"> </span>your<span class="w"> </span>database.
<span class="w">  </span>-W<span class="w"> </span><span class="o">[</span><span class="w"> </span>--password<span class="w"> </span><span class="o">]</span><span class="w"> </span>arg<span class="w">                 </span>Password<span class="w"> </span><span class="k">for</span><span class="w"> </span>database<span class="w"> </span>access.
</pre></div>
</div>
<p class="rubric">Ett exempel på en osm-fil ser ut så här:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;osm</span><span class="w"> </span><span class="na">version=</span><span class="s">&quot;0.6&quot;</span><span class="w"> </span><span class="na">generator=</span><span class="s">&quot;Overpass API&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;note&gt;</span>The<span class="w"> </span>data<span class="w"> </span>included<span class="w"> </span>in<span class="w"> </span>this<span class="w"> </span>document<span class="w"> </span>is<span class="w"> </span>from<span class="w"> </span>www.openstreetmap.org.<span class="w"> </span>The<span class="w"> </span>data<span class="w"> </span>is<span class="w"> </span>made<span class="w"> </span>available<span class="w"> </span>under<span class="w"> </span>ODbL.<span class="nt">&lt;/note&gt;</span>
<span class="w">    </span><span class="nt">&lt;meta</span><span class="w"> </span><span class="na">osm_base=</span><span class="s">&quot;2016-03-31T22:37:01Z&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span>...<span class="w">	</span>
<span class="w">    </span><span class="nt">&lt;node</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;2702022&quot;</span><span class="w"> </span><span class="na">lat=</span><span class="s">&quot;50.7654175&quot;</span><span class="w"> </span><span class="na">lon=</span><span class="s">&quot;7.1376180&quot;</span><span class="w"> </span><span class="na">version=</span><span class="s">&quot;11&quot;</span>
<span class="w">        </span><span class="na">timestamp=</span><span class="s">&quot;2011-10-30T18:29:52Z&quot;</span>
<span class="w">        </span><span class="na">changeset=</span><span class="s">&quot;9696743&quot;</span><span class="w"> </span><span class="na">uid=</span><span class="s">&quot;116044&quot;</span><span class="w"> </span><span class="na">user=</span><span class="s">&quot;berndw&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;node</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;2702027&quot;</span><span class="w"> </span><span class="na">lat=</span><span class="s">&quot;50.7704923&quot;</span><span class="w"> </span><span class="na">lon=</span><span class="s">&quot;7.1432462&quot;</span><span class="w"> </span><span class="na">version=</span><span class="s">&quot;5&quot;</span>
<span class="w">        </span><span class="na">timestamp=</span><span class="s">&quot;2014-12-09T18:47:47Z&quot;</span>
<span class="w">        </span><span class="na">changeset=</span><span class="s">&quot;27362963&quot;</span><span class="w"> </span><span class="na">uid=</span><span class="s">&quot;1751908&quot;</span><span class="w"> </span><span class="na">user=</span><span class="s">&quot;Blues Brothers&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;node</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;2703359&quot;</span><span class="w"> </span><span class="na">lat=</span><span class="s">&quot;50.7548501&quot;</span><span class="w"> </span><span class="na">lon=</span><span class="s">&quot;7.0964640&quot;</span><span class="w"> </span><span class="na">version=</span><span class="s">&quot;10&quot;</span>
<span class="w">        </span><span class="na">timestamp=</span><span class="s">&quot;2013-10-19T22:50:43Z&quot;</span>
<span class="w">        </span><span class="na">changeset=</span><span class="s">&quot;18442764&quot;</span><span class="w"> </span><span class="na">uid=</span><span class="s">&quot;45243&quot;</span><span class="w"> </span><span class="na">user=</span><span class="s">&quot;odna&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;tag</span><span class="w"> </span><span class="na">k=</span><span class="s">&quot;TMC:cid_58:tabcd_1:Class&quot;</span><span class="w"> </span><span class="na">v=</span><span class="s">&quot;Point&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;tag</span><span class="w"> </span><span class="na">k=</span><span class="s">&quot;TMC:cid_58:tabcd_1:Direction&quot;</span><span class="w"> </span><span class="na">v=</span><span class="s">&quot;positive&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;tag</span><span class="w"> </span><span class="na">k=</span><span class="s">&quot;TMC:cid_58:tabcd_1:LCLversion&quot;</span><span class="w"> </span><span class="na">v=</span><span class="s">&quot;9.00&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;tag</span><span class="w"> </span><span class="na">k=</span><span class="s">&quot;TMC:cid_58:tabcd_1:LocationCode&quot;</span><span class="w"> </span><span class="na">v=</span><span class="s">&quot;39278&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;tag</span><span class="w"> </span><span class="na">k=</span><span class="s">&quot;TMC:cid_58:tabcd_1:NextLocationCode&quot;</span><span class="w"> </span><span class="na">v=</span><span class="s">&quot;11766&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;tag</span><span class="w"> </span><span class="na">k=</span><span class="s">&quot;TMC:cid_58:tabcd_1:PrevLocationCode&quot;</span><span class="w"> </span><span class="na">v=</span><span class="s">&quot;11765&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/node&gt;</span>
<span class="w">    </span>...<span class="w">	</span>
<span class="w">    </span><span class="nt">&lt;way</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;4372665&quot;</span><span class="w"> </span><span class="na">version=</span><span class="s">&quot;14&quot;</span>
<span class="w">        </span><span class="na">timestamp=</span><span class="s">&quot;2012-07-03T10:29:34Z&quot;</span>
<span class="w">        </span><span class="na">changeset=</span><span class="s">&quot;12098548&quot;</span><span class="w"> </span><span class="na">uid=</span><span class="s">&quot;133419&quot;</span><span class="w"> </span><span class="na">user=</span><span class="s">&quot;dachefte&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;tag</span><span class="w"> </span><span class="na">k=</span><span class="s">&quot;footway:right:smoothness&quot;</span><span class="w"> </span><span class="na">v=</span><span class="s">&quot;good&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;tag</span><span class="w"> </span><span class="na">k=</span><span class="s">&quot;footway:right:surface&quot;</span><span class="w"> </span><span class="na">v=</span><span class="s">&quot;paving_stones&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;tag</span><span class="w"> </span><span class="na">k=</span><span class="s">&quot;footway:right:width&quot;</span><span class="w"> </span><span class="na">v=</span><span class="s">&quot;3&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;tag</span><span class="w"> </span><span class="na">k=</span><span class="s">&quot;highway&quot;</span><span class="w"> </span><span class="na">v=</span><span class="s">&quot;unclassified&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/way&gt;</span>
<span class="w">    </span>...<span class="w">	</span>
<span class="w">    </span><span class="nt">&lt;relation</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;399785&quot;</span><span class="w"> </span><span class="na">version=</span><span class="s">&quot;2&quot;</span>
<span class="w">        </span><span class="na">timestamp=</span><span class="s">&quot;2012-08-08T18:27:05Z&quot;</span>
<span class="w">        </span><span class="na">changeset=</span><span class="s">&quot;12660262&quot;</span><span class="w"> </span><span class="na">uid=</span><span class="s">&quot;55687&quot;</span><span class="w"> </span><span class="na">user=</span><span class="s">&quot;dschuwa&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;member</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;way&quot;</span><span class="w"> </span><span class="na">ref=</span><span class="s">&quot;32285676&quot;</span><span class="w"> </span><span class="na">role=</span><span class="s">&quot;street&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;member</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;way&quot;</span><span class="w"> </span><span class="na">ref=</span><span class="s">&quot;17129333&quot;</span><span class="w"> </span><span class="na">role=</span><span class="s">&quot;street&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;member</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;way&quot;</span><span class="w"> </span><span class="na">ref=</span><span class="s">&quot;49305040&quot;</span><span class="w"> </span><span class="na">role=</span><span class="s">&quot;street&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;member</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;way&quot;</span><span class="w"> </span><span class="na">ref=</span><span class="s">&quot;49305039&quot;</span><span class="w"> </span><span class="na">role=</span><span class="s">&quot;street&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;member</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;way&quot;</span><span class="w"> </span><span class="na">ref=</span><span class="s">&quot;32286326&quot;</span><span class="w"> </span><span class="na">role=</span><span class="s">&quot;street&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;member</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;way&quot;</span><span class="w"> </span><span class="na">ref=</span><span class="s">&quot;32286325&quot;</span><span class="w"> </span><span class="na">role=</span><span class="s">&quot;street&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;member</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;way&quot;</span><span class="w"> </span><span class="na">ref=</span><span class="s">&quot;32286327&quot;</span><span class="w"> </span><span class="na">role=</span><span class="s">&quot;street&quot;</span><span class="nt">/&gt;</span>

<span class="w">        </span>...<span class="w">	</span>
<span class="w">        </span><span class="nt">&lt;tag</span><span class="w"> </span><span class="na">k=</span><span class="s">&quot;name&quot;</span><span class="w"> </span><span class="na">v=</span><span class="s">&quot;Brieger Weg&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;tag</span><span class="w"> </span><span class="na">k=</span><span class="s">&quot;type&quot;</span><span class="w"> </span><span class="na">v=</span><span class="s">&quot;associatedStreet&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/relation&gt;</span>
<span class="w">    </span>...<span class="w">	</span>
<span class="nt">&lt;/osm&gt;</span>
</pre></div>
</div>
<p>Den detaljerade beskrivningen av alla möjliga OpenStretMap-typer och -klasser beskrivs som <a class="reference external" href="https://wiki.openstreetmap.org/wiki/Map_features">mapfunktioner</a></p>
<p class="rubric">mapconfig.xml</p>
<p>När vi använder osm2pgrouting tar vi bara med oss noder och vägar av typer och klasser som anges i filen <code class="docutils literal notranslate"><span class="pre">mapconfig.xml</span></code> som kommer att importeras till routningsdatabasen:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;configuration&gt;</span>
<span class="w">  </span><span class="nt">&lt;type</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;highway&quot;</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;class</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;motorway&quot;</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;101&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;class</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;motorway_link&quot;</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;102&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;class</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;motorway_junction&quot;</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;103&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">    </span>...
<span class="w">    </span><span class="nt">&lt;class</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;road&quot;</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;100&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">  </span><span class="nt">&lt;/type&gt;</span><span class="w">    </span>
<span class="w">  </span><span class="nt">&lt;type</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;junction&quot;</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;4&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;class</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;roundabout&quot;</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;401&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">  </span><span class="nt">&lt;/type&gt;</span><span class="w">  </span>
<span class="nt">&lt;/configuration&gt;</span><span class="w"> </span>
</pre></div>
</div>
<p>Standardversionen av <code class="docutils literal notranslate"><span class="pre">mapconfig.xml</span></code> installeras i <code class="docutils literal notranslate"><span class="pre">/usr/share/osm2pgrouting/</span></code>.</p>
<ul class="simple">
<li><p>osm2pgrouting skapar fler tabeller och importerar fler attribut än vi kommer att använda i den här workshopen.</p></li>
<li><p>Se beskrivningen av tabellerna i <a class="reference external" href="https://github.com/pgRouting/osm2pgrouting/wiki/Documentation-for-osm2pgrouting-v2.2">https://github.com/pgRouting/osm2pgrouting/wiki/Documentation-for-osm2pgrouting-v2.2</a></p></li>
</ul>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2010-2024 pgRouting Developers.<br/>
      Senast uppdaterad juli 07, 2025.<br/>
    </p>
  </div>
</footer>
  </body>
</html>