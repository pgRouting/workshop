..
  ****************************************************************************
  pgRouting Workshop Manual
  Copyright(c) pgRouting Contributors

  This documentation is licensed under a Creative Commons Attribution-Share
  Alike 3.0 License: http://creativecommons.org/licenses/by-sa/3.0/
  ****************************************************************************


Appendix: OSGeo UN Challenge Workshop Solutions
===============================================================================

Solutions to :doc:`chapter_3_sdg3`
-------------------------------------------------------------------------------

Query results for Chapter 3 Exercise 5
................................................................................

:ref:`Inspecting the database structure`

**Execrcise 5: Counting the number of Roads and Buildings**

.. literalinclude:: ../scripts/un_sdg/sdg3/Exercise_5.txt


Query results for Chapter 3 Exercise 6
................................................................................

:ref:`Preprocessing Buildings`

**Exercise 6: Add a spatial column to the table to store the Polygon Geometry**

.. literalinclude:: ../scripts/un_sdg/sdg3/Exercise_6.txt

Query results for Chapter 3 Exercise 7
................................................................................

:ref:`Preprocessing Buildings`

**Exercise 7: Removing the polygons with less than 4 points**

.. literalinclude:: ../scripts/un_sdg/sdg3/Exercise_7.txt


Query results for Chapter 3 Exercise 8
................................................................................

:ref:`Preprocessing Buildings`

**Exercise 8: Creating the polygons**

.. literalinclude:: ../scripts/un_sdg/sdg3/Exercise_8.txt

Query results for Chapter 3 Exercise 9
................................................................................

:ref:`Preprocessing Buildings`

**Exercise 9: Calculating the area**

.. literalinclude:: ../scripts/un_sdg/sdg3/Exercise_9.txt


Query results for Chapter 3 Exercise 10
................................................................................

:ref:`Preprocessing Roads`

**Exercise 10: Find the Component number for Road vertices**

.. literalinclude:: ../scripts/un_sdg/sdg3/Exercise_10.txt


Query results for Chapter 3 Exercise 11
................................................................................

:ref:`Preprocessing Roads`

**Exercise 11: Finding the components which are to be removed**

.. literalinclude:: ../scripts/un_sdg/sdg3/Exercise_11.txt


Query results for Chapter 3 Exercise 12
................................................................................

:ref:`Preprocessing Roads`

**Exercise 12: Finding the road vertices which belong to those components which are to be removed**

.. literalinclude:: ../scripts/un_sdg/sdg3/Exercise_12.txt


Query results for Chapter 3 Exercise 13
................................................................................

:ref:`Preprocessing Roads`

**Exercise 13: Removing the unwanted edges and vertices**

.. literalinclude:: ../scripts/un_sdg/sdg3/Exercise_13.txt


Query results for Chapter 3 Exercise 15
................................................................................

:ref:`Finding the served roads`

**Exercise 15: Finding the served roads using pgr_drivingDistance**

.. literalinclude:: ../scripts/un_sdg/sdg3/Exercise_15.txt

Query results for Chapter 3 Exercise 16
................................................................................

:ref:`Generalising the served roads`

**Exercise 16: Generalising the served roads**

.. literalinclude:: ../scripts/un_sdg/sdg3/Exercise_16.txt


Query results for Chapter 3 Exercise 17
................................................................................

:ref:`Estimating the population of buildings`

**Exercise 17: Estimating the population of buildings**

.. literalinclude:: ../scripts/un_sdg/sdg3/Exercise_17.txt


Query results for Chapter 3 Exercise 18
................................................................................

:ref:`Finding the nearest roads to store the population`

**Exercise 18: Finding the nearest roads to store the population**

.. literalinclude:: ../scripts/un_sdg/sdg3/Exercise_18.txt


Query results for Chapter 3 Exercise 19
................................................................................

:ref:`Storing the population in the roads`

**Exercise 19: Storing the population in the roads**

.. literalinclude:: ../scripts/un_sdg/sdg3/Exercise_19.txt


Query results for Chapter 3 Exercise 20
................................................................................

:ref:`Finding total population served by the hospital based on travel-time`

**Exercise 20: Finding total population served by the hospital based on travel-time**

.. literalinclude:: ../scripts/un_sdg/sdg3/Exercise_20.txt



Solutions to :doc:`chapter_4_sdg11`
-------------------------------------------------------------------------------

Query results for Chapter 4 Exercise 1
................................................................................

:ref:`Choose a city`

**Exercise 1: Create a point for the city**

.. literalinclude:: ../scripts/un_sdg/sdg11/Exercise_1.txt


Query results for Chapter 4 Exercise 6
................................................................................

:ref:`Setting the Search Path of Waterways`

**Exercise 6: Counting the number of Waterways**

.. literalinclude:: ../scripts/un_sdg/sdg11/Exercise_6.txt


Query results for Chapter 4 Exercise 7
................................................................................

:ref:`Removing the Rivers which are not on land`

**Exercise 7: Removing the Rivers which are not on land**

.. literalinclude:: ../scripts/un_sdg/sdg11/Exercise_7.txt


Query results for Chapter 4 Exercise 8
................................................................................

:ref:`Process to get Connected Components of Waterways`

**Exercise 8: Process to get Connected Components of Waterways**

.. literalinclude:: ../scripts/un_sdg/sdg11/Exercise_8.txt


Query results for Chapter 4 Exercise 9
................................................................................

:ref:`Get the Connected Components of Waterways`

**Exercise 9: Get the Connected Components of Waterways**

.. literalinclude:: ../scripts/un_sdg/sdg11/Exercise_9.txt


Query results for Chapter 4 Exercise 10
................................................................................

:ref:`Create a Buffer around city`

**Exercise 11: Finding the components intersecting the buffer**

.. literalinclude:: ../scripts/un_sdg/sdg11/Exercise_10.txt

Query results for Chapter 4 Exercise 12
................................................................................

:ref:`Finding the components intersecting the buffer`

**Exercise 12: Finding the components intersecting the buffer**

.. literalinclude:: ../scripts/un_sdg/sdg11/Exercise_12.txt


Query results for Chapter 4 Exercise 13
................................................................................

:ref:`Create a Buffer around the river components to get the rain zones`

**Exercise 13: Create a Buffer around the river components to get the rain zones**

.. literalinclude:: ../scripts/un_sdg/sdg11/Exercise_13.txt

Query results for Chapter 4 Exercise 14
................................................................................

:ref:`Create a Buffer around the river components to get the rain zones`

**Exercise 14: Create a union of rain zones**

.. literalinclude:: ../scripts/un_sdg/sdg11/Exercise_14.txt

Solutions to :doc:`chapter_5_sdg7`
-------------------------------------------------------------------------------

Query results for Chapter_5 Exercise 5
................................................................................

:ref:`Setting the Search Path of Roads`

**Execrcise 5: Counting the number of Roads**

.. literalinclude:: ../scripts/un_sdg/sdg7/Exercise_5.txt


Query results for Chapter_5 Exercise 6
................................................................................

:ref:`Extract connected components of roads`

**Execrcise 6: Find the Component number for Road vertices**

.. literalinclude:: ../scripts/un_sdg/sdg7/Exercise_6.txt


Query results for Chapter_5 Exercise 7
................................................................................

:ref:`Extract connected components of roads`

**Exercise 7: Finding the components which are to be removed**

.. literalinclude:: ../scripts/un_sdg/sdg7/Exercise_7.txt


Query results for Chapter_5 Exercise 8
................................................................................

:ref:`Extract connected components of roads`

**Exercise 8: Finding the road vertices which belong to those components which are to be removed**

.. literalinclude:: ../scripts/un_sdg/sdg7/Exercise_8.txt

Query results for Chapter_5 Exercise 9
................................................................................

:ref:`Extract connected components of roads`

**Exercise 9: Removing the unwanted edges and vertices**

.. literalinclude:: ../scripts/un_sdg/sdg7/Exercise_9.txt

Query results for Chapter_5 Exercise 10
................................................................................

:ref:`Find the minimum spanning tree`

**Exercise 10: Find the minimum spanning tree**

.. literalinclude:: ../scripts/un_sdg/sdg7/Exercise_10.txt

Query results for Chapter_5 Exercise 11
................................................................................

:ref:`Comparison between Total and Optimal lengths`

**Exercise 11: Compute total length of material required in km**

.. literalinclude:: ../scripts/un_sdg/sdg7/Exercise_11.txt

Query results for Chapter_5 Exercise 12
................................................................................

:ref:`Setting the Search Path of Roads`

**Exercise 12: Compute total length of roads in km**

.. literalinclude:: ../scripts/un_sdg/sdg7/Exercise_12.txt
