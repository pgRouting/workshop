<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>2. pgRouting Algorithms &#8212; Workshop - FOSS4G 2021 Argentina - Routing with pgRouting</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="3. Advanced routing queries" href="chapter-6.html" />
    <link rel="prev" title="1. Prepare Data" href="chapter-4.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js "></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html"><span><img src="../_static/pgrouting.png"></span>
          Workshop FOSS4G Argentina</a>
        <span class="navbar-text navbar-version pull-left"><b>2.7</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Chapters <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><p class="caption" role="heading"><span class="caption-text">Workshop</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../general-intro/chapter-1.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general-intro/chapter-2.html">2. About The Workshop</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../general-intro/chapter-2.html#pgrouting-overview">2.1. pgRouting Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general-intro/chapter-2.html#osm2pgrouting-overview">2.2. osm2pgrouting Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general-intro/chapter-2.html#openstreetmap-overview">2.3. OpenStreetMap Overview</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../general-intro/chapter-3.html">3. Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../general-intro/chapter-3.html#osgeolive-on-a-virtualbox">3.1. OSGeoLive on a VirtualBox</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Basic</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="chapter-4.html">1. Prepare Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="chapter-4.html#prepare-the-database">1.1. Prepare the database</a></li>
<li class="toctree-l2"><a class="reference internal" href="chapter-4.html#get-the-workshop-data">1.2. Get the Workshop Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="chapter-4.html#upload-data-to-the-database">1.3. Upload data to the database</a></li>
<li class="toctree-l2"><a class="reference internal" href="chapter-4.html#chapter-appendix">1.4. Chapter: Appendix</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">2. pgRouting Algorithms</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#pgr-dijkstra">2.1. pgr_dijkstra</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pgr-dijkstracost">2.2. pgr_dijkstraCost</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="chapter-6.html">3. Advanced routing queries</a><ul>
<li class="toctree-l2"><a class="reference internal" href="chapter-6.html#routing-for-vehicles">3.1. Routing for vehicles</a></li>
<li class="toctree-l2"><a class="reference internal" href="chapter-6.html#cost-manipulations">3.2. Cost manipulations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="chapter-7.html">4. Writing a SQL Stored Procedures</a><ul>
<li class="toctree-l2"><a class="reference internal" href="chapter-7.html#the-application-requirements">4.1. The application requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="chapter-7.html#preparing-processing-graphs">4.2. Preparing processing graphs</a></li>
<li class="toctree-l2"><a class="reference internal" href="chapter-7.html#geometry-handling">4.3. Geometry handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="chapter-7.html#creating-the-function">4.4. Creating the Function</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="chapter-8.html">5. Writing a pl/pgsql Stored Procedures</a><ul>
<li class="toctree-l2"><a class="reference internal" href="chapter-8.html#requirements-for-routing-from-a-to-b">5.1. Requirements for routing from A to B</a></li>
<li class="toctree-l2"><a class="reference internal" href="chapter-8.html#the-vertex-table">5.2. The Vertex Table</a></li>
<li class="toctree-l2"><a class="reference internal" href="chapter-8.html#wrk-fromatob-function">5.3. wrk_fromAtoB function</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Advanced</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../advanced/chapter-12.html">1. Create a Network Topology</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../advanced/chapter-12.html#load-network-data">1.1. Load network data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../advanced/chapter-12.html#create-a-routing-network-topology">1.2. Create a Routing Network Topology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../advanced/chapter-12.html#verify-the-routing-network-topology">1.3. Verify the Routing Network Topology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../advanced/chapter-12.html#analyze-and-adjust-the-routing-network-topology">1.4. Analyze and Adjust the Routing Network Topology</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">United Nations Sustainable Development Goals</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../un_sdg/chapter_1_introduction.html">1. Achieving Sustainable Development Goals with pgRouting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/chapter_1_introduction.html#history">1.1. History</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/chapter_1_introduction.html#united-nations">1.2. United Nations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/chapter_1_introduction.html#what-are-the-sustainable-development-goals">1.3. What are the Sustainable Development Goals?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/chapter_1_introduction.html#target-audience">1.4. Target Audience</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/chapter_1_introduction.html#prerequisites-for-un-sdg-exercises">1.5. Prerequisites for UN SDG Exercises</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../un_sdg/chapter_2_get_data.html">2. Data for Sustainable Development Goals</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/chapter_2_get_data.html#work-directory-for-pgrouting-data-manipulation">2.1. Work Directory for pgRouting data manipulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/chapter_2_get_data.html#mumbai-database">2.2. Mumbai database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/chapter_2_get_data.html#bangladesh-database">2.3. Bangladesh database</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../un_sdg/chapter_3_sdg3.html">3. UN SDG3: Good Health and Well Being</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/chapter_3_sdg3.html#exercise-travel-time-based-estimation-of-population-served-by-hospital">3.1. Exercise: Travel-Time based Estimation of Population Served by Hospital</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../un_sdg/chapter_4_sdg11.html">4. UN SDG11: Sustainable Cities and Communities</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/chapter_4_sdg11.html#exercise-city-getting-affected-by-rain-or-not">4.1. Exercise: City getting affected by rain or not</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../un_sdg/chapter_5_sdg7.html">5. UN SDG7: Affordable and Clean Energy</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/chapter_5_sdg7.html#exercise-optimising-the-electricity-distribution-network">5.1. Exercise: Optimising the Electricity Distribution Network</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Interaction with other software</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../interactions/chapter-9.html">1. Using Qgis</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../interactions/chapter-9.html#set-up-qgis">1.1. Set Up QGIS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interactions/chapter-9.html#add-a-postgis-layer">1.2. Add a postGIS Layer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interactions/chapter-9.html#format-a-routing-layer">1.3. Format a Routing Layer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interactions/chapter-9.html#copy-paste-format">1.4. Copy/Paste Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interactions/chapter-9.html#save-the-project">1.5. Save the project</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../interactions/chapter-10.html">2. WMS server with GeoServer</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../interactions/chapter-10.html#connect-to-the-administration-page">2.1. Connect to the administration page</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interactions/chapter-10.html#create-the-layer">2.2. Create the layer</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../interactions/chapter-11.html">3. OpenLayers Based Routing Interface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../interactions/chapter-11.html#openlayers-introduction">3.1. OpenLayers introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interactions/chapter-11.html#creating-a-minimal-map">3.2. Creating a minimal map</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interactions/chapter-11.html#wms-get-parameters">3.3. WMS GET parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interactions/chapter-11.html#select-start-and-destination">3.4. Select “start” and “destination”</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interactions/chapter-11.html#clear-the-results">3.5. Clear the results</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interactions/chapter-11.html#summary-full-example">3.6. Summary (full example)</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples from the Internet</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../examples/boost_dijkstra.html">1. Boost Dijkstra Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/hanoslav.html">2. Internet Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/wiki_example.html">3. Wikipedia Dijkstra Example</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Appendices</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../appendix/appendix-1.html">1. Appendix: Workshop Solutions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../appendix/appendix-1.html#solutions-to-basic-chapter-5">1.1. Solutions to <span class="xref std std-doc">../basic/chapter-5</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="../appendix/appendix-1.html#solutions-to-basic-chapter-6">1.2. Solutions to <span class="xref std std-doc">../basic/chapter-6</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="../appendix/appendix-1.html#solutions-to-basic-chapter-7">1.3. Solutions to <span class="xref std std-doc">../basic/chapter-7</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="../appendix/appendix-1.html#solutions-to-basic-chapter-8">1.4. Solutions to <span class="xref std std-doc">../basic/chapter-8</span></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../appendix/appendix-2.html">2. Appendix: Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix/appendix-3.html">3. Appendix: osm2pgrouting Import Tool</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix/appendix-4.html">4. Video Tutorials for Workshop</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../appendix/appendix-4.html#chapter-4">4.1. Chapter 4</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../un_sdg/Appendix_SDG.html">5. Appendix: OSGeo UN Challenge Workshop Solutions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/Appendix_SDG.html#solutions-to-chapter-3-sdg3">5.1. Solutions to <span class="xref std std-doc">chapter_3_sdg3</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/Appendix_SDG.html#solutions-to-chapter-4-sdg11">5.2. Solutions to <span class="xref std std-doc">chapter_4_sdg11</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="../un_sdg/Appendix_SDG.html#solutions-to-chapter-5-sdg7">5.3. Solutions to <span class="xref std std-doc">chapter_5_sdg7</span></a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">2. pgRouting Algorithms</a><ul>
<li><a class="reference internal" href="#pgr-dijkstra">2.1. pgr_dijkstra</a><ul>
<li><a class="reference internal" href="#exercise-1-single-pedestrian-routing">2.1.1. Exercise 1: Single pedestrian routing</a></li>
<li><a class="reference internal" href="#exercise-2-many-pedestrians-going-to-the-same-destination">2.1.2. Exercise 2: Many Pedestrians going to the same destination</a></li>
<li><a class="reference internal" href="#exercise-3-many-pedestrians-departing-from-the-same-location">2.1.3. Exercise 3: Many Pedestrians departing from the same location</a></li>
<li><a class="reference internal" href="#exercise-4-many-pedestrians-going-to-different-destinations">2.1.4. Exercise 4: Many Pedestrians going to different destinations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#pgr-dijkstracost">2.2. pgr_dijkstraCost</a><ul>
<li><a class="reference internal" href="#exercise-5-many-pedestrians-going-to-different-destinations-returning-aggregate-costs">2.2.1. Exercise 5: Many Pedestrians going to different destinations returning aggregate costs</a></li>
<li><a class="reference internal" href="#exercise-6-many-pedestrians-going-to-different-destinations-summarizing-the-total-costs-per-departure">2.2.2. Exercise 6: Many Pedestrians going to different destinations summarizing the total costs per departure</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="chapter-4.html" title="Previous Chapter: 1. Prepare Data"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; 1. Prepare Data</span>
    </a>
  </li>
  <li>
    <a href="chapter-6.html" title="Next Chapter: 3. Advanced routing queries"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">3. Advanced r... &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <section id="pgrouting-algorithms">
<h1><a class="toc-backref" href="#id1"><span class="section-number">2. </span>pgRouting Algorithms</a><a class="headerlink" href="#pgrouting-algorithms" title="Permalink to this headline">¶</a></h1>
<a class="reference internal image-reference" href="../_images/route.png"><img alt="../_images/route.png" class="align-center" src="../_images/route.png" style="width: 240.0px; height: 135.25px;" /></a>
<p><strong>pgRouting</strong> was first called <em>pgDijkstra</em>, because it implemented only shortest
path search with <em>Dijkstra</em> algorithm. Later other functions were added and the
library was renamed to pgRouting.</p>
<div class="contents topic" id="chapter-contents">
<p class="topic-title">Chapter Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#pgrouting-algorithms" id="id1">pgRouting Algorithms</a></p>
<ul>
<li><p><a class="reference internal" href="#pgr-dijkstra" id="id2">pgr_dijkstra</a></p>
<ul>
<li><p><a class="reference internal" href="#exercise-1-single-pedestrian-routing" id="id3">Exercise 1: Single pedestrian routing</a></p></li>
<li><p><a class="reference internal" href="#exercise-2-many-pedestrians-going-to-the-same-destination" id="id4">Exercise 2: Many Pedestrians going to the same destination</a></p></li>
<li><p><a class="reference internal" href="#exercise-3-many-pedestrians-departing-from-the-same-location" id="id5">Exercise 3: Many Pedestrians departing from the same location</a></p></li>
<li><p><a class="reference internal" href="#exercise-4-many-pedestrians-going-to-different-destinations" id="id6">Exercise 4: Many Pedestrians going to different destinations</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#pgr-dijkstracost" id="id7">pgr_dijkstraCost</a></p>
<ul>
<li><p><a class="reference internal" href="#exercise-5-many-pedestrians-going-to-different-destinations-returning-aggregate-costs" id="id8">Exercise 5: Many Pedestrians going to different destinations returning aggregate costs</a></p></li>
<li><p><a class="reference internal" href="#exercise-6-many-pedestrians-going-to-different-destinations-summarizing-the-total-costs-per-departure" id="id9">Exercise 6: Many Pedestrians going to different destinations summarizing the total costs per departure</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<section id="pgr-dijkstra">
<h2><a class="toc-backref" href="#id2"><span class="section-number">2.1. </span>pgr_dijkstra</a><a class="headerlink" href="#pgr-dijkstra" title="Permalink to this headline">¶</a></h2>
<p>Dijkstra algorithm was the first algorithm implemented in pgRouting. It doesn’t
require other attributes than <code class="docutils literal notranslate"><span class="pre">id</span></code>, <code class="docutils literal notranslate"><span class="pre">source</span></code> and <code class="docutils literal notranslate"><span class="pre">target</span></code> ID and <code class="docutils literal notranslate"><span class="pre">cost</span></code>
and <code class="docutils literal notranslate"><span class="pre">reverse_cost</span></code>.</p>
<p>You can specify when to consider the graph as <a class="reference external" href="https://en.wikipedia.org/wiki/Directed_graph">directed</a> or undirected.</p>
<p class="rubric">Signature Summary</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="n">pgr_dijkstra</span><span class="p">(</span><span class="n">Edges</span> <span class="k">SQL</span><span class="p">,</span> <span class="n">start_vid</span><span class="p">,</span>  <span class="n">end_vid</span>  <span class="p">[,</span> <span class="n">directed</span><span class="p">])</span>
<span class="n">pgr_dijkstra</span><span class="p">(</span><span class="n">Edges</span> <span class="k">SQL</span><span class="p">,</span> <span class="n">start_vid</span><span class="p">,</span>  <span class="n">end_vids</span> <span class="p">[,</span> <span class="n">directed</span><span class="p">])</span>
<span class="n">pgr_dijkstra</span><span class="p">(</span><span class="n">Edges</span> <span class="k">SQL</span><span class="p">,</span> <span class="n">start_vids</span><span class="p">,</span> <span class="n">end_vid</span>  <span class="p">[,</span> <span class="n">directed</span><span class="p">])</span>
<span class="n">pgr_dijkstra</span><span class="p">(</span><span class="n">Edges</span> <span class="k">SQL</span><span class="p">,</span> <span class="n">start_vids</span><span class="p">,</span> <span class="n">end_vids</span> <span class="p">[,</span> <span class="n">directed</span><span class="p">])</span>
<span class="n">pgr_dijkstra</span><span class="p">(</span><span class="n">Edges</span> <span class="k">SQL</span><span class="p">,</span> <span class="n">Combinations</span> <span class="k">SQL</span> <span class="p">[,</span> <span class="n">directed</span><span class="p">])</span>

<span class="k">RETURNS</span> <span class="k">SET</span> <span class="k">OF</span> <span class="p">(</span><span class="n">seq</span><span class="p">,</span> <span class="n">path_seq</span> <span class="p">[,</span> <span class="n">start_vid</span><span class="p">]</span> <span class="p">[,</span> <span class="n">end_vid</span><span class="p">],</span> <span class="n">node</span><span class="p">,</span> <span class="n">edge</span><span class="p">,</span> <span class="n">cost</span><span class="p">,</span> <span class="n">agg_cost</span><span class="p">)</span>
    <span class="k">OR</span> <span class="n">EMPTY</span> <span class="k">SET</span>
</pre></div>
</div>
<p>Description of the parameters can be found in <a class="reference external" href="https://docs.pgrouting.org/latest/en/pgr_dijkstra.html#description-of-the-signatures">pgr_dijkstra</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Many pgRouting functions have <code class="docutils literal notranslate"><span class="pre">sql::text</span></code> as one of their arguments. While
this may look confusing at first, it makes the functions very flexible as
the user can pass a <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> statement as function argument as long as
the returned result contains the required number of attributes and the
correct attribute names.</p></li>
<li><p>Most of pgRouting implemented algorithms do not require the <strong>geometry</strong>.</p></li>
<li><p>The pgRouting functions <strong>do not</strong> return a geometry, but only an ordered
list of nodes or edges.</p></li>
</ul>
</div>
<p class="rubric">Identifiers for the Queries</p>
<p>The assignment of the vertices identifiers on the source and target columns may
be different, the following exercises will use the results of this query.
For the workshop, some locations near of the FOSS4G Bucharest event are going to be used.
These locations are within this area <a class="reference external" href="https://www.openstreetmap.org/#map=14/44.4291/26.0854">https://www.openstreetmap.org/#map=14/44.4291/26.0854</a></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">192903446</span></code> Plaza Intendente Alvear</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4289340366</span></code> Hard Rock Café</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">2153015792</span></code> Facultad de Derecho</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">6357258588</span></code> Centro de Convenciones Buenos Aires</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">196017392</span></code> Palacio Duhau-Park Hyatt Buenos Aires</p></li>
</ul>
<p>Connect to the database, if not connected:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">psql</span> <span class="n">city_routing</span>
</pre></div>
</div>
<p>Get the vertex identifiers</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="k">SELECT</span> <span class="n">osm_id</span><span class="p">,</span> <span class="n">id</span> <span class="k">FROM</span> <span class="n">ways_vertices_pgr</span>
<span class="linenos">2</span><span class="k">WHERE</span> <span class="n">osm_id</span> <span class="k">IN</span> <span class="p">(</span><span class="mi">192903446</span><span class="p">,</span> <span class="mi">4289340366</span><span class="p">,</span> <span class="mi">2153015792</span><span class="p">,</span> <span class="mi">6357258588</span><span class="p">,</span> <span class="mi">196017392</span><span class="p">)</span>
<span class="linenos">3</span><span class="k">ORDER</span> <span class="k">BY</span> <span class="n">osm_id</span><span class="p">;</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span>   <span class="n">osm_id</span>   <span class="o">|</span>  <span class="nb">id</span>   
<span class="linenos">2</span><span class="o">------------+-------</span>
<span class="linenos">3</span>  <span class="mi">192903446</span> <span class="o">|</span>  <span class="mi">1993</span>
<span class="linenos">4</span>  <span class="mi">196017392</span> <span class="o">|</span>  <span class="mi">2197</span>
<span class="linenos">5</span> <span class="mi">2153015792</span> <span class="o">|</span>  <span class="mi">6646</span>
<span class="linenos">6</span> <span class="mi">4289340366</span> <span class="o">|</span>  <span class="mi">9129</span>
<span class="linenos">7</span> <span class="mi">6357258588</span> <span class="o">|</span> <span class="mi">15011</span>
<span class="linenos">8</span><span class="p">(</span><span class="mi">5</span> <span class="n">rows</span><span class="p">)</span>
<span class="linenos">9</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">192903446</span></code> Plaza Intendente Alvear  (<code class="docutils literal notranslate"><span class="pre">1993</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4289340366</span></code> Hard Rock Café  (<code class="docutils literal notranslate"><span class="pre">9129</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">2153015792</span></code> Facultad de Derecho  (<code class="docutils literal notranslate"><span class="pre">6646</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">6357258588</span></code> Centro de Convenciones Buenos Aires  (<code class="docutils literal notranslate"><span class="pre">15011</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">196017392</span></code> Palacio Duhau-Park Hyatt Buenos Aires  (<code class="docutils literal notranslate"><span class="pre">2197</span></code>)</p></li>
</ul>
<p>The corresponding <code class="code docutils literal notranslate"><span class="pre">id</span></code> are shown in the following image, and a sample route from
“Facultad de Derecho” to “Palacio Duhau-Park Hyatt Buenos Aires”.</p>
<a class="reference internal image-reference" href="../_images/route.png"><img alt="../_images/route.png" src="../_images/route.png" style="width: 240.0px; height: 135.25px;" /></a>
<section id="exercise-1-single-pedestrian-routing">
<h3><a class="toc-backref" href="#id3"><span class="section-number">2.1.1. </span>Exercise 1: Single pedestrian routing</a><a class="headerlink" href="#exercise-1-single-pedestrian-routing" title="Permalink to this headline">¶</a></h3>
<p class="rubric">Problem:</p>
<ul class="simple">
<li><p>Walking from “Plaza Intendente Alvear” to the “Facultad de Derecho”.</p></li>
</ul>
<a class="reference internal image-reference" href="../_images/pedestrian-route1.png"><img alt="From the |place_1| to the |place_3|" src="../_images/pedestrian-route1.png" style="width: 239.5px; height: 135.75px;" /></a>
<p class="rubric">Solution:</p>
<ul class="simple">
<li><p>The pedestrian wants to go from vertex <code class="docutils literal notranslate"><span class="pre">1993</span></code> to vertex <code class="docutils literal notranslate"><span class="pre">6646</span></code> (lines <strong>9</strong> and <strong>10</strong>).</p></li>
<li><p>The pedestrian’s cost is in terms of length. In this case <code class="docutils literal notranslate"><span class="pre">length</span></code> (line <strong>6</strong>), which
was calculated by osm2pgrouting, is in unit <code class="docutils literal notranslate"><span class="pre">degrees</span></code>.</p></li>
<li><p>From a pedestrian perspective the graph is <code class="docutils literal notranslate"><span class="pre">undirected</span></code> (line <strong>11</strong>), that is, the
pedestrian can move in both directions on all segments.</p></li>
</ul>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">pgr_dijkstra</span><span class="p">(</span>
<span class="linenos"> 2</span>    <span class="s1">&#39;</span>
<span class="hll"><span class="linenos"> 3</span><span class="s1">      SELECT gid AS id,</span>
</span><span class="hll"><span class="linenos"> 4</span><span class="s1">        source,</span>
</span><span class="hll"><span class="linenos"> 5</span><span class="s1">        target,</span>
</span><span class="hll"><span class="linenos"> 6</span><span class="s1">        length AS cost</span>
</span><span class="hll"><span class="linenos"> 7</span><span class="s1">      FROM ways</span>
</span><span class="linenos"> 8</span><span class="s1">    &#39;</span><span class="p">,</span>
<span class="linenos"> 9</span> <span class="mi">1993</span><span class="p">,</span>
<span class="linenos">10</span> <span class="mi">6646</span><span class="p">,</span>
<span class="linenos">11</span>    <span class="n">directed</span> <span class="p">:</span><span class="o">=</span> <span class="k">false</span><span class="p">);</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p><a class="reference internal" href="../appendix/appendix-1.html#query-results-for-chapter-5-exercise-1"><span class="std std-ref">Query results for chapter 5 exercise 1</span></a></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>The returned cost attribute represents the cost specified in the
inner SQL query (<code class="docutils literal notranslate"><span class="pre">edges_sql::text</span></code> argument). In this example cost is <code class="docutils literal notranslate"><span class="pre">length</span></code> in unit
“degrees”. Cost may be time, distance or any combination of both or any
other attributes or a custom formula.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">node</span></code> and <code class="docutils literal notranslate"><span class="pre">edge</span></code> results may vary depending on the assignment of the
identifiers to the vertices given by osm2pgrouting.</p></li>
</ul>
</div>
</section>
<section id="exercise-2-many-pedestrians-going-to-the-same-destination">
<h3><a class="toc-backref" href="#id4"><span class="section-number">2.1.2. </span>Exercise 2: Many Pedestrians going to the same destination</a><a class="headerlink" href="#exercise-2-many-pedestrians-going-to-the-same-destination" title="Permalink to this headline">¶</a></h3>
<p class="rubric">Problem:</p>
<ul class="simple">
<li><p>Walking from the “Plaza Intendente Alvear” and “Hard Rock Café” to the “Facultad de Derecho”.</p></li>
</ul>
<a class="reference internal image-reference" href="../_images/pedestrian-route2.png"><img alt="From |place_1| and |place_2| to |place_3|" src="../_images/pedestrian-route2.png" style="width: 239.75px; height: 135.5px;" /></a>
<p class="rubric">Solution:</p>
<ul class="simple">
<li><p>The pedestrians are departing at vertices <code class="docutils literal notranslate"><span class="pre">1993</span></code> and <code class="docutils literal notranslate"><span class="pre">9129</span></code> (line <strong>9</strong>).</p></li>
<li><p>All pedestrians want to go to vertex <code class="docutils literal notranslate"><span class="pre">6646</span></code> (line <strong>10</strong>).</p></li>
<li><p>The cost to be in meters using attribute <code class="docutils literal notranslate"><span class="pre">length_m</span></code> (line <strong>6</strong>).</p></li>
</ul>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">pgr_dijkstra</span><span class="p">(</span>
<span class="linenos"> 2</span>    <span class="s1">&#39;</span>
<span class="linenos"> 3</span><span class="s1">      SELECT gid AS id,</span>
<span class="linenos"> 4</span><span class="s1">        source,</span>
<span class="linenos"> 5</span><span class="s1">        target,</span>
<span class="linenos"> 6</span><span class="s1">        length_m AS cost</span>
<span class="linenos"> 7</span><span class="s1">      FROM ways</span>
<span class="linenos"> 8</span><span class="s1">    &#39;</span><span class="p">,</span>
<span class="hll"><span class="linenos"> 9</span><span class="nb">ARRAY</span><span class="p">[</span><span class="mi">1993</span><span class="p">,</span><span class="mi">9129</span><span class="p">],</span>
</span><span class="linenos">10</span><span class="mi">6646</span><span class="p">,</span>
<span class="linenos">11</span><span class="n">directed</span> <span class="p">:</span><span class="o">=</span> <span class="k">false</span><span class="p">);</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p><a class="reference internal" href="../appendix/appendix-1.html#query-results-for-chapter-5-exercise-2"><span class="std std-ref">Query results for chapter 5 exercise 2</span></a></p>
</section>
<section id="exercise-3-many-pedestrians-departing-from-the-same-location">
<h3><a class="toc-backref" href="#id5"><span class="section-number">2.1.3. </span>Exercise 3: Many Pedestrians departing from the same location</a><a class="headerlink" href="#exercise-3-many-pedestrians-departing-from-the-same-location" title="Permalink to this headline">¶</a></h3>
<p class="rubric">Problem:</p>
<ul class="simple">
<li><p>Walking from the “Facultad de Derecho” to the “Plaza Intendente Alvear” and “Hard Rock Café” (in seconds).</p></li>
</ul>
<a class="reference internal image-reference" href="../_images/pedestrian-route2.png"><img alt="From the hotels to/from the venue" src="../_images/pedestrian-route2.png" style="width: 239.75px; height: 135.5px;" /></a>
<p class="rubric">Solution:</p>
<ul class="simple">
<li><p>All pedestrians are departing from vertex <code class="docutils literal notranslate"><span class="pre">6646</span></code> (line <strong>9</strong>).</p></li>
<li><p>Pedestrians want to go to locations <code class="docutils literal notranslate"><span class="pre">1993</span></code> and <code class="docutils literal notranslate"><span class="pre">9129</span></code> (line <strong>10</strong>).</p></li>
<li><p>The cost to be in seconds, with a walking speed <code class="docutils literal notranslate"><span class="pre">s</span> <span class="pre">=</span> <span class="pre">1.3</span> <span class="pre">m/s</span></code> and <code class="docutils literal notranslate"><span class="pre">t</span> <span class="pre">=</span> <span class="pre">d/s</span></code> (line <strong>6</strong>).</p></li>
</ul>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">pgr_dijkstra</span><span class="p">(</span>
<span class="linenos"> 2</span>    <span class="s1">&#39;</span>
<span class="linenos"> 3</span><span class="s1">      SELECT gid AS id,</span>
<span class="linenos"> 4</span><span class="s1">        source,</span>
<span class="linenos"> 5</span><span class="s1">        target,</span>
<span class="linenos"> 6</span><span class="s1">        length_m / 1.3 AS cost</span>
<span class="linenos"> 7</span><span class="s1">      FROM ways</span>
<span class="linenos"> 8</span><span class="s1">    &#39;</span><span class="p">,</span>
<span class="linenos"> 9</span><span class="mi">6646</span><span class="p">,</span>
<span class="hll"><span class="linenos">10</span><span class="nb">ARRAY</span><span class="p">[</span><span class="mi">1993</span><span class="p">,</span><span class="mi">9129</span><span class="p">],</span>
</span><span class="linenos">11</span><span class="n">directed</span> <span class="p">:</span><span class="o">=</span> <span class="k">false</span><span class="p">);</span>
</pre></div>
</div>
<p><a class="reference internal" href="../appendix/appendix-1.html#query-results-for-chapter-5-exercise-3"><span class="std std-ref">Query results for chapter 5 exercise 3</span></a></p>
</section>
<section id="exercise-4-many-pedestrians-going-to-different-destinations">
<h3><a class="toc-backref" href="#id6"><span class="section-number">2.1.4. </span>Exercise 4: Many Pedestrians going to different destinations</a><a class="headerlink" href="#exercise-4-many-pedestrians-going-to-different-destinations" title="Permalink to this headline">¶</a></h3>
<p class="rubric">Problem:</p>
<ul class="simple">
<li><p>Walking from the hotels to the “Centro de Convenciones Buenos Aires” and “Palacio Duhau-Park Hyatt Buenos Aires” (in minutes).</p></li>
</ul>
<a class="reference internal image-reference" href="../_images/pedestrian-route4.png"><img alt="From the hotels to the |place_4| and |place_5|" src="../_images/pedestrian-route4.png" style="width: 239.0px; height: 134.75px;" /></a>
<p class="rubric">Solution:</p>
<ul class="simple">
<li><p>The pedestrians depart from <code class="docutils literal notranslate"><span class="pre">1993</span></code> and <code class="docutils literal notranslate"><span class="pre">9129</span></code> (line <strong>9</strong>).</p></li>
<li><p>The pedestrians want to go to destinations <code class="docutils literal notranslate"><span class="pre">15011</span></code> and <code class="docutils literal notranslate"><span class="pre">2197</span></code> (line <strong>10</strong>).</p></li>
<li><p>The cost to be in minutes, with a walking speed <code class="docutils literal notranslate"><span class="pre">s</span> <span class="pre">=</span> <span class="pre">1.3</span> <span class="pre">m/s</span></code> and <code class="docutils literal notranslate"><span class="pre">t</span> <span class="pre">=</span> <span class="pre">d/s</span></code> (line <strong>6</strong>).</p></li>
<li><p>Result adds the costs per destination.</p></li>
</ul>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">pgr_dijkstra</span><span class="p">(</span>
<span class="linenos"> 2</span>    <span class="s1">&#39;</span>
<span class="linenos"> 3</span><span class="s1">      SELECT gid AS id,</span>
<span class="linenos"> 4</span><span class="s1">       source,</span>
<span class="linenos"> 5</span><span class="s1">       target,</span>
<span class="linenos"> 6</span><span class="s1">       length_m / 1.3 / 60 AS cost</span>
<span class="linenos"> 7</span><span class="s1">      FROM ways</span>
<span class="linenos"> 8</span><span class="s1">    &#39;</span><span class="p">,</span>
<span class="hll"><span class="linenos"> 9</span><span class="nb">ARRAY</span><span class="p">[</span><span class="mi">1993</span><span class="p">,</span> <span class="mi">9129</span><span class="p">],</span>
</span><span class="hll"><span class="linenos">10</span><span class="nb">ARRAY</span><span class="p">[</span><span class="mi">15011</span><span class="p">,</span> <span class="mi">2197</span><span class="p">],</span>
</span><span class="linenos">11</span><span class="n">directed</span> <span class="p">:</span><span class="o">=</span> <span class="k">false</span><span class="p">);</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p><a class="reference internal" href="../appendix/appendix-1.html#query-results-for-chapter-5-exercise-4"><span class="std std-ref">Query results for chapter 5 exercise 4</span></a></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Inspecting the results, looking for totals (<cite>edge = -1</cite>):</p>
<ul class="simple">
<li><p>Going to vertex <code class="docutils literal notranslate"><span class="pre">15011</span></code>:</p>
<ul>
<li><p>from <code class="docutils literal notranslate"><span class="pre">1993</span></code> takes 6.67.. minutes (seq = 72)</p></li>
<li><p>from <code class="docutils literal notranslate"><span class="pre">9129</span></code> takes 6.92.. minutes (seq = 141)</p></li>
</ul>
</li>
<li><p>Going to to vertex <code class="docutils literal notranslate"><span class="pre">2197</span></code>:</p>
<ul>
<li><p>from <code class="docutils literal notranslate"><span class="pre">1993</span></code> takes 19.69.. minutes (seq = 43)</p></li>
<li><p>from <code class="docutils literal notranslate"><span class="pre">9129</span></code> takes 17.26.. minutes (seq = 122)</p></li>
</ul>
</li>
</ul>
</div>
</section>
</section>
<section id="pgr-dijkstracost">
<h2><a class="toc-backref" href="#id7"><span class="section-number">2.2. </span>pgr_dijkstraCost</a><a class="headerlink" href="#pgr-dijkstracost" title="Permalink to this headline">¶</a></h2>
<p>When the main goal is to calculate the total cost, without “inspecting” the <cite>pgr_dijkstra</cite> results,
using <code class="docutils literal notranslate"><span class="pre">pgr_dijkstraCost</span></code> returns a more compact result.</p>
<p class="rubric">Signature Summary</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>pgr_dijkstraCost(edges_sql, start_vid,  end_vid  [, directed])
pgr_dijkstraCost(edges_sql, start_vid,  end_vids [, directed])
pgr_dijkstraCost(edges_sql, start_vids, end_vid  [, directed])
pgr_dijkstraCost(edges_sql, start_vids, end_vids [, directed])
pgr_dijkstraCost(edges_sql, combinations_sql   [, directed])

RETURNS SET OF (start_vid, end_vid, agg_cost)
    OR EMPTY SET
</pre></div>
</div>
<p>Description of the parameters can be found in <a class="reference external" href="https://docs.pgrouting.org/latest/en/pgr_dijkstraCost.html#description-of-the-signatures">pgr_dijkstraCost</a></p>
<section id="exercise-5-many-pedestrians-going-to-different-destinations-returning-aggregate-costs">
<h3><a class="toc-backref" href="#id8"><span class="section-number">2.2.1. </span>Exercise 5: Many Pedestrians going to different destinations returning aggregate costs</a><a class="headerlink" href="#exercise-5-many-pedestrians-going-to-different-destinations-returning-aggregate-costs" title="Permalink to this headline">¶</a></h3>
<p class="rubric">Problem:</p>
<ul class="simple">
<li><p>Walking from the hotels to the “Centro de Convenciones Buenos Aires” or “Palacio Duhau-Park Hyatt Buenos Aires” (get only the cost in minutes).</p></li>
</ul>
<a class="reference internal image-reference" href="../_images/pedestrian-route5.png"><img alt="From the hotels to the |place_4| and |place_5|" src="../_images/pedestrian-route5.png" style="width: 259.5px; height: 133.75px;" /></a>
<p class="rubric">Solution:</p>
<ul class="simple">
<li><p>The pedestrians depart from <code class="docutils literal notranslate"><span class="pre">1993</span></code> and <code class="docutils literal notranslate"><span class="pre">9129</span></code> (line <strong>10</strong>).</p></li>
<li><p>The pedestrians want to go to destinations <code class="docutils literal notranslate"><span class="pre">15011</span></code> and <code class="docutils literal notranslate"><span class="pre">2197</span></code> (line <strong>11</strong>).</p></li>
<li><p>The cost to be in minutes, with a walking speed <code class="docutils literal notranslate"><span class="pre">s</span> <span class="pre">=</span> <span class="pre">1.3</span> <span class="pre">m/s</span></code> and <code class="docutils literal notranslate"><span class="pre">t</span> <span class="pre">=</span> <span class="pre">d/s</span></code> (line <strong>7</strong>).</p></li>
<li><p>Result as aggregated costs.</p></li>
</ul>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">SELECT</span> <span class="o">*</span>
<span class="hll"><span class="linenos"> 2</span><span class="k">FROM</span> <span class="n">pgr_dijkstraCost</span><span class="p">(</span>
</span><span class="linenos"> 3</span>    <span class="s1">&#39;</span>
<span class="linenos"> 4</span><span class="s1">      SELECT gid AS id,</span>
<span class="linenos"> 5</span><span class="s1">       source,</span>
<span class="linenos"> 6</span><span class="s1">       target,</span>
<span class="linenos"> 7</span><span class="s1">       length_m  / 1.3 / 60 AS cost</span>
<span class="linenos"> 8</span><span class="s1">      FROM ways</span>
<span class="linenos"> 9</span><span class="s1">    &#39;</span><span class="p">,</span>
<span class="linenos">10</span><span class="nb">ARRAY</span><span class="p">[</span><span class="mi">1993</span><span class="p">,</span> <span class="mi">9129</span><span class="p">],</span>
<span class="linenos">11</span><span class="nb">ARRAY</span><span class="p">[</span><span class="mi">15011</span><span class="p">,</span> <span class="mi">2197</span><span class="p">],</span>
<span class="linenos">12</span><span class="n">directed</span> <span class="p">:</span><span class="o">=</span> <span class="k">false</span><span class="p">);</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p><a class="reference internal" href="../appendix/appendix-1.html#query-results-for-chapter-5-exercise-5"><span class="std std-ref">Query results for chapter 5 exercise 5</span></a></p>
<p>Compare with <a class="reference internal" href="#exercise-4-many-pedestrians-going-to-different-destinations"><span class="std std-ref">Exercise 4</span></a> ‘s note.</p>
</section>
<section id="exercise-6-many-pedestrians-going-to-different-destinations-summarizing-the-total-costs-per-departure">
<h3><a class="toc-backref" href="#id9"><span class="section-number">2.2.2. </span>Exercise 6: Many Pedestrians going to different destinations summarizing the total costs per departure</a><a class="headerlink" href="#exercise-6-many-pedestrians-going-to-different-destinations-summarizing-the-total-costs-per-departure" title="Permalink to this headline">¶</a></h3>
<p class="rubric">Problem:</p>
<ul class="simple">
<li><p>Walking from the hotels to the “Centro de Convenciones Buenos Aires” or “Palacio Duhau-Park Hyatt Buenos Aires” (summarize cost in minutes).</p></li>
</ul>
<p class="rubric">Solution:</p>
<ul class="simple">
<li><p>The pedestrians depart from <code class="docutils literal notranslate"><span class="pre">1993</span></code> and <code class="docutils literal notranslate"><span class="pre">9129</span></code> (line <strong>10</strong>).</p></li>
<li><p>The pedestrians want to go to destinations <code class="docutils literal notranslate"><span class="pre">15011</span></code> and <code class="docutils literal notranslate"><span class="pre">2197</span></code> (line <strong>11</strong>).</p></li>
<li><p>The cost to be in minutes, with a walking speed s = 1.3 m/s and t = d/s (line <strong>7</strong>).</p></li>
<li><p>Result adds the costs per destination.</p></li>
</ul>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">SELECT</span> <span class="n">start_vid</span><span class="p">,</span> <span class="k">sum</span><span class="p">(</span><span class="n">agg_cost</span><span class="p">)</span>
<span class="linenos"> 2</span><span class="k">FROM</span> <span class="n">pgr_dijkstraCost</span><span class="p">(</span>
<span class="linenos"> 3</span>    <span class="s1">&#39;</span>
<span class="linenos"> 4</span><span class="s1">      SELECT gid AS id,</span>
<span class="linenos"> 5</span><span class="s1">        source,</span>
<span class="linenos"> 6</span><span class="s1">        target,</span>
<span class="linenos"> 7</span><span class="s1">        length_m  / 1.3 / 60 AS cost</span>
<span class="linenos"> 8</span><span class="s1">      FROM ways</span>
<span class="linenos"> 9</span><span class="s1">    &#39;</span><span class="p">,</span>
<span class="linenos">10</span>    <span class="nb">ARRAY</span><span class="p">[</span><span class="mi">1993</span><span class="p">,</span> <span class="mi">9129</span><span class="p">],</span>
<span class="linenos">11</span>    <span class="nb">ARRAY</span><span class="p">[</span><span class="mi">15011</span><span class="p">,</span> <span class="mi">2197</span><span class="p">],</span>
<span class="linenos">12</span>    <span class="n">directed</span> <span class="p">:</span><span class="o">=</span> <span class="k">false</span><span class="p">)</span>
<span class="hll"><span class="linenos">13</span><span class="k">GROUP</span> <span class="k">BY</span> <span class="n">start_vid</span>
</span><span class="hll"><span class="linenos">14</span><span class="k">ORDER</span> <span class="k">BY</span> <span class="n">start_vid</span><span class="p">;</span>
</span></pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p><a class="reference internal" href="../appendix/appendix-1.html#query-results-for-chapter-5-exercise-6"><span class="std std-ref">Query results for chapter 5 exercise 6</span></a></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>An interpretation of the result can be: In general, it is faster to depart from the “Hard Rock Café” than from the “Plaza Intendente Alvear”.</p>
</div>
</section>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2010-2021 Daniel Kastl, Vicky Vergara.<br/>
      Last updated on Sep 17, 2021.<br/>
    </p>
  </div>
</footer>
  </body>
</html>